// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var w,aa,da,ea,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,va,wa,ya,za,Aa,Ba,Da,F,Fa,Ga,Ha,Ia,Ja,H,Ka,Ma,Na,Oa,Pa,Sa,Xa,Za,$a,cb,db,kb,lb,mb,nb,ob,rb,sb,tb,ub,zb,Ab,Cb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,$b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,pc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc={},Mc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,k){this.set(a,b,c,k)}function c(){this.Mb=this.Lb=this.Ob=this.Nb=this.Wb=this.Vb=this.tb=this.sb=0}function b(a,b,c,k){a<b?c<k?(v=a<c?a:c,t=b>k?b:k):(v=a<k?a:k,t=b>c?b:c):c<k?(v=b<c?b:c,t=a>k?a:k):(v=b<k?b:k,t=a>c?a:c)}function d(){this.items=this.pf=null;this.Rj=0;D&&(this.pf=new Set);this.Ui=[];this.og=!0}function f(a){z[C++]=a}function g(){this.rb=this.Lm=this.y=this.F=0}function e(a){this.Ub=[];this.Uk=this.Wk=this.Xk=this.Vk=0;this.jl=null;this.sk(a)}function k(a,
b){this.Bn=a;this.An=b;this.cells={}}function h(a,b){this.Bn=a;this.An=b;this.cells={}}function m(a,b,c){var k;return E.length?(k=E.pop(),k.eo=a,k.x=b,k.y=c,k):new da(a,b,c)}function l(a,b,c){this.eo=a;this.x=b;this.y=c;this.Ac=new ea}function n(a,b,c){var k;return x.length?(k=x.pop(),k.eo=a,k.x=b,k.y=c,k):new ha(a,b,c)}function p(a,b,c){this.eo=a;this.x=b;this.y=c;this.Ac=[];this.vi=!0;this.mf=new ea;this.dj=!1}function q(a,b){return a.We-b.We}ia=function(a){window.console&&window.console.log&&window.console.log(a)};
ja=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};ka=function(a){return"undefined"===typeof a};la=function(a){return"number"===typeof a};ma=function(a){return"string"===typeof a};na=function(a){return 0<a&&0===(a-1&a)};oa=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};pa=function(a){return 0>a?-a:a};qa=function(a,b){return a>b?a:b};ra=function(a,b){return a<b?a:b};sa=Math.PI;ta=function(a){return 0<=a?a|0:(a|0)-1};va=function(a){var b=
a|0;return b===a?b:b+1};wa=function(a,b,c,k,h,l,d,e){var f,n,m,r;a<c?(n=a,f=c):(n=c,f=a);h<d?(r=h,m=d):(r=d,m=h);if(f<r||n>m)return!1;b<k?(n=b,f=k):(n=k,f=b);l<e?(r=l,m=e):(r=e,m=l);if(f<r||n>m)return!1;f=h-a+d-c;n=l-b+e-k;a=c-a;b=k-b;h=d-h;l=e-l;e=pa(b*h-l*a);return pa(h*n-l*f)>e?!1:pa(a*n-b*f)<=e};a.prototype.set=function(a,b,c,k){this.left=a;this.top=b;this.right=c;this.bottom=k};a.prototype.jj=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=
function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.rx=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.tx=
function(a,b,c){return!(a.right+b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.Tc=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.nj=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};ya=a;c.prototype.rk=function(a){this.sb=a.left;this.tb=a.top;this.Vb=a.right;this.Wb=a.top;this.Nb=a.right;this.Ob=a.bottom;this.Lb=a.left;this.Mb=a.bottom};c.prototype.dt=function(a,
b){if(0===b)this.rk(a);else{var c=Math.sin(b),k=Math.cos(b),h=a.left*c,l=a.top*c,d=a.right*c,c=a.bottom*c,e=a.left*k,f=a.top*k,n=a.right*k,k=a.bottom*k;this.sb=e-l;this.tb=f+h;this.Vb=n-l;this.Wb=f+d;this.Nb=n-c;this.Ob=k+d;this.Lb=e-c;this.Mb=k+h}};c.prototype.offset=function(a,b){this.sb+=a;this.tb+=b;this.Vb+=a;this.Wb+=b;this.Nb+=a;this.Ob+=b;this.Lb+=a;this.Mb+=b;return this};var v=0,t=0;c.prototype.Fq=function(a){b(this.sb,this.Vb,this.Nb,this.Lb);a.left=v;a.right=t;b(this.tb,this.Wb,this.Ob,
this.Mb);a.top=v;a.bottom=t};c.prototype.Tc=function(a,b){var c=this.sb,k=this.tb,h=this.Vb-c,l=this.Wb-k,d=this.Nb-c,e=this.Ob-k,f=a-c,n=b-k,m=h*h+l*l,r=h*d+l*e,l=h*f+l*n,g=d*d+e*e,q=d*f+e*n,p=1/(m*g-r*r),h=(g*l-r*q)*p,m=(m*q-r*l)*p;if(0<=h&&0<m&&1>h+m)return!0;h=this.Lb-c;l=this.Mb-k;m=h*h+l*l;r=h*d+l*e;l=h*f+l*n;p=1/(m*g-r*r);h=(g*l-r*q)*p;m=(m*q-r*l)*p;return 0<=h&&0<m&&1>h+m};c.prototype.mg=function(a,b){if(b)switch(a){case 0:return this.sb;case 1:return this.Vb;case 2:return this.Nb;case 3:return this.Lb;
case 4:return this.sb;default:return this.sb}else switch(a){case 0:return this.tb;case 1:return this.Wb;case 2:return this.Ob;case 3:return this.Mb;case 4:return this.tb;default:return this.tb}};c.prototype.Kg=function(){return(this.sb+this.Vb+this.Nb+this.Lb)/4};c.prototype.Lg=function(){return(this.tb+this.Wb+this.Ob+this.Mb)/4};c.prototype.Br=function(a){var b=a.Kg(),c=a.Lg();if(this.Tc(b,c))return!0;b=this.Kg();c=this.Lg();if(a.Tc(b,c))return!0;var k,h,l,d,e,f,n,m;for(n=0;4>n;n++)for(m=0;4>m;m++)if(b=
this.mg(n,!0),c=this.mg(n,!1),k=this.mg(n+1,!0),h=this.mg(n+1,!1),l=a.mg(m,!0),d=a.mg(m,!1),e=a.mg(m+1,!0),f=a.mg(m+1,!1),wa(b,c,k,h,l,d,e,f))return!0;return!1};za=c;Aa=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};Ba=function(a,b){var c,k;b=ta(b);if(!(0>b||b>=a.length)){c=b;for(k=a.length-1;c<k;c++)a[c]=a[c+1];Da(a,k)}};Da=function(a,b){a.length=b};F=function(a){Da(a,0)};Fa=function(a,b){F(a);var c,k;c=0;for(k=b.length;c<k;++c)a[c]=b[c]};Ga=function(a,b){a.push.apply(a,
b)};Ha=function(a,b){var c,k;c=0;for(k=a.length;c<k;++c)if(a[c]===b)return c;return-1};Ia=function(a,b){var c=Ha(a,b);-1!==c&&Ba(a,c)};Ja=function(a,b,c){return a<b?b:a>c?c:a};H=function(a){return a/(180/sa)};Ka=function(a){return 180/sa*a};Ma=function(a){a%=360;0>a&&(a+=360);return a};Na=function(a){a%=2*sa;0>a&&(a+=2*sa);return a};Oa=function(a){return Ma(Ka(a))};Pa=function(a){return Na(H(a))};Sa=function(a,b,c,k){return Math.atan2(k-b,c-a)};Xa=function(a,b){if(a===b)return 0;var c=Math.sin(a),
k=Math.cos(a),h=Math.sin(b),l=Math.cos(b),c=c*h+k*l;return 1<=c?0:-1>=c?sa:Math.acos(c)};Za=function(a,b,c){var k=Math.sin(a),h=Math.cos(a),l=Math.sin(b),d=Math.cos(b);return Math.acos(k*l+h*d)>c?0<h*l-k*d?Na(a+c):Na(a-c):Na(b)};$a=function(a,b){var c=Math.sin(a),k=Math.cos(a),h=Math.sin(b),l=Math.cos(b);return 0>=k*h-c*l};cb=function(a,b,c,k){a=c-a;b=k-b;return Math.sqrt(a*a+b*b)};db=function(a,b){return!a!==!b};kb=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};lb=function(a){for(var b in a)a.hasOwnProperty(b)&&
delete a[b]};var u=+new Date;mb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-u};var r=!1,y=r=!1,B=!1;"undefined"!==typeof window&&(r=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),r=!r&&/safari/i.test(navigator.userAgent),
y=/(iphone|ipod|ipad)/i.test(navigator.userAgent),B=window.c2ejecta);var D=!r&&!B&&!y&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.Gf()?!1:D?this.pf.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(D)this.pf.has(a)||(this.pf.add(a),this.og=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.Rj++,this.og=!1):(this.items={},this.items[b]=a,this.Rj=1,this.og=!1)}};d.prototype.remove=
function(a){if(!this.Gf())if(D)this.pf.has(a)&&(this.pf["delete"](a),this.og=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Rj--,this.og=!1)}};d.prototype.clear=function(){this.Gf()||(D?this.pf.clear():(this.items=null,this.Rj=0),F(this.Ui),this.og=!0)};d.prototype.Gf=function(){return 0===this.count()};d.prototype.count=function(){return D?this.pf.size:this.Rj};var z=null,C=0;d.prototype.Yy=function(){if(!this.og){if(D)F(this.Ui),z=this.Ui,C=0,this.pf.forEach(f),
z=null,C=0;else{var a=this.Ui;F(a);var b,c=0,k=this.items;if(k)for(b in k)k.hasOwnProperty(b)&&(a[c++]=k[b])}this.og=!0}};d.prototype.Ve=function(){this.Yy();return this.Ui};ea=d;new ea;nb=function(a,b){D?ob(a,b.pf):rb(a,b.Ve())};ob=function(a,b){var c,k,h,l;k=c=0;for(h=a.length;c<h;++c)l=a[c],b.has(l)||(a[k++]=l);Da(a,k)};rb=function(a,b){var c,k,h,l;k=c=0;for(h=a.length;c<h;++c)l=a[c],-1===Ha(b,l)&&(a[k++]=l);Da(a,k)};g.prototype.add=function(a){this.y=a-this.F;this.Lm=this.rb+this.y;this.F=this.Lm-
this.rb-this.y;this.rb=this.Lm};g.prototype.reset=function(){this.rb=this.Lm=this.y=this.F=0};sb=g;tb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.sk=function(a){this.Ls=a;this.Yd=a.length/2;this.Ub.length=a.length;this.al=this.bl=-1;this.Iq=0};e.prototype.Bh=function(){return!this.Ls.length};e.prototype.Oa=function(){for(var a=this.Ub,b=a[0],c=b,k=a[1],h=k,l,d,e=1,f=this.Yd;e<f;++e)d=2*e,l=a[d],d=a[d+1],l<b&&(b=l),l>c&&(c=l),d<k&&(k=d),d>h&&(h=d);this.Vk=b;this.Wk=
c;this.Xk=k;this.Uk=h};e.prototype.rk=function(a,b,c){this.Ub.length=8;this.Yd=4;var k=this.Ub;k[0]=a.left-b;k[1]=a.top-c;k[2]=a.right-b;k[3]=a.top-c;k[4]=a.right-b;k[5]=a.bottom-c;k[6]=a.left-b;k[7]=a.bottom-c;this.bl=a.right-a.left;this.al=a.bottom-a.top;this.Oa()};e.prototype.Oi=function(a,b,c,k,h){this.Ub.length=8;this.Yd=4;var l=this.Ub;l[0]=a.sb-b;l[1]=a.tb-c;l[2]=a.Vb-b;l[3]=a.Wb-c;l[4]=a.Nb-b;l[5]=a.Ob-c;l[6]=a.Lb-b;l[7]=a.Mb-c;this.bl=k;this.al=h;this.Oa()};e.prototype.ct=function(a){this.Yd=
a.Yd;Fa(this.Ub,a.Ub);this.Vk=a.Vk;this.Xk-a.Xk;this.Wk=a.Wk;this.Uk=a.Uk};e.prototype.ih=function(a,b,c){if(this.bl!==a||this.al!==b||this.Iq!==c){this.bl=a;this.al=b;this.Iq=c;var k,h,l,d,e,f=0,n=1,m=this.Ls,r=this.Ub;0!==c&&(f=Math.sin(c),n=Math.cos(c));c=0;for(l=this.Yd;c<l;c++)k=2*c,h=k+1,d=m[k]*a,e=m[h]*b,r[k]=d*n-e*f,r[h]=e*n+d*f;this.Oa()}};e.prototype.Tc=function(a,b){var c=this.Ub;if(a===c[0]&&b===c[1])return!0;var k,h,l,d=this.Yd,e=this.Vk-110,f=this.Xk-101,n=this.Wk+131,m=this.Uk+120,
r,g,q=0,p=0;for(k=0;k<d;k++)h=2*k,l=(k+1)%d*2,r=c[h],h=c[h+1],g=c[l],l=c[l+1],wa(e,f,a,b,r,h,g,l)&&q++,wa(n,m,a,b,r,h,g,l)&&p++;return 1===q%2||1===p%2};e.prototype.Ij=function(a,b,c){var k=a.Ub,h=this.Ub;if(this.Tc(k[0]+b,k[1]+c)||a.Tc(h[0]-b,h[1]-c))return!0;var l,d,e,f,n,m,r,g,q,p,y,t;l=0;for(f=this.Yd;l<f;l++)for(d=2*l,e=(l+1)%f*2,g=h[d],d=h[d+1],q=h[e],p=h[e+1],e=0,r=a.Yd;e<r;e++)if(n=2*e,m=(e+1)%r*2,y=k[n]+b,n=k[n+1]+c,t=k[m]+b,m=k[m+1]+c,wa(g,d,q,p,y,n,t,m))return!0;return!1};ub=e;k.prototype.Ag=
function(a,b,c){var k;k=this.cells[a];return k?(k=k[b])?k:c?(k=m(this,a,b),this.cells[a][b]=k):null:c?(k=m(this,a,b),this.cells[a]={},this.cells[a][b]=k):null};k.prototype.fd=function(a){return ta(a/this.Bn)};k.prototype.gd=function(a){return ta(a/this.An)};k.prototype.update=function(a,b,c){var k,h,l,d,e;if(b)for(k=b.left,h=b.right;k<=h;++k)for(l=b.top,d=b.bottom;l<=d;++l)if(!c||!c.Tc(k,l))if(e=this.Ag(k,l,!1))e.remove(a),e.Gf()&&(e.Ac.clear(),1E3>E.length&&E.push(e),this.cells[k][l]=null);if(c)for(k=
c.left,h=c.right;k<=h;++k)for(l=c.top,d=c.bottom;l<=d;++l)b&&b.Tc(k,l)||this.Ag(k,l,!0).oo(a)};k.prototype.vm=function(a,b){var c,k,h,l,d,e;c=this.fd(a.left);h=this.gd(a.top);k=this.fd(a.right);for(d=this.gd(a.bottom);c<=k;++c)for(l=h;l<=d;++l)(e=this.Ag(c,l,!1))&&e.dump(b)};zb=k;h.prototype.Ag=function(a,b,c){var k;k=this.cells[a];return k?(k=k[b])?k:c?(k=n(this,a,b),this.cells[a][b]=k):null:c?(k=n(this,a,b),this.cells[a]={},this.cells[a][b]=k):null};h.prototype.fd=function(a){return ta(a/this.Bn)};
h.prototype.gd=function(a){return ta(a/this.An)};h.prototype.update=function(a,b,c){var k,l,h,d,e;if(b)for(k=b.left,l=b.right;k<=l;++k)for(h=b.top,d=b.bottom;h<=d;++h)if(!c||!c.Tc(k,h))if(e=this.Ag(k,h,!1))e.remove(a),e.Gf()&&(e.reset(),1E3>x.length&&x.push(e),this.cells[k][h]=null);if(c)for(k=c.left,l=c.right;k<=l;++k)for(h=c.top,d=c.bottom;h<=d;++h)b&&b.Tc(k,h)||this.Ag(k,h,!0).oo(a)};h.prototype.vm=function(a,b,c,k,h){var l,d;a=this.fd(a);b=this.gd(b);c=this.fd(c);for(l=this.gd(k);a<=c;++a)for(k=
b;k<=l;++k)(d=this.Ag(a,k,!1))&&d.dump(h)};h.prototype.Qx=function(a){var b,c,k,h,l;b=a.left;k=a.top;c=a.right;for(h=a.bottom;b<=c;++b)for(a=k;a<=h;++a)if(l=this.Ag(b,a,!1))l.vi=!1};Ab=h;var E=[];l.prototype.Gf=function(){return this.Ac.Gf()};l.prototype.oo=function(a){this.Ac.add(a)};l.prototype.remove=function(a){this.Ac.remove(a)};l.prototype.dump=function(a){Ga(a,this.Ac.Ve())};da=l;var x=[];p.prototype.Gf=function(){if(!this.Ac.length)return!0;if(this.Ac.length>this.mf.count())return!1;this.Qn();
return!0};p.prototype.oo=function(a){this.mf.contains(a)?(this.mf.remove(a),this.mf.Gf()&&(this.dj=!1)):this.Ac.length?(this.Ac[this.Ac.length-1].jf()>a.jf()&&(this.vi=!1),this.Ac.push(a)):(this.Ac.push(a),this.vi=!0)};p.prototype.remove=function(a){this.mf.add(a);this.dj=!0;30<=this.mf.count()&&this.Qn()};p.prototype.Qn=function(){this.dj&&(this.mf.count()===this.Ac.length?this.reset():(nb(this.Ac,this.mf),this.mf.clear(),this.dj=!1))};p.prototype.Rv=function(){this.vi||(this.Ac.sort(q),this.vi=
!0)};p.prototype.reset=function(){F(this.Ac);this.vi=!0;this.mf.clear();this.dj=!1};p.prototype.dump=function(a){this.Qn();this.Rv();this.Ac.length&&a.push(this.Ac)};ha=p;var A="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Cb=function(a){return 0>=a||11<=a?"source-over":A[a-1]};Ib=function(a,b,c){if(c)switch(a.Qc=c.ONE,a.Mc=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.Qc=c.ONE;a.Mc=c.ONE;break;case 3:a.Qc=c.ONE;a.Mc=c.ZERO;break;
case 4:a.Qc=c.ONE_MINUS_DST_ALPHA;a.Mc=c.ONE;break;case 5:a.Qc=c.DST_ALPHA;a.Mc=c.ZERO;break;case 6:a.Qc=c.ZERO;a.Mc=c.SRC_ALPHA;break;case 7:a.Qc=c.ONE_MINUS_DST_ALPHA;a.Mc=c.ZERO;break;case 8:a.Qc=c.ZERO;a.Mc=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Qc=c.DST_ALPHA;a.Mc=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Qc=c.ONE_MINUS_DST_ALPHA,a.Mc=c.SRC_ALPHA}};Jb=function(a){return Math.round(1E6*a)/1E6};Kb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===
b.toLowerCase()};Lb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Kb(a.tagName,"canvas")?!0:!1}})();var Nc="undefined"!==typeof Float32Array?Float32Array:Array;function Oc(a){var c=new Nc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function Zc(a){var c=new Nc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function $c(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function ad(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function bd(a,c,b,d){d||(d=Zc());var f,g,e,k,h,m,l,n,p=a[0],q=a[1];a=a[2];g=b[0];e=b[1];f=b[2];b=c[1];m=c[2];p===c[0]&&q===b&&a===m?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=p-c[0],m=q-c[1],l=a-c[2],n=1/Math.sqrt(b*b+m*m+l*l),b*=n,m*=n,l*=n,c=e*l-f*m,f=f*b-g*l,g=g*m-e*b,(n=Math.sqrt(c*c+f*f+g*g))?(n=1/n,c*=n,f*=n,g*=n):g=f=c=0,e=m*g-l*f,k=l*c-b*g,h=b*f-m*c,(n=Math.sqrt(e*e+k*k+h*h))?(n=1/n,e*=n,k*=n,h*=n):h=k=e=0,
d[0]=c,d[1]=e,d[2]=b,d[3]=0,d[4]=f,d[5]=k,d[6]=m,d[7]=0,d[8]=g,d[9]=h,d[10]=l,d[11]=0,d[12]=-(c*p+f*q+g*a),d[13]=-(e*p+k*q+h*a),d[14]=-(b*p+m*q+l*a),d[15]=1)}
(function(){function a(a,b,c){this.Dg=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.ob=!!c;this.Fl=this.Jj=!1;this.Hn=0;this.dn=1;this.Up=1E3;this.gz=(this.Up-this.dn)/32768;this.yn=Oc([0,0,100]);this.Rr=Oc([0,0,0]);this.At=Oc([0,1,0]);this.Hk=Oc([1,1,1]);this.Xq=!0;this.am=Zc();this.Vd=Zc();this.Eo=Zc();this.Gn=Zc();this.fa=a;this.version=0===this.fa.getParameter(this.fa.VERSION).indexOf("WebGL 2")?2:1;this.ur()}function c(a,b,c){this.fa=a;
this.tk=b;this.name=c;this.le=a.getAttribLocation(b,"aPos");this.Ig=a.getAttribLocation(b,"aTex");this.Pr=a.getUniformLocation(b,"matP");this.Wl=a.getUniformLocation(b,"matMV");this.Ei=a.getUniformLocation(b,"opacity");this.Oo=a.getUniformLocation(b,"colorFill");this.Qr=a.getUniformLocation(b,"samplerFront");this.Xj=a.getUniformLocation(b,"samplerBack");this.Kh=a.getUniformLocation(b,"destStart");this.Jh=a.getUniformLocation(b,"destEnd");this.Zj=a.getUniformLocation(b,"seconds");this.Qo=a.getUniformLocation(b,
"pixelWidth");this.Po=a.getUniformLocation(b,"pixelHeight");this.Wj=a.getUniformLocation(b,"layerScale");this.Vj=a.getUniformLocation(b,"layerAngle");this.$j=a.getUniformLocation(b,"viewOrigin");this.Yj=a.getUniformLocation(b,"scrollPos");this.jx=!!(this.Qo||this.Po||this.Zj||this.Xj||this.Kh||this.Jh||this.Wj||this.Vj||this.$j||this.Yj);this.Zr=this.$r=-999;this.$l=1;this.Vr=this.Ur=0;this.Xr=this.Tr=this.Sr=1;this.cs=this.bs=this.as=this.es=this.ds=this.Wr=0;this.Co=[];this.Yr=Zc();this.Ei&&a.uniform1f(this.Ei,
1);this.Oo&&a.uniform4f(this.Oo,1,1,1,1);this.Qr&&a.uniform1i(this.Qr,0);this.Xj&&a.uniform1i(this.Xj,1);this.Kh&&a.uniform2f(this.Kh,0,0);this.Jh&&a.uniform2f(this.Jh,1,1);this.Wj&&a.uniform1f(this.Wj,1);this.Vj&&a.uniform1f(this.Vj,0);this.$j&&a.uniform2f(this.$j,0,0);this.Yj&&a.uniform2f(this.Yj,0,0);this.Zj&&a.uniform1f(this.Zj,0);this.vh=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&
a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function d(a,b){this.type=a;this.aa=b;this.fa=b.fa;this.kf=this.cd=this.As=0;this.Fa=this.ue=null;this.et=[]}var f=Zc();a.prototype.ur=function(){var a=this.fa,b;this.Kr=1;this.Ch=this.Fg=null;this.ml=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.ob?(a.enable(a.DEPTH_TEST),
a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Lr=a.ONE;this.Jr=a.ONE_MINUS_SRC_ALPHA;this.an=new Float32Array(8E3*(this.ob?3:2));this.Nm=new Float32Array(16E3);this.Gs=new Float32Array(32E3);this.gp=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.gp);a.bufferData(a.ARRAY_BUFFER,this.Gs.byteLength,a.DYNAMIC_DRAW);this.Gk=Array(4);this.yk=Array(4);for(b=0;4>b;b++)this.Gk[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Gk[b]),a.bufferData(a.ARRAY_BUFFER,this.an.byteLength,a.DYNAMIC_DRAW),
this.yk[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.yk[b]),a.bufferData(a.ARRAY_BUFFER,this.Nm.byteLength,a.DYNAMIC_DRAW);this.yf=0;this.nx=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.nx);for(var c=new Uint16Array(12E3),l=b=0;12E3>b;)c[b++]=l,c[b++]=l+1,c[b++]=l+2,c[b++]=l,c[b++]=l+2,c[b++]=l+3,l+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.hp=this.Ri=this.ag=0;this.Jb=[];b=this.ob?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.kj({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Jb.push(c);c=this.kj({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Jb.push(c);c=this.kj({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Jb.push(c);c=this.kj({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Jb.push(c);for(var d in cd)cd.hasOwnProperty(d)&&this.Jb.push(this.kj(cd[d],b,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.ng=[];this.wf=0;this.Nc=!1;this.Sq=this.Tj=-1;this.mi=null;this.Pn=a.createFramebuffer();this.ol=this.wm=null;this.Cq=!1;this.ob&&(this.ol=a.createRenderbuffer());this.Xg=Oc([0,0,0]);this.hs=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.hs&&(this.hs=2048);this.vd(0)};c.prototype.Pp=function(a){b(this.Yr,a)||($c(a,this.Yr),this.fa.uniformMatrix4fv(this.Wl,
!1,a))};a.prototype.kj=function(a,b,d){var l=this.fa,e=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(e,a.src);l.compileShader(e);if(!l.getShaderParameter(e,l.COMPILE_STATUS))return l.deleteShader(e),null;var f=l.createShader(l.VERTEX_SHADER);l.shaderSource(f,b);l.compileShader(f);if(!l.getShaderParameter(f,l.COMPILE_STATUS))return l.deleteShader(e),l.deleteShader(f),null;b=l.createProgram();l.attachShader(b,e);l.attachShader(b,f);l.linkProgram(b);if(!l.getProgramParameter(b,l.LINK_STATUS))return l.deleteShader(e),
l.deleteShader(f),l.deleteProgram(b),null;l.useProgram(b);l.deleteShader(e);l.deleteShader(f);d=new c(l,b,d);d.Nn=a.Nn||0;d.On=a.On||0;d.Qq=!!a.Qq;d.Me=!!a.Me;d.Aq=!!a.Aq;d.Ga=a.Ga||[];a=0;for(e=d.Ga.length;a<e;a++)d.Ga[a][1]=l.getUniformLocation(b,d.Ga[a][0]),d.Co.push(0),l.uniform1f(d.Ga[a][1],0);return d};a.prototype.$n=function(a){var b,c;b=0;for(c=this.Jb.length;b<c;b++)if(this.Jb[b].name===a)return b;return-1};a.prototype.Ks=function(a,b,c){var l=this.Vd,d=this.am,e=[0,0,0,0,0,0,0,0];e[0]=l[0]*
a+l[4]*b+l[12];e[1]=l[1]*a+l[5]*b+l[13];e[2]=l[2]*a+l[6]*b+l[14];e[3]=l[3]*a+l[7]*b+l[15];e[4]=d[0]*e[0]+d[4]*e[1]+d[8]*e[2]+d[12]*e[3];e[5]=d[1]*e[0]+d[5]*e[1]+d[9]*e[2]+d[13]*e[3];e[6]=d[2]*e[0]+d[6]*e[1]+d[10]*e[2]+d[14]*e[3];e[7]=-e[2];0!==e[7]&&(e[7]=1/e[7],e[4]*=e[7],e[5]*=e[7],e[6]*=e[7],c[0]=(.5*e[4]+.5)*this.width,c[1]=(.5*e[5]+.5)*this.height)};a.prototype.Uh=function(a,b,c){if(this.width!==a||this.height!==b||c){this.xg();c=this.fa;this.width=a;this.height=b;c.viewport(0,0,a,b);bd(this.yn,
this.Rr,this.At,this.Vd);if(this.ob){var l=-a/2;a=a/2;var d=b/2;b=-b/2;var e=this.dn,f=this.Up,g=this.am;g||(g=Zc());var t=a-l,u=b-d,r=f-e;g[0]=2/t;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/u;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/r;g[11]=0;g[12]=-(l+a)/t;g[13]=-(b+d)/u;g[14]=-(f+e)/r;g[15]=1;this.Hk[0]=1;this.Hk[1]=1}else b=a/b,l=this.dn,a=this.Up,g=this.am,f=l*Math.tan(45*Math.PI/360),b*=f,d=-b,e=-f,g||(g=Zc()),t=b-d,u=f-e,r=a-l,g[0]=2*l/t,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*l/u,g[6]=0,g[7]=0,g[8]=(b+d)/
t,g[9]=(f+e)/u,g[10]=-(a+l)/r,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(a*l*2)/r,g[15]=0,l=[0,0],a=[0,0],this.Ks(0,0,l),this.Ks(1,1,a),this.Hk[0]=1/(a[0]-l[0]),this.Hk[1]=-1/(a[1]-l[1]);l=0;for(a=this.Jb.length;l<a;l++)d=this.Jb[l],d.vh=!1,d.Pr&&(c.useProgram(d.tk),c.uniformMatrix4fv(d.Pr,!1,this.am));c.useProgram(this.Jb[this.Tj].tk);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.Ch=this.Fg=null;this.ol&&(c.bindFramebuffer(c.FRAMEBUFFER,
this.Pn),c.bindRenderbuffer(c.RENDERBUFFER,this.ol),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.Cq||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.ol),this.Cq=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.wm=null)}};a.prototype.qe=function(){bd(this.yn,this.Rr,this.At,this.Vd);ad(this.Vd,this.Hk)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Xg[0]=a;this.Xg[1]=b;this.Xg[2]=
0;var c=this.Vd,l=this.Xg,d=l[0],e=l[1],l=l[2];c[12]=c[0]*d+c[4]*e+c[8]*l+c[12];c[13]=c[1]*d+c[5]*e+c[9]*l+c[13];c[14]=c[2]*d+c[6]*e+c[10]*l+c[14];c[15]=c[3]*d+c[7]*e+c[11]*l+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Xg[0]=a,this.Xg[1]=b,this.Xg[2]=1,ad(this.Vd,this.Xg)};a.prototype.zm=function(a){if(0!==a){var b=this.Vd,c,l=Math.sin(a);a=Math.cos(a);var d=b[0],e=b[1],f=b[2],g=b[3],t=b[4],u=b[5],r=b[6],y=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=
b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=d*a+t*l;c[1]=e*a+u*l;c[2]=f*a+r*l;c[3]=g*a+y*l;c[4]=d*-l+t*a;c[5]=e*-l+u*a;c[6]=f*-l+r*a;c[7]=g*-l+y*a}};a.prototype.$d=function(){if(!b(this.Eo,this.Vd)){var a=this.Jd();a.type=5;a.Fa?$c(this.Vd,a.Fa):a.Fa=Zc(this.Vd);$c(this.Vd,this.Eo);this.Nc=!1}};a.prototype.Dm=function(a){this.ob&&(32760<a&&(a=32760),this.Hn=this.yn[2]-this.dn-a*this.gz)};d.prototype.Bv=function(){var a=this.fa,b=this.aa;0!==this.cd?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,b.Pn),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Fl=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Fl=!1)};d.prototype.Fv=function(){this.fa.bindTexture(this.fa.TEXTURE_2D,this.ue)};d.prototype.Gv=function(){var a=this.fa;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.ue);a.activeTexture(a.TEXTURE0)};d.prototype.Cv=function(){var a=
this.As,b=this.aa;b.ml=a;b=b.mi;b.Ei&&b.$l!==a&&(b.$l=a,this.fa.uniform1f(b.Ei,a))};d.prototype.wv=function(){this.fa.drawElements(this.fa.TRIANGLES,this.kf,this.fa.UNSIGNED_SHORT,this.cd)};d.prototype.yv=function(){this.fa.blendFunc(this.cd,this.kf)};d.prototype.Hv=function(){var a,b,c,d=this.aa.Jb,e=this.aa.Sq;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.Wl?(c.Pp(this.Fa),c.vh=!0):c.vh=!1;$c(this.Fa,this.aa.Gn)};d.prototype.xv=function(){var a=this.fa,b=this.aa;this.ue?(b.Ch===this.ue&&(a.activeTexture(a.TEXTURE1),
a.bindTexture(a.TEXTURE_2D,null),b.Ch=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.Pn),b.Fl||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.ue,0)):(b.ob||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.qv=function(){var a=this.fa,b=this.cd;0===b?(a.clearColor(this.Fa[0],this.Fa[1],this.Fa[2],this.Fa[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.Fa[0],
this.Fa[1],this.Fa[2],this.Fa[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.Av=function(){var a=this.fa;0!==this.cd?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.vv=function(){var a=this.fa,b=this.aa;b.ob&&a.disable(a.DEPTH_TEST);var c=b.Jb[1];a.useProgram(c.tk);!c.vh&&c.Wl&&(c.Pp(b.Gn),c.vh=!0);a.enableVertexAttribArray(c.le);a.bindBuffer(a.ARRAY_BUFFER,b.gp);a.vertexAttribPointer(c.le,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,
this.cd/4,this.kf);c=b.mi;a.useProgram(c.tk);0<=c.le&&(a.enableVertexAttribArray(c.le),a.bindBuffer(a.ARRAY_BUFFER,b.Gk[b.yf]),a.vertexAttribPointer(c.le,b.ob?3:2,a.FLOAT,!1,0,0));0<=c.Ig&&(a.enableVertexAttribArray(c.Ig),a.bindBuffer(a.ARRAY_BUFFER,b.yk[b.yf]),a.vertexAttribPointer(c.Ig,2,a.FLOAT,!1,0,0));b.ob&&a.enable(a.DEPTH_TEST)};d.prototype.Dv=function(){var a=this.fa,b=this.aa,c=b.Jb[this.cd];b.Sq=this.cd;b.mi=c;a.useProgram(c.tk);!c.vh&&c.Wl&&(c.Pp(b.Gn),c.vh=!0);c.Ei&&c.$l!==b.ml&&(c.$l=
b.ml,a.uniform1f(c.Ei,b.ml));0<=c.le&&(a.enableVertexAttribArray(c.le),a.bindBuffer(a.ARRAY_BUFFER,b.Gk[b.yf]),a.vertexAttribPointer(c.le,b.ob?3:2,a.FLOAT,!1,0,0));0<=c.Ig&&(a.enableVertexAttribArray(c.Ig),a.bindBuffer(a.ARRAY_BUFFER,b.yk[b.yf]),a.vertexAttribPointer(c.Ig,2,a.FLOAT,!1,0,0))};d.prototype.zv=function(){var a=this.Fa;this.fa.uniform4f(this.aa.mi.Oo,a[0],a[1],a[2],a[3])};d.prototype.Ev=function(){var a,b,c=this.aa.mi,d=this.fa;a=this.Fa;c.Xj&&this.aa.Ch!==this.ue&&(d.activeTexture(d.TEXTURE1),
d.bindTexture(d.TEXTURE_2D,this.ue),this.aa.Ch=this.ue,d.activeTexture(d.TEXTURE0));var e=a[0];c.Qo&&e!==c.$r&&(c.$r=e,d.uniform1f(c.Qo,e));e=a[1];c.Po&&e!==c.Zr&&(c.Zr=e,d.uniform1f(c.Po,e));e=a[2];b=a[3];!c.Kh||e===c.Ur&&b===c.Vr||(c.Ur=e,c.Vr=b,d.uniform2f(c.Kh,e,b));e=a[4];b=a[5];!c.Jh||e===c.Sr&&b===c.Tr||(c.Sr=e,c.Tr=b,d.uniform2f(c.Jh,e,b));e=a[6];c.Wj&&e!==c.Xr&&(c.Xr=e,d.uniform1f(c.Wj,e));e=a[7];c.Vj&&e!==c.Wr&&(c.Wr=e,d.uniform1f(c.Vj,e));e=a[8];b=a[9];!c.$j||e===c.ds&&b===c.es||(c.ds=
e,c.es=b,d.uniform2f(c.$j,e,b));e=a[10];b=a[11];!c.Yj||e===c.as&&b===c.bs||(c.as=e,c.bs=b,d.uniform2f(c.Yj,e,b));e=a[12];c.Zj&&e!==c.cs&&(c.cs=e,d.uniform1f(c.Zj,e));if(c.Ga.length)for(a=0,b=c.Ga.length;a<b;a++)e=this.et[a],e!==c.Co[a]&&(c.Co[a]=e,d.uniform1f(c.Ga[a][1],e))};a.prototype.Jd=function(){this.wf===this.ng.length&&this.ng.push(new d(0,this));return this.ng[this.wf++]};a.prototype.xg=function(){if(0!==this.wf&&!this.fa.isContextLost()){var a=this.fa;0<this.hp&&(a.bindBuffer(a.ARRAY_BUFFER,
this.gp),a.bufferSubData(a.ARRAY_BUFFER,0,this.Gs.subarray(0,this.hp)),b&&0<=b.le&&"<point>"===b.name&&a.vertexAttribPointer(b.le,4,a.FLOAT,!1,0,0));if(0<this.ag){var b=this.mi;a.bindBuffer(a.ARRAY_BUFFER,this.Gk[this.yf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.an.subarray(0,this.ag));b&&0<=b.le&&"<point>"!==b.name&&a.vertexAttribPointer(b.le,this.ob?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.yk[this.yf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Nm.subarray(0,this.Ri));b&&0<=b.Ig&&"<point>"!==
b.name&&a.vertexAttribPointer(b.Ig,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.wf;a<b;a++)switch(c=this.ng[a],c.type){case 1:c.wv();break;case 2:c.Fv();break;case 3:c.Cv();break;case 4:c.yv();break;case 5:c.Hv();break;case 6:c.xv();break;case 7:c.qv();break;case 8:c.vv();break;case 9:c.Dv();break;case 10:c.Ev();break;case 11:c.Gv();break;case 12:c.zv();break;case 13:c.Av();break;case 14:c.Bv()}this.hp=this.Ri=this.ag=this.wf=0;this.Fl=this.Nc=!1;this.yf++;4<=this.yf&&(this.yf=0)}};a.prototype.Vg=function(a){if(a!==
this.Kr&&!this.Jj){var b=this.Jd();b.type=3;this.Kr=b.As=a;this.Nc=!1}};a.prototype.ud=function(a){if(a!==this.Fg){var b=this.Jd();b.type=2;this.Fg=b.ue=a;this.Nc=!1}};a.prototype.Ug=function(a,b){if((a!==this.Lr||b!==this.Jr)&&!this.Jj){var c=this.Jd();c.type=4;c.cd=a;c.kf=b;this.Lr=a;this.Jr=b;this.Nc=!1}};a.prototype.Ws=function(){this.Ug(this.fa.ONE,this.fa.ONE_MINUS_SRC_ALPHA)};a.prototype.ok=function(a,b,c,d,e,f,g,v){15992<=this.ag&&this.xg();var t=this.ag,u=this.Ri,r=this.an,y=this.Nm,B=this.Hn;
if(this.Nc)this.ng[this.wf-1].kf+=6;else{var D=this.Jd();D.type=1;D.cd=this.ob?t:t/2*3;D.kf=6;this.Nc=!0}this.ob?(r[t++]=a,r[t++]=b,r[t++]=B,r[t++]=c,r[t++]=d,r[t++]=B,r[t++]=e,r[t++]=f,r[t++]=B,r[t++]=g,r[t++]=v,r[t++]=B):(r[t++]=a,r[t++]=b,r[t++]=c,r[t++]=d,r[t++]=e,r[t++]=f,r[t++]=g,r[t++]=v);y[u++]=0;y[u++]=0;y[u++]=1;y[u++]=0;y[u++]=1;y[u++]=1;y[u++]=0;y[u++]=1;this.ag=t;this.Ri=u};a.prototype.Oe=function(a,b,c,d,e,f,g,v,t){15992<=this.ag&&this.xg();var u=this.ag,r=this.Ri,y=this.an,B=this.Nm,
D=this.Hn;if(this.Nc)this.ng[this.wf-1].kf+=6;else{var z=this.Jd();z.type=1;z.cd=this.ob?u:u/2*3;z.kf=6;this.Nc=!0}var z=t.left,C=t.top,E=t.right;t=t.bottom;this.ob?(y[u++]=a,y[u++]=b,y[u++]=D,y[u++]=c,y[u++]=d,y[u++]=D,y[u++]=e,y[u++]=f,y[u++]=D,y[u++]=g,y[u++]=v,y[u++]=D):(y[u++]=a,y[u++]=b,y[u++]=c,y[u++]=d,y[u++]=e,y[u++]=f,y[u++]=g,y[u++]=v);B[r++]=z;B[r++]=C;B[r++]=E;B[r++]=C;B[r++]=E;B[r++]=t;B[r++]=z;B[r++]=t;this.ag=u;this.Ri=r};a.prototype.vd=function(a){if(this.Tj!==a){if(!this.Jb[a]){if(0===
this.Tj)return;a=0}var b=this.Jd();b.type=9;this.Tj=b.cd=a;this.Nc=!1}};a.prototype.kk=function(a){a=this.Jb[a];return!(!a.Kh&&!a.Jh)};a.prototype.kp=function(a){a=this.Jb[a];return!!(a.Kh||a.Jh||a.Qq)};a.prototype.jp=function(a){return this.Jb[a].Me};a.prototype.qy=function(a){a=this.Jb[a];return 0!==a.Nn||0!==a.On};a.prototype.Nw=function(a){return this.Jb[a].Nn};a.prototype.Ow=function(a){return this.Jb[a].On};a.prototype.Pw=function(a,b){return this.Jb[a].Ga[b][2]};a.prototype.rm=function(a){return this.Jb[a].Aq};
a.prototype.Mi=function(a,b,c,d,e,f,g,v,t,u,r,y,B,D,z){var C=this.Jb[this.Tj],E,x;if(C.jx||z.length){E=this.Jd();E.type=10;E.Fa?$c(this.Vd,E.Fa):E.Fa=Zc();x=E.Fa;x[0]=b;x[1]=c;x[2]=d;x[3]=e;x[4]=f;x[5]=g;x[6]=v;x[7]=t;x[8]=u;x[9]=r;x[10]=y;x[11]=B;x[12]=D;C.Xj?E.ue=a:E.ue=null;if(z.length)for(c=E.et,c.length=z.length,a=0,b=z.length;a<b;a++)c[a]=z[a];this.Nc=!1}};a.prototype.clear=function(a,b,c,d){var e=this.Jd();e.type=7;e.cd=0;e.Fa||(e.Fa=Zc());e.Fa[0]=a;e.Fa[1]=b;e.Fa[2]=c;e.Fa[3]=d;this.Nc=!1};
a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.Jd();e.type=7;e.cd=1;e.Fa||(e.Fa=Zc());e.Fa[0]=a;e.Fa[1]=b;e.Fa[2]=c;e.Fa[3]=d;this.Nc=!1}};a.prototype.Zs=function(a){if(this.ob&&(a=!!a,this.Jj!==a)){var b=this.Jd();b.type=14;b.cd=a?1:0;this.Nc=!1;this.Jj=a;this.wm=null;this.Jj?this.vd(2):this.vd(0)}};a.prototype.Ys=function(a){if(this.ob){var b=this.Jd();b.type=13;b.cd=a?1:0;this.Nc=!1}};a.prototype.er=function(){$c(this.Eo,f);this.qe();this.$d();var a=this.width/2,b=this.height/
2;this.ok(-a,b,a,b,a,-b,-a,-b);$c(f,this.Vd);this.$d()};a.prototype.Xs=function(a,b,c){this.vd(3);var d=this.Jd();d.type=12;d.Fa||(d.Fa=Zc());d.Fa[0]=a;d.Fa[1]=b;d.Fa[2]=c;d.Fa[3]=1;this.Nc=!1};a.prototype.Jy=function(){this.vd(0)};a.prototype.Ay=function(){this.vd(2)};a.prototype.ny=function(){this.xg();this.fa.flush()};var g=[],e={};a.prototype.iv=function(){F(g);e={}};a.prototype.Di=function(a,b,c,d){b=!!b;c=!!c;var f=a.src+","+b+","+c+(b?",undefined":""),p=null;if("undefined"!==typeof a.src&&
e.hasOwnProperty(f))return p=e[f],p.$k++,p;this.xg();var q=this.fa,v=na(a.width)&&na(a.height),p=q.createTexture();q.bindTexture(q.TEXTURE_2D,p);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var t=q.RGBA,u=q.RGBA,r=q.UNSIGNED_BYTE;if(d&&!this.Dg)switch(d){case 1:u=t=q.RGB;break;case 2:r=q.UNSIGNED_SHORT_4_4_4_4;break;case 3:r=q.UNSIGNED_SHORT_5_5_5_1;break;case 4:u=t=q.RGB,r=q.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!v&&b){d=document.createElement("canvas");d.width=oa(a.width);d.height=oa(a.height);
var y=d.getContext("2d");"undefined"!==typeof y.imageSmoothingEnabled?y.imageSmoothingEnabled=c:(y.webkitImageSmoothingEnabled=c,y.mozImageSmoothingEnabled=c,y.msImageSmoothingEnabled=c);y.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);q.texImage2D(q.TEXTURE_2D,0,t,u,r,d)}else q.texImage2D(q.TEXTURE_2D,0,t,u,r,a);b?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.REPEAT),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.REPEAT)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),
q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE));c?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.LINEAR),(v||2<=this.version)&&this.Xq?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR_MIPMAP_LINEAR),q.generateMipmap(q.TEXTURE_2D)):q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST));q.bindTexture(q.TEXTURE_2D,null);this.Fg=null;p.hh=a.width;
p.gh=a.height;p.$k=1;p.Hq=f;g.push(p);return e[f]=p};a.prototype.Rd=function(a,b,c,d){this.xg();var e=this.fa;this.Dg&&(d=!1);var f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.Fg=null;f.hh=a;f.gh=b;g.push(f);return f};a.prototype.cz=function(a,b,c){this.xg();var d=this.fa;this.Dg&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.Fg=null};a.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.$k&&1<a.$k?a.$k--:(this.xg(),a===this.Fg&&(this.fa.bindTexture(this.fa.TEXTURE_2D,null),this.Fg=null),a===this.Ch&&(this.fa.activeTexture(this.fa.TEXTURE1),this.fa.bindTexture(this.fa.TEXTURE_2D,null),this.fa.activeTexture(this.fa.TEXTURE0),this.Ch=null),Ia(g,a),"undefined"!==typeof a.Hq&&delete e[a.Hq],this.fa.deleteTexture(a)))};a.prototype.se=function(a){if(a!==this.wm){var b=this.Jd();b.type=6;this.wm=b.ue=a;this.Nc=!1}};Mb=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.ke=(this.to=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Cg=!!a.dc;this.zx="undefined"!==typeof window.AppMobi||
this.Cg;this.je=!!window.c2cocoonjs;this.Ie=!!window.c2ejecta;this.je&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Ie&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Zb=this.Cg||this.je||this.Ie;this.Gl=
/edge\//i.test(navigator.userAgent);this.Dg=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Gl;this.Er=/tizen/i.test(navigator.userAgent);this.ro=/android/i.test(navigator.userAgent)&&!this.Er&&!this.Dg&&!this.Gl;this.Ir=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Dg&&!this.Gl;this.Hx=/ipad/i.test(navigator.userAgent);this.Pj=this.Ir||this.Hx||this.Ie;this.so=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Dg&&!this.Gl;this.yx=/amazonwebappplatform/i.test(navigator.userAgent);this.Bx=/firefox/i.test(navigator.userAgent);this.zh="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Gr=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Gx=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.si=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Il=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Fr=!!window.cr_windows10;this.Ex=this.Gr||this.Gx||this.Il||this.Fr;this.Ax=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Cr=this.ro&&!this.so&&!this.to&&!this.Bx&&!this.yx&&!this.Zb;this.devicePixelRatio=1;this.Hf=this.ke||this.to||this.zx||this.je||this.ro||this.Pj||this.si||this.Il||this.Ax||this.Er||this.Ie;this.Hf||
(this.Hf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.yo=!!(this.Pj&&this.ke&&window.webkit);this.jo=null;this.kx="";this.yo&&(this.jo=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.zh||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.zh=!0);this.canvas=a;this.Jq=document.getElementById("c2canvasdiv");
this.aa=this.fa=null;this.co="(unavailable)";this.ob=!1;this.nh=0;this.zb=null;this.Sn="";this.ul=!1;this.us=this.vs=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Cg&&(window.c2runtime=this);this.zh&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.Cr&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.ra=this.width;this.qa=this.height;this.kl=this.width;this.mj=this.height;this.Ai=window.innerWidth;this.yi=window.innerHeight;this.Ya=!0;this.Mj=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.ea=[];this.Cb=[];this.Ko={};this.Ke=[];this.Mn={};this.Cf=[];this.Wi=[];this.Xm=[];this.Uu=[];this.Vu=[];this.jt=null;this.jh={};this.vo=
this.Bg=!1;this.Je=0;this.uo=this.xo=!1;this.Ee=[];this.Kj=!1;this.Tl=this.zp="";this.qc=null;this.Kf="";this.wk=this.ht=!1;this.tl=[];this.mh=this.Ba=0;this.ks=30;this.En=this.ak=0;this.Yh=1;this.Ed=new sb;this.bn=new sb;this.em=this.yl=this.qh=this.Md=this.Eh=this.Rn=this.Ol=0;this.hj=null;this.ql=[];this.Ln=[];this.rl=-1;this.Ro=[[]];this.Lp=this.Xl=0;this.um(null);this.So=[];this.Zl=-1;this.qs=this.ck=0;this.Jo=!0;this.qj=0;this.Km=[];this.Ip=this.np=-1;this.Qj=!0;this.Vl=0;this.Lj=!1;this.Ny=
0;this.gj=null;this.nc=this.Cl=!1;this.ts=new ea;this.Yo=new ea;this.Zo=new ea;this.pk=[];this.Se=new ub([]);this.Gp=new ub([]);this.gi=[];this.ri={};this.sg={};this.kg={};this.Vi={};this.Eq={};this.Or=this.Sl=this.$b=this.oc=this.Nr=this.Rl=this.bb=null;this.Ti=this.zo=!1;this.Tn=[null,null];this.rh=0;this.Of={};this.uk=this.Gg=null;this.it="";this.dm=[];this.zy()}}function c(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function b(){try{return!!window.indexedDB}catch(a){return!1}}function d(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function f(a,b,c,e){try{var l=indexedDB.open("_C2SaveStates");l.onupgradeneeded=d;l.onerror=e;l.onsuccess=function(d){d=d.target.result;d.onerror=e;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}catch(f){e(f)}}function g(a,b,c){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=c;e.onsuccess=function(d){d=d.target.result;d.onerror=c;var e=d.transaction(["saves"]).objectStore("saves").get(a);e.onsuccess=function(){e.result?
b(e.result.data):b(null)}}}catch(l){c(l)}}function e(){ia("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function k(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ea||a[b]&&"undefined"!==typeof a[b].df||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.zy=function(){var a=this;if(this.yo){var b=function(){a.Aw(function(b){a.Uj(JSON.parse(b))},function(){alert("Error fetching data.js")})};this.jo?this.jo.startServer({port:0,localhost_only:!0},function(c){a.kx=c;b()},function(a){console.log("Error starting local server: "+a+". Video playback will not work.");b()}):(console.log("Local server unavailable. Video playback will not work."),b())}else{var c;this.si?c=new ActiveXObject("Microsoft.XMLHTTP"):
c=new XMLHttpRequest;var d="data.js";if(this.Gr||this.si||this.Il||this.Fr)d="data.json";c.open("GET",d,!0);var e=!1;if(!this.Zb&&"response"in c&&"responseType"in c)try{c.responseType="json",e="json"===c.responseType}catch(l){e=!1}if(!e&&"responseType"in c)try{c.responseType="text"}catch(f){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(h){}this.si?c.onreadystatechange=function(){4===c.readyState&&a.Uj(JSON.parse(c.responseText))}:(c.onload=function(){if(e)a.Uj(c.response);
else if(a.Ie){var b=c.responseText,b=b.substr(b.indexOf("{"));a.Uj(JSON.parse(b))}else a.Uj(JSON.parse(c.responseText))},c.onerror=function(a){ja("Error requesting "+d+":");ja(a)});c.send()}};a.prototype.qx=function(){var a=this,b,c,d,e,l,f,h,k,g;this.Ah=(!this.Zb||this.Ie||this.ke)&&this.$y&&!this.Cr;0===this.Uc&&this.Pj&&(this.Ah=!1);this.devicePixelRatio=this.Ah?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Kc();0<this.Uc&&
this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.Vx();ia("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.aa.ur();a.aa.Uh(a.aa.width,a.aa.height,!0);a.oc=null;a.$b=null;a.Tn[0]=null;a.Tn[1]=null;a.Wx();a.Ya=!0;ia("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.Pv&&(this.je||this.Ie||!this.Zb)&&(b=
{alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.fa=this.canvas.getContext("webgl2",b)||this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(r){}if(this.fa){if(b=this.fa.getExtension("WEBGL_debug_renderer_info"))this.co=this.fa.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.fa.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.ob&&(this.co+=" [front-to-back enabled]");this.Zb||(this.Hc=document.createElement("canvas"),
jQuery(this.Hc).appendTo(this.canvas.parentNode),this.Hc.oncontextmenu=function(){return!1},this.Hc.onselectstart=function(){return!1},this.Hc.width=Math.round(this.kl*this.devicePixelRatio),this.Hc.height=Math.round(this.mj*this.devicePixelRatio),jQuery(this.Hc).css({width:this.kl+"px",height:this.mj+"px"}),this.Hs(),this.fp=this.Hc.getContext("2d"));this.aa=new Mb(this.fa,this.Hf,this.ob);this.aa.Uh(this.canvas.width,this.canvas.height);this.aa.Xq=0!==this.Iv;this.zb=null;b=0;for(c=this.ea.length;b<
c;b++)for(l=this.ea[b],d=0,e=l.xa.length;d<e;d++)h=l.xa[d],h.ec=this.aa.$n(h.id),h.Me=this.aa.jp(h.ec),this.Ti=this.Ti||this.aa.kk(h.ec);b=0;for(c=this.Ke.length;b<c;b++){k=this.Ke[b];d=0;for(e=k.xa.length;d<e;d++)h=k.xa[d],h.ec=this.aa.$n(h.id),h.Me=this.aa.jp(h.ec);k.Ue();d=0;for(e=k.Aa.length;d<e;d++){g=k.Aa[d];l=0;for(f=g.xa.length;l<f;l++)h=g.xa[l],h.ec=this.aa.$n(h.id),h.Me=this.aa.jp(h.ec),this.Ti=this.Ti||this.aa.kk(h.ec);g.Ue()}}}else{if(0<this.Uc&&this.Cg){this.canvas=null;document.oncontextmenu=
function(){return!1};document.onselectstart=function(){return!1};this.zb=AppMobi.canvas.getContext("2d");try{this.zb.samplingMode=this.qb?"smooth":"sharp",this.zb.globalScale=1,this.zb.HTML5CompatibilityMode=!0,this.zb.imageSmoothingEnabled=this.qb}catch(n){}0!==this.width&&0!==this.height&&(this.zb.width=this.width,this.zb.height=this.height)}this.zb||(this.je?(b={antialias:!!this.qb,alpha:!0},this.zb=this.canvas.getContext("2d",b)):(b={alpha:!0},this.zb=this.canvas.getContext("2d",b)),this.Cm(this.zb,
this.qb));this.fp=this.Hc=null}this.pt=function(b){a.ve(!1,b)};window==window.top||this.Zb||this.Ex||this.si||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.je&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ia("Reloading for continuous preview"),this.Tl="__c2_continuouspreview",this.wk=!0),this.fy&&
!this.Hf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var b=window.parent;b&&b.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Th()});this.Zb||(b=function(a){if(Lb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?
document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Uc&&this.Ah&&1<this.devicePixelRatio&&this.setSize(this.tc,this.rc,!0);this.xt();this.gx();this.go();this.ca={}};a.prototype.setSize=function(a,b,c){var d=0,e=0,l=0,f=0,f=0;if(this.Ai!==a||this.yi!==b||c){this.Ai=a;this.yi=b;var h=this.Uc,k=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Lj)&&!this.ke;
if(k||0!==this.Uc||c)k&&0<this.rh&&(h=this.rh),c=this.devicePixelRatio,4<=h?(l=this.tc/this.rc,a/b>l?(l*=b,5===h?(f=l*c/this.tc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.tc*f/c,f=this.rc*f/c,d=(a-l)/2,e=(b-f)/2,a=l,b=f):(d=(a-l)/2,a=l)):(f=a/l,5===h?(f=f*c/this.rc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.tc*f/c,f=this.rc*f/c,d=(a-l)/2,e=(b-f)/2,a=l):e=(b-f)/2,b=f),k&&!this.zh&&(e=d=0)):this.zh&&this.Lj&&0===this.gr&&(d=Math.floor((a-this.tc)/2),e=Math.floor((b-this.rc)/2),a=
this.tc,b=this.rc),2>h&&(this.fj=c),this.kl=Math.round(a),this.mj=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.Ya=!0,this.It?(this.ra=this.width,this.qa=this.height,this.Sd=!0):this.width<this.tc&&this.height<this.rc||1===h?(this.ra=this.width,this.qa=this.height,this.Sd=!0):(this.ra=this.tc,this.qa=this.rc,this.Sd=!1,2===h?(l=this.tc/this.rc,h=this.Ai/this.yi,h<l?this.ra=this.qa*h:h>l&&(this.qa=this.ra/h)):3===h&&(l=this.tc/this.rc,h=this.Ai/this.yi,h>l?this.ra=this.qa*
h:h<l&&(this.qa=this.ra/h))),this.Jq&&!this.Zb&&(jQuery(this.Jq).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(e)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.Ie?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(e)+"px",this.canvas.style.width=
Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.Ah&&!this.Zb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.Hc&&(this.Hc.width=Math.round(a*c),this.Hc.height=Math.round(b*c),this.Hc.style.width=this.kl+"px",this.Hc.style.height=this.mj+"px"),this.aa&&this.aa.Uh(Math.round(a*c),Math.round(b*c)),this.Cg&&this.zb&&(this.zb.width=Math.round(a),this.zb.height=Math.round(b)),this.zb&&this.Cm(this.zb,this.qb),this.xt(),this.Ir&&!this.ke&&
window.scrollTo(0,0)}};a.prototype.xt=function(){if(this.Zu&&0!==this.ep){var a="portrait";2===this.ep&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",
b)}}};a.prototype.Vx=function(){this.aa.iv();this.zo=!0;var a,b,c;a=0;for(b=this.ea.length;a<b;a++)c=this.ea[a],c.gk&&c.gk()};a.prototype.Wx=function(){this.zo=!1;var a,b,c;a=0;for(b=this.ea.length;a<b;a++)c=this.ea[a],c.gm&&c.gm()};a.prototype.Hs=function(){if(!this.Zb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Lj)&&!this.ke?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Hc).css(a)}};
var m=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.Mj)for(ia("[Construct 2] Suspending"),this.Mj=!0,-1!==this.np&&m&&m(this.np),-1!==this.Ip&&clearTimeout(this.Ip),a=0,b=this.Km.length;a<b;a++)this.Km[a](!0);else if(!a&&this.Mj){ia("[Construct 2] Resuming");this.Mj=!1;this.Ol=mb();this.Eh=mb();a=this.ak=this.yl=0;for(b=this.Km.length;a<
b;a++)this.Km[a](!1);this.ve(!1)}};a.prototype.hg=function(a){return this.dm[a]};a.prototype.Uj=function(a){a&&a.project||ja("Project model unavailable");a=a.project;this.name=a[0];this.dr=a[1];this.Uc=a[12];this.gr=a[12];this.tc=a[10];this.rc=a[11];this.Bs=this.tc/2;this.Cs=this.rc/2;this.Zb&&!this.Ie&&(4<=a[12]||0===a[12])&&(ia("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.gr=this.Uc=3);this.Rp=a[18];this.Hg=a[19];if(0===
this.Hg){var b=new Image;b.crossOrigin="anonymous";this.$s(b,"loading-logo.png");this.Gg={Yl:b}}else if(4===this.Hg){b=new Image;b.src="";var c=new Image;c.src="";var d=new Image;d.src="";var e=new Image;e.src="";var l=new Image;l.src="";var f=new Image;f.src="";var h=new Image;h.src="";var k=new Image;k.src="";var g=new Image;g.src="";var r=new Image;r.src="";var n=new Image;n.src="";var q=new Image;q.src="";this.Gg={Yl:[b,c,d,e],jy:[l,f,h,k],dz:[g,r,n,q]}}this.ck=a[21];this.dm=dd();this.qf=new X(this);
b=0;for(c=a[2].length;b<c;b++)h=a[2][b],d=this.hg(h[0]),Nb(h,d.prototype),k=new d(this),k.Gm=h[1],k.Eg=h[2],k.mA=h[5],k.ns=h[9],k.Ca&&k.Ca(),this.plugins.push(k);this.dm=dd();b=0;for(c=a[3].length;b<c;b++){h=a[3][b];l=this.hg(h[1]);k=null;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof l){k=this.plugins[d];break}g=new k.lb(k);g.name=h[0];g.la=h[2];g.po=h[3].slice(0);g.bz=h[3].length;g.$u=h[4];g.Dw=h[5];g.Na=h[11];g.la?(g.Oh=[],g.Df=this.qj++,g.Ab=null):(g.Oh=null,g.Df=-1,g.Ab=[]);
g.sl=null;g.oi=null;g.Yq=null;g.nd=!1;g.Ad=null;h[6]?(g.Om=h[6][0],g.Hp=h[6][1],g.zk=h[6][2]):(g.Om=null,g.Hp=0,g.zk=0);h[7]?g.yd=h[7]:g.yd=null;g.index=b;g.D=[];g.nl=[];g.Vf=[new Ob(g)];g.ff=0;g.ge=null;g.nv=0;g.Qi=!0;g.Zm=Pb;g.lr=Qb;g.Mw=Rb;g.Ma=Sb;g.mk=Tb;g.nk=Ub;g.Qg=Vb;g.zl=Wb;g.Un=Xb;g.Xn=Yb;g.Be=$b;g.Yn=ac;g.hl=new zb(this.tc,this.rc);g.Rk=!0;g.Sk=!1;g.ca={};g.toString=bc;g.Cb=[];d=0;for(e=h[8].length;d<e;d++){r=h[8][d];n=this.hg(r[1]);q=null;l=0;for(f=this.Cb.length;l<f;l++)if(this.Cb[l]instanceof
n){q=this.Cb[l];break}q||(q=new n(this),q.Xo=[],q.cm=new ea,q.Ca&&q.Ca(),this.Cb.push(q),Mc.My&&q instanceof Mc.My&&(this.jt=q));-1===q.Xo.indexOf(g)&&q.Xo.push(g);l=new q.lb(q,g);l.name=r[0];l.Na=r[2];l.Ca();g.Cb.push(l)}g.global=h[9];g.wo=h[10];g.xa=[];d=0;for(e=h[12].length;d<e;d++)g.xa.push({id:h[12][d][0],name:h[12][d][1],ec:-1,Me:!1,hd:!0,index:d});g.AA=h[13];this.Rp&&!g.la&&!g.wo&&k.Eg||g.Ca();g.name&&(this.types[g.name]=g);this.ea.push(g);k.Gm&&(d=new k.ab(g),d.uid=this.ck++,d.Ms=this.qs++,
d.wh=0,d.Dj=cc,d.toString=dc,d.ba=h[14],d.Ca(),g.D.push(d),this.Of[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(l=a[4][b],f=this.ea[l[0]],d=1,e=l.length;d<e;d++)h=this.ea[l[d]],h.Ab.push(f),f.Oh.push(h);b=0;for(c=a[28].length;b<c;b++){l=a[28][b];f=[];d=0;for(e=l.length;d<e;d++)f.push(this.ea[l[d]]);d=0;for(e=f.length;d<e;d++)f[d].nd=!0,f[d].Ad=f}if(0<this.qj)for(b=0,c=this.ea.length;b<c;b++)if(h=this.ea[b],!h.la&&h.Ab.length){h.sl=Array(this.qj);h.oi=Array(this.qj);h.Yq=Array(this.qj);g=
[];d=q=n=r=0;for(e=h.Ab.length;d<e;d++)for(k=h.Ab[d],h.sl[k.Df]=r,r+=k.bz,h.oi[k.Df]=n,n+=k.$u,h.Yq[k.Df]=q,q+=k.Dw,l=0,f=k.xa.length;l<f;l++)g.push(Aa({},k.xa[l]));h.xa=g.concat(h.xa);d=0;for(e=h.xa.length;d<e;d++)h.xa[d].index=d}b=0;for(c=a[5].length;b<c;b++)h=a[5][b],d=new ec(this,h),this.Ko[d.name]=d,this.Ke.push(d);b=0;for(c=a[6].length;b<c;b++)h=a[6][b],d=new fc(this,h),this.Mn[d.name]=d,this.Cf.push(d);b=0;for(c=this.Cf.length;b<c;b++)this.Cf[b].Tb();b=0;for(c=this.Cf.length;b<c;b++)this.Cf[b].Op();
b=0;for(c=this.Xm.length;b<c;b++)this.Xm[b].Tb();F(this.Xm);this.Yu=a[7];this.Xd=a[9];this.fj=1;this.Pv=a[13];this.qb=a[14];this.Lq=a[15];this.$y=a[17];this.ep=a[20];this.Zu=0<this.ep;this.fy=a[22];this.Sd=this.It=a[23];this.Iv=a[24];this.ky=a[25];this.ob=a[27]&&!this.Dg;this.Hm=Date.now();F(this.dm);this.qx()};var l=!1;a.prototype.Tp=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){l=a.Gq=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.Ie?a.src=b:a.src||
("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){l=a.Gq=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.$s(a,b)));this.Wi.push(a)};a.prototype.Cw=function(a){var b,c;b=0;for(c=this.Wi.length;b<c;b++)if(this.Wi[b].kv===a)return this.Wi[b];return null};var n=0,p=!1;a.prototype.gx=function(){this.gj&&(n=this.gj.xA(this.Yu))};a.prototype.Bq=function(){var a=n,b=0,c=0,d=!0,e,l,c=0;for(e=
this.Wi.length;c<e;c++){l=this.Wi[c];var f=l.Oq;if(!f||0>=f)f=5E4;a+=f;l.src&&(l.complete||l.loaded)&&!l.Gq?b+=f:d=!1}d&&this.ky&&this.gj&&(p||(this.gj.yA(),p=!0),c=this.gj.kA(),b+=c,c<n&&(d=!1));this.Ne=0==a?1:b/a;return d};var q=!1;a.prototype.go=function(){if(this.zb||this.aa){var a=this.zb||this.fp;this.Hc&&this.Hs();var b=window.innerWidth,c=window.innerHeight;this.Ai===b&&this.yi===c||this.setSize(b,c);this.Ne=0;this.Mr=-1;var d=this;if(this.Bq()&&(4!==this.Hg||q))this.hx();else{c=Date.now()-
this.Hm;if(a){var e=this.width,f=this.height,b=this.devicePixelRatio;if(3>this.Hg&&(this.je||500<=c&&this.Mr!=this.Ne)){a.clearRect(0,0,e,f);var c=e/2,f=f/2,e=0===this.Hg&&this.Gg.Yl.complete,g=40*b,k=0,r=80*b,n;if(e){var m=this.Gg.Yl,r=m.width*b;n=m.height*b;g=r/2;k=n/2;a.drawImage(m,ta(c-g),ta(f-k),r,n)}1>=this.Hg?(c=ta(c-g)+.5,f=ta(f+(k+(e?12*b:0)))+.5,a.fillStyle=l?"red":"DodgerBlue",a.fillRect(c,f,Math.floor(r*this.Ne),6*b),a.strokeStyle="black",a.strokeRect(c,f,r,6*b),a.strokeStyle="white",
a.strokeRect(c-1*b,f-1*b,r+2*b,8*b)):2===this.Hg&&(a.font=this.Ie?"12pt ArialMT":"12pt Arial",a.fillStyle=l?"#f00":"#999",a.zA="middle",b=Math.round(100*this.Ne)+"%",e=a.measureText?a.measureText(b):null,a.fillText(b,c-(e?e.width:0)/2,f));this.Mr=this.Ne}else if(4===this.Hg){this.Nv(a);h?h(function(){d.go()}):setTimeout(function(){d.go()},16);return}}setTimeout(function(){d.go()},this.je?10:100)}}};var v=-1,t="undefined"===typeof cr_is_preview?200:0,u=!0,r=!1,y=0,B=0,D="undefined"===typeof cr_is_preview?
3E3:0,z=null,C=null,E=0;a.prototype.Nv=function(a){if(!q){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),e=this.Gg.Yl,f=this.Gg.jy,h=this.Gg.dz,g=0;4>g;++g)if(!e[g].complete||!f[g].complete||!h[g].complete)return;0===E&&(v=Date.now());var g=Date.now(),k=!1,n=a,m,p;u||r?(a.clearRect(0,0,b,d),z&&z.width===b&&z.height===d||(z=document.createElement("canvas"),z.width=b,z.height=d,C=z.getContext("2d")),n=C,k=!0,u&&1===E&&(v=Date.now())):a.globalAlpha=1;n.fillStyle="#333333";n.fillRect(0,0,b,
d);256<this.mj?(m=Ja(.22*d,105,.6*b),p=.25*m,n.drawImage(c(f,m),.5*b-m/2,.2*d-p/2,m,p),p=m=Math.min(.395*d,.95*b),n.drawImage(c(e,m),.5*b-m/2,.485*d-p/2,m,p),m=Ja(.22*d,105,.6*b),p=.25*m,n.drawImage(c(h,m),.5*b-m/2,.868*d-p/2,m,p),n.fillStyle="#3C3C3C",m=b,p=Math.max(.005*d,2),n.fillRect(0,.8*d-p/2,m,p),n.fillStyle=l?"red":"#E0FF65",m=b*this.Ne,n.fillRect(.5*b-m/2,.8*d-p/2,m,p)):(p=m=.55*d,n.drawImage(c(e,m),.5*b-m/2,.45*d-p/2,m,p),n.fillStyle="#3C3C3C",m=b,p=Math.max(.005*d,2),n.fillRect(0,.85*d-
p/2,m,p),n.fillStyle=l?"red":"#E0FF65",m=b*this.Ne,n.fillRect(.5*b-m/2,.85*d-p/2,m,p));k&&(u?a.globalAlpha=0===E?0:Math.min((g-v)/300,1):r&&(a.globalAlpha=Math.max(1-(g-B)/300,0)),a.drawImage(z,0,0,b,d));u&&300<=g-v&&2<=E&&(u=!1,y=g);!u&&g-y>=D&&!r&&1<=this.Ne&&(r=!0,B=g);if(r&&g-B>=300+t||"undefined"!==typeof cr_is_preview&&1<=this.Ne&&500>Date.now()-v)q=!0,r=u=!1,this.Gg=C=z=null;++E}};a.prototype.hx=function(){this.Hc&&(this.canvas.parentNode.removeChild(this.Hc),this.Hc=this.fp=null);this.Hm=
Date.now();this.Eh=mb();var a,b,c;if(this.Rp)for(a=0,b=this.ea.length;a<b;a++)c=this.ea[a],c.la||c.wo||!c.jb.Eg||c.Ca();else this.Qj=!1;a=0;for(b=this.Ke.length;a<b;a++)this.Ke[a].lv();2<=this.Uc&&(a=this.tc/this.rc,b=this.width/this.height,this.fj=2!==this.Uc&&b>a||2===this.Uc&&b<a?this.height/this.rc:this.width/this.tc);this.dr?this.Ko[this.dr].Dp():this.Ke[0].Dp();this.Rp||(this.Vl=1,this.trigger(X.prototype.P.dq,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(b=this.ea.length;a<b;a++)c=this.ea[a],c.Ux&&c.Ux();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.ve(!1);this.Cg&&AppMobi.webview.execute("onGameReady();")};a.prototype.ve=function(a,b,c){if(this.bb){var d=mb();if(c||!this.Mj||a){a||(h?this.np=h(this.pt):this.Ip=setTimeout(this.pt,this.Hf?1:16));b=b||d;var e=this.Uc;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.ke)||this.Lj)&&0<this.rh&&(e=this.rh);if(0<e){var e=window.innerWidth,l=window.innerHeight;this.Ai===e&&this.yi===l||this.setSize(e,l)}this.Zb||(c?(this.ul||(this.Sn=jQuery(this.canvas).css("margin")||"0",this.ul=!0),this.so||this.zh||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.ul?(this.so||this.zh||jQuery(this.canvas).css("margin",this.Sn),
this.Sn="",this.ul=!1,0===this.Uc&&this.setSize(Math.round(this.vs/this.devicePixelRatio),Math.round(this.us/this.devicePixelRatio),!0)):(this.vs=this.width,this.us=this.height));this.Qj&&(c=this.Bq(),this.Vl=this.Ne,c&&(this.Qj=!1,this.Ne=1,this.trigger(X.prototype.P.dq,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Mx(b);!this.Ya&&!this.je||this.zo||this.wk||a||(this.Ya=!1,this.aa?this.md():this.Fe(),this.uk&&(this.canvas&&this.canvas.toDataURL&&(this.it=this.canvas.toDataURL(this.uk[0],
this.uk[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.it),this.trigger(X.prototype.P.iu,null)),this.uk=null));this.lA||(this.Md++,this.qh++,this.yl++);this.ak+=mb()-d}}};a.prototype.Mx=function(a){var b,c,d,e,l,f,h,g;1E3<=a-this.Eh&&(this.Eh+=1E3,1E3<=a-this.Eh&&(this.Eh=a),this.Rn=this.yl,this.yl=0,this.En=this.ak,this.ak=0);b=0;0!==this.Ol&&(b=a-this.Ol,0>b&&(b=0),this.mh=b/=1E3,.5<this.mh?this.mh=0:this.mh>1/this.ks&&(this.mh=1/this.ks));this.Ol=a;this.Ba=this.mh*this.Yh;this.Ed.add(this.Ba);
this.bn.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Lj)&&!this.ke;2<=this.Uc||a&&0<this.rh?(b=this.tc/this.rc,c=this.width/this.height,d=this.Uc,a&&0<this.rh&&(d=this.rh),this.fj=2!==d&&c>b||2===d&&c<b?this.height/this.rc:this.width/this.tc,this.bb&&(this.bb.Us(this.bb.scrollX),this.bb.Vs(this.bb.scrollY))):this.fj=this.Ah?this.devicePixelRatio:1;this.Kc();this.Je++;this.qf.Cy();this.Je--;this.Kc();this.Je++;c=this.ts.Ve();
a=0;for(b=c.length;a<b;a++)c[a].tA();a=0;for(b=this.ea.length;a<b;a++)if(f=this.ea[a],!f.la&&(f.Cb.length||f.Ab.length))for(c=0,d=f.D.length;c<d;c++)for(h=f.D[c],e=0,l=h.wa.length;e<l;e++)h.wa[e].ve();a=0;for(b=this.ea.length;a<b;a++)if(f=this.ea[a],!f.la&&(f.Cb.length||f.Ab.length))for(c=0,d=f.D.length;c<d;c++)for(h=f.D[c],e=0,l=h.wa.length;e<l;e++)g=h.wa[e],g.iy&&g.iy();c=this.Yo.Ve();a=0;for(b=c.length;a<b;a++)c[a].ve();this.Je--;this.ix();for(a=0;this.hj&&10>a++;)this.Wq(this.hj);a=0;for(b=this.Cf.length;a<
b;a++)this.Cf[a].io=!1;this.bb.oh&&this.bb.oh.cc();F(this.pk);this.Jo=!1;this.Je++;a=0;for(b=this.ea.length;a<b;a++)if(f=this.ea[a],!f.la&&(f.Cb.length||f.Ab.length))for(c=0,d=f.D.length;c<d;c++)for(h=f.D[c],e=0,l=h.wa.length;e<l;e++)g=h.wa[e],g.Rm&&g.Rm();c=this.Zo.Ve();a=0;for(b=c.length;a<b;a++)c[a].Rm();this.Je--};a.prototype.Th=function(){var a,b,c,d,e,l,f,h,g;a=0;for(b=this.ea.length;a<b;a++)if(f=this.ea[a],!f.la)for(c=0,d=f.D.length;c<d;c++)if(h=f.D[c],h.Th&&h.Th(),h.wa)for(e=0,l=h.wa.length;e<
l;e++)g=h.wa[e],g.Th&&g.Th()};a.prototype.Wq=function(a){var b=this.bb;this.bb.Py();var c,d,e;if(this.aa)for(c=0,d=this.ea.length;c<d;c++)e=this.ea[c],e.la||!e.Ym||e.global&&0!==e.D.length||-1!==a.Hj.indexOf(e)||e.Ym();b==a&&F(this.qf.Nd);F(this.pk);this.Rs(!0);a.Dp();this.Rs(!1);this.Jo=this.Ya=!0;this.Kc()};a.prototype.Rs=function(a){var b,c,d,e,l,f,h,g,k;b=0;for(c=this.Cb.length;b<c;b++)d=this.Cb[b],a?d.dk&&d.dk():d.fk&&d.fk();b=0;for(c=this.ea.length;b<c;b++)if(d=this.ea[b],d.global||d.jb.Gm)for(e=
0,l=d.D.length;e<l;e++)if(f=d.D[e],a?f.dk&&f.dk():f.fk&&f.fk(),f.wa)for(h=0,g=f.wa.length;h<g;h++)k=f.wa[h],a?k.dk&&k.dk():k.fk&&k.fk()};a.prototype.Sm=function(a){this.Yo.add(a)};a.prototype.Ty=function(a){this.Zo.add(a)};a.prototype.xj=function(a){return a&&-1!==a.bk?this.mh*a.bk:this.Ba};a.prototype.Fe=function(){this.bb.Fe(this.zb);this.Cg&&this.zb.present()};a.prototype.md=function(){this.ob&&(this.nh=1,this.bb.kh(this.aa));this.bb.md(this.aa);this.aa.ny()};a.prototype.Qk=function(a){a&&this.ql.push(a)};
a.prototype.qp=function(a){Ia(this.ql,a)};a.prototype.sh=function(a){a=a.toString();return this.Of.hasOwnProperty(a)?this.Of[a]:null};var x=[];a.prototype.Zg=function(a){var b,c;b=a.type.name;var d=null;if(this.jh.hasOwnProperty(b)){if(d=this.jh[b],d.contains(a))return}else d=x.length?x.pop():new ea,this.jh[b]=d;d.add(a);this.Bg=!0;if(a.nd)for(b=0,c=a.siblings.length;b<c;b++)this.Zg(a.siblings[b]);this.vo&&d.Ui.push(a);this.uo||(this.Je++,this.trigger(Object.getPrototypeOf(a.type.jb).P.ku,a),this.Je--)};
a.prototype.Kc=function(){if(this.Bg){var a,b,c,d,e,l;this.vo=!0;c=0;for(e=this.Ee.length;c<e;++c)for(a=this.Ee[c],b=a.type,b.D.push(a),d=0,l=b.Ab.length;d<l;++d)b.Ab[d].D.push(a),b.Ab[d].Qi=!0;F(this.Ee);this.bu();lb(this.jh);this.Bg=this.vo=!1}};a.prototype.bu=function(){for(var a in this.jh)this.jh.hasOwnProperty(a)&&this.Qt(this.jh[a])};a.prototype.Qt=function(a){var b=a.Ve(),c=b[0].type,d,e,l,f,h,g;nb(c.D,a);c.Qi=!0;0===c.D.length&&(c.Sk=!1);d=0;for(e=c.Ab.length;d<e;++d)g=c.Ab[d],nb(g.D,a),
g.Qi=!0;d=0;for(e=this.qf.Nd.length;d<e;++d)if(h=this.qf.Nd[d],h.Ld.hasOwnProperty(c.index)&&nb(h.Ld[c.index].yh,a),!c.la)for(l=0,f=c.Ab.length;l<f;++l)g=c.Ab[l],h.Ld.hasOwnProperty(g.index)&&nb(h.Ld[g.index].yh,a);if(h=b[0].T){if(h.ae)for(l=h.D,d=0,e=l.length;d<e;++d)f=l[d],a.contains(f)&&(f.Oa(),h.Ic.update(f,f.td,null),f.td.set(0,0,-1,-1));nb(h.D,a);h.qk(0)}for(d=0;d<b.length;++d)this.Pt(b[d],c);a.clear();x.push(a);this.Ya=!0};a.prototype.Pt=function(a,b){var c,d,e;c=0;for(d=this.ql.length;c<d;++c)this.ql[c](a);
a.tg&&b.hl.update(a,a.tg,null);(c=a.T)&&c.Ki(a,!0);if(a.wa)for(c=0,d=a.wa.length;c<d;++c)e=a.wa[c],e.Pf&&e.Pf(),e.behavior.cm.remove(a);this.ts.remove(a);this.Yo.remove(a);this.Zo.remove(a);a.Pf&&a.Pf();this.Of.hasOwnProperty(a.uid.toString())&&delete this.Of[a.uid.toString()];this.em--;100>b.nl.length&&b.nl.push(a)};a.prototype.Pq=function(a,b,c,d){if(a.la){var e=ta(Math.random()*a.Oh.length);return this.Pq(a.Oh[e],b,c,d)}return a.ge?this.ug(a.ge,b,!1,c,d,!1):null};var A=[];a.prototype.ug=function(a,
b,c,d,e,l){var f,h,g,k;if(!a)return null;var r=this.ea[a[1]],n=r.jb.Eg;if(this.Qj&&n&&!r.wo||n&&!this.aa&&11===a[0][11])return null;var q=b;n||(b=null);var m;r.nl.length?(m=r.nl.pop(),m.$c=!0,r.jb.ab.call(m,r)):(m=new r.jb.ab(r),m.$c=!1);!c||l||this.Of.hasOwnProperty(a[2].toString())?m.uid=this.ck++:m.uid=a[2];this.Of[m.uid.toString()]=m;m.Ms=this.qs++;m.wh=r.D.length;f=0;for(h=this.Ee.length;f<h;++f)this.Ee[f].type===r&&m.wh++;m.Dj=cc;m.toString=dc;g=a[3];if(m.$c)lb(m.ca);else{m.ca={};if("undefined"!==
typeof cr_is_preview)for(m.Ar=[],m.Ar.length=g.length,f=0,h=g.length;f<h;f++)m.Ar[f]=g[f][1];m.mc=[];m.mc.length=g.length}f=0;for(h=g.length;f<h;f++)m.mc[f]=g[f][0];if(n){var p=a[0];m.x=ka(d)?p[0]:d;m.y=ka(e)?p[1]:e;m.z=p[2];m.width=p[3];m.height=p[4];m.depth=p[5];m.K=p[6];m.opacity=p[7];m.Vc=p[8];m.Wc=p[9];m.Lc=p[10];f=p[11];!this.aa&&r.xa.length&&(m.Lc=f);m.ij=Cb(m.Lc);this.fa&&Ib(m,m.Lc,this.fa);if(m.$c){f=0;for(h=p[12].length;f<h;f++)for(g=0,k=p[12][f].length;g<k;g++)m.Db[f][g]=p[12][f][g];m.yb.set(0,
0,0,0);m.tg.set(0,0,-1,-1);m.td.set(0,0,-1,-1);m.eb.rk(m.yb);F(m.xn)}else{m.Db=p[12].slice(0);f=0;for(h=m.Db.length;f<h;f++)m.Db[f]=p[12][f].slice(0);m.Va=[];m.jg=[];m.jg.length=r.xa.length;m.yb=new ya(0,0,0,0);m.tg=new ya(0,0,-1,-1);m.td=new ya(0,0,-1,-1);m.eb=new za;m.xn=[];m.ua=gc;m.fA=hc;m.Tc=ic;m.Oa=jc;m.Zy=kc;m.Et=lc;m.jf=mc}m.Xf=!1;m.Wy=0;m.Vy=0;m.Uy=null;14===p.length&&(m.Xf=!0,m.Wy=p[13][0],m.Vy=p[13][1],m.Uy=p[13][2]);f=0;for(h=r.xa.length;f<h;f++)m.jg[f]=!0;m.Tf=!0;m.Ue=pc;m.Ue();m.Gt=
!!m.Va.length;m.wn=!0;m.zn=!0;r.Rk=!0;m.visible=!0;m.bk=-1;m.T=b;m.We=b.D.length;m.nh=0;"undefined"===typeof m.Ka&&(m.Ka=null);this.Ya=m.xf=!0}var y;F(A);f=0;for(h=r.Ab.length;f<h;f++)A.push.apply(A,r.Ab[f].Cb);A.push.apply(A,r.Cb);if(m.$c)for(f=0,h=A.length;f<h;f++){var t=A[f];y=m.wa[f];y.$c=!0;t.behavior.ab.call(y,t,m);p=a[4][f];g=0;for(k=p.length;g<k;g++)y.ba[g]=p[g];y.Ca();t.behavior.cm.add(m)}else for(m.wa=[],f=0,h=A.length;f<h;f++)t=A[f],y=new t.behavior.ab(t,m),y.$c=!1,y.ba=a[4][f].slice(0),
y.Ca(),m.wa.push(y),t.behavior.cm.add(m);p=a[5];if(m.$c)for(f=0,h=p.length;f<h;f++)m.ba[f]=p[f];else m.ba=p.slice(0);this.Ee.push(m);this.Bg=!0;b&&(b.ej(m,!0),1!==b.rd||1!==b.sd)&&(r.Sk=!0);this.em++;if(r.nd){if(m.nd=!0,m.$c?F(m.siblings):m.siblings=[],!c&&!l){f=0;for(h=r.Ad.length;f<h;f++)if(r.Ad[f]!==r){if(!r.Ad[f].ge)return null;m.siblings.push(this.ug(r.Ad[f].ge,q,!1,n?m.x:d,n?m.y:e,!0))}f=0;for(h=m.siblings.length;f<h;f++)for(m.siblings[f].siblings.push(m),g=0;g<h;g++)f!==g&&m.siblings[f].siblings.push(m.siblings[g])}}else m.nd=
!1,m.siblings=null;m.Ca();f=0;for(h=m.wa.length;f<h;f++)m.wa[f].Is&&m.wa[f].Is();return m};a.prototype.Aj=function(a){var b,c;b=0;for(c=this.bb.Aa.length;b<c;b++){var d=this.bb.Aa[b];if(Kb(d.name,a))return d}return null};a.prototype.Ef=function(a){a=ta(a);0>a&&(a=0);a>=this.bb.Aa.length&&(a=this.bb.Aa.length-1);return this.bb.Aa[a]};a.prototype.Cn=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ma().Wa=!0};a.prototype.mk=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].mk()};a.prototype.nk=
function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].nk()};a.prototype.Qg=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Qg()};a.prototype.Ct=function(a){if(a.Rk){var b,c,d=a.D;b=0;for(c=d.length;b<c;++b)d[b].Et();d=this.Ee;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].Et();a.Rk=!1}};a.prototype.ir=function(a,b,c,d){var e,l,f=a?1!==a.rd||1!==a.sd:!1;if(b.la)for(a=0,e=b.Oh.length;a<e;++a)l=b.Oh[a],f||l.Sk?Ga(d,l.D):(this.Ct(l),l.hl.vm(c,d));else f||b.Sk?Ga(d,b.D):(this.Ct(b),b.hl.vm(c,d))};a.prototype.ao=
function(a,b,c,d){var e,l;e=0;for(l=b.length;e<l;++e)this.ir(a,b[e],c,d)};a.prototype.Qw=function(a,b,c){var d=this.jt;d&&this.ao(a,d.Xo,b,c)};a.prototype.xk=function(a,b,c){var d=a.Ma(),e,l,f,h,g=this.xc().Fc.oe,k,r,n;if(d.Wa)for(d.Wa=!1,F(d.D),e=0,h=a.D.length;e<h;e++)f=a.D[e],f.Oa(),k=f.T.hc(b,c,!0),r=f.T.hc(b,c,!1),f.Tc(k,r)?d.D.push(f):g&&d.La.push(f);else{l=0;n=g?d.La:d.D;e=0;for(h=n.length;e<h;e++)f=n[e],f.Oa(),k=f.T.hc(b,c,!0),r=f.T.hc(b,c,!1),f.Tc(k,r)&&(g?d.D.push(f):(d.D[l]=d.D[e],l++));
n.length=l}a.Be();return d.ho()};a.prototype.Wh=function(a,b){if(!(a&&b&&a!==b&&a.xf&&b.xf))return!1;a.Oa();b.Oa();var c=a.T,d=b.T,e,l,f,h,g,k,r,n;if(c===d||c.rd===d.rd&&d.sd===d.sd&&c.scale===d.scale&&c.K===d.K&&c.Sc===d.Sc){if(!a.yb.rx(b.yb)||!a.eb.Br(b.eb)||a.Xf&&b.Xf)return!1;if(a.Xf)return this.ot(a,b);if(b.Xf)return this.ot(b,a);r=a.Ka&&!a.Ka.Bh();e=b.Ka&&!b.Ka.Bh();if(!r&&!e)return!0;r?(a.Ka.ih(a.width,a.height,a.K),r=a.Ka):(this.Se.Oi(a.eb,a.x,a.y,a.width,a.height),r=this.Se);e?(b.Ka.ih(b.width,
b.height,b.K),n=b.Ka):(this.Se.Oi(b.eb,b.x,b.y,b.width,b.height),n=this.Se);return r.Ij(n,b.x-a.x,b.y-a.y)}r=a.Ka&&!a.Ka.Bh();e=b.Ka&&!b.Ka.Bh();r?(a.Ka.ih(a.width,a.height,a.K),this.Se.ct(a.Ka)):this.Se.Oi(a.eb,a.x,a.y,a.width,a.height);r=this.Se;e?(b.Ka.ih(b.width,b.height,b.K),this.Gp.ct(b.Ka)):this.Gp.Oi(b.eb,b.x,b.y,b.width,b.height);n=this.Gp;e=0;for(l=r.Yd;e<l;e++)f=2*e,h=f+1,g=r.Ub[f],k=r.Ub[h],r.Ub[f]=c.Bb(g+a.x,k+a.y,!0),r.Ub[h]=c.Bb(g+a.x,k+a.y,!1);r.Oa();e=0;for(l=n.Yd;e<l;e++)f=2*e,h=
f+1,g=n.Ub[f],k=n.Ub[h],n.Ub[f]=d.Bb(g+b.x,k+b.y,!0),n.Ub[h]=d.Bb(g+b.x,k+b.y,!1);n.Oa();return r.Ij(n,0,0)};var G=new za;new ya(0,0,0,0);var W=[];a.prototype.ot=function(a,b){var c,d,e,l,f=b.yb,h=a.x,g=a.y;a.iA(f,W);var k=b.Ka&&!b.Ka.Bh();c=0;for(d=W.length;c<d;++c)if(e=W[c],l=e.yy,f.tx(l,h,g)&&(G.rk(l),G.offset(h,g),G.Br(b.eb)))if(k)if(b.Ka.ih(b.width,b.height,b.K),e.nf){if(e.nf.Ij(b.Ka,b.x-(h+l.left),b.y-(g+l.top)))return F(W),!0}else{if(this.Se.Oi(G,0,0,l.right-l.left,l.bottom-l.top),this.Se.Ij(b.Ka,
b.x,b.y))return F(W),!0}else if(e.nf){if(this.Se.Oi(b.eb,0,0,b.width,b.height),e.nf.Ij(this.Se,-(h+l.left),-(g+l.top)))return F(W),!0}else return F(W),!0;F(W);return!1};a.prototype.yt=function(a,b){if(!b)return!1;var c,d,e,l,f;c=0;for(d=a.Cb.length;c<d;c++)if(a.Cb[c].behavior instanceof b)return!0;if(!a.la)for(c=0,d=a.Ab.length;c<d;c++)for(f=a.Ab[c],e=0,l=f.Cb.length;e<l;e++)if(f.Cb[e].behavior instanceof b)return!0;return!1};a.prototype.Mp=function(a){return this.yt(a,Mc.Hz)};a.prototype.Np=function(a){return this.yt(a,
Mc.Iz)};var I=[];a.prototype.Xh=function(a){var b,c,d;a.Oa();this.Qw(a.T,a.yb,I);b=0;for(c=I.length;b<c;++b)if(d=I[b],d.ca.solidEnabled&&this.Wh(a,d))return F(I),d;F(I);return null};a.prototype.wy=function(a,b,c,d){d=d||50;var e=a.x,l=a.y,f,h=null,g=null;for(f=0;f<d;f++)if(a.x=e+b*f,a.y=l+c*f,a.ua(),!this.Wh(a,h)&&((h=this.Xh(a))&&(g=h),!h&&!h))return g&&this.ry(a,b,c,g),!0;a.x=e;a.y=l;a.ua();return!1};a.prototype.ry=function(a,b,c,d){var e=2,l,f=!1;l=!1;for(var h=a.x,g=a.y;16>=e;)l=1/e,e*=2,a.x+=
b*l*(f?1:-1),a.y+=c*l*(f?1:-1),a.ua(),this.Wh(a,d)?l=f=!0:(l=f=!1,h=a.x,g=a.y);l&&(a.x=h,a.y=g,a.ua())};a.prototype.xy=function(a){var b=0,c=a.x,d=a.y,e=0,l=0,f=0,h=this.Xh(a);if(h){for(;100>=b;){switch(e){case 0:l=0;f=-1;b++;break;case 1:l=1;f=-1;break;case 2:l=1;f=0;break;case 3:f=l=1;break;case 4:l=0;f=1;break;case 5:l=-1;f=1;break;case 6:l=-1;f=0;break;case 7:f=l=-1}e=(e+1)%8;a.x=ta(c+l*b);a.y=ta(d+f*b);a.ua();if(!this.Wh(a,h)&&(h=this.Xh(a),!h))return}a.x=c;a.y=d;a.ua()}};a.prototype.Qs=function(a,
b){a.xf&&b.xf&&this.pk.push([a,b])};a.prototype.gv=function(a,b){var c,d,e;c=0;for(d=this.pk.length;c<d;c++)if(e=this.pk[c],e[0]==a&&e[1]==b||e[0]==b&&e[1]==a)return!0;return!1};a.prototype.dv=function(a,b,c){var d=a.x,e=a.y,l=qa(10,cb(b,c,d,e)),f=Sa(b,c,d,e),h=this.Xh(a);if(!h)return Na(f+sa);var g=h,k,r,n,m,q=H(5);for(k=1;36>k;k++)if(r=f-k*q,a.x=b+Math.cos(r)*l,a.y=c+Math.sin(r)*l,a.ua(),!this.Wh(a,g)&&(g=this.Xh(a),!g)){n=r;break}36===k&&(n=Na(f+sa));g=h;for(k=1;36>k;k++)if(r=f+k*q,a.x=b+Math.cos(r)*
l,a.y=c+Math.sin(r)*l,a.ua(),!this.Wh(a,g)&&(g=this.Xh(a),!g)){m=r;break}36===k&&(m=Na(f+sa));a.x=d;a.y=e;a.ua();if(m===n)return m;a=Xa(m,n)/2;a=$a(m,n)?Na(n+a+sa):Na(m+a);n=Math.cos(f);f=Math.sin(f);m=Math.cos(a);a=Math.sin(a);b=n*m+f*a;return Sa(0,0,n-2*b*m,f-2*b*a)};var L=-1;a.prototype.trigger=function(a,b,c){if(!this.bb)return!1;var d=this.bb.oh;if(!d)return!1;var e=!1,l,f,h;L++;var g=d.Jn;f=0;for(h=g.length;f<h;++f)l=this.ut(a,b,g[f],c),e=e||l;l=this.ut(a,b,d,c);L--;return e||l};a.prototype.ut=
function(a,b,c,d){var e=!1,l,f,h,g;if(b)for(h=this.Kp(a,b,b.type.name,c,d),e=e||h,g=b.type.Ab,l=0,f=g.length;l<f;++l)h=this.Kp(a,b,g[l].name,c,d),e=e||h;else h=this.Kp(a,b,"system",c,d),e=e||h;return e};a.prototype.Kp=function(a,b,c,d,e){var l,f=!1,h=!1,h="undefined"!==typeof e,g=(h?d.$q:d.wt)[c];if(!g)return f;var k=null;d=0;for(l=g.length;d<l;++d)if(g[d].method==a){k=g[d].pj;break}if(!k)return f;var r;h?r=k[e]:r=k;if(!r)return null;d=0;for(l=r.length;d<l;d++)a=r[d][0],e=r[d][1],h=this.yw(b,c,a,
e),f=f||h;return f};a.prototype.yw=function(a,b,c,d){var e,l,f=!1;this.Lp++;var h=this.xc().Fc;h&&this.mk(h.Wg);var g=1<this.Lp;this.mk(c.Wg);g&&this.ty();var k=this.um(c);k.Fc=c;a&&(e=this.types[b].Ma(),e.Wa=!1,F(e.D),e.D[0]=a,this.types[b].Be());a=!0;if(c.parent){b=k.nt;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(l=b.length;e<l;e++)if(!b[e].Ey()){a=!1;break}}a&&(this.qh++,c.oe?c.Dy(d):c.cc(),f=f||k.Dh);this.nm();g&&this.gy();this.Qg(c.Wg);h&&this.Qg(h.Wg);this.Bg&&0===this.Je&&0===
L&&!this.xo&&this.Kc();this.Lp--;return f};a.prototype.Al=function(){var a=this.xc();return a.Fc.jc[a.ic]};a.prototype.Gw=function(){var a=this.xc();return a.Fc.fe[a.Pd]};a.prototype.ty=function(){this.Xl++;this.Xl>=this.Ro.length&&this.Ro.push([])};a.prototype.gy=function(){this.Xl--};a.prototype.jr=function(){return this.Ro[this.Xl]};a.prototype.um=function(a){this.rl++;this.rl>=this.Ln.length&&this.Ln.push(new xc);var b=this.xc();b.reset(a);return b};a.prototype.nm=function(){this.rl--};a.prototype.xc=
function(){return this.Ln[this.rl]};a.prototype.uy=function(){this.Zl++;this.Zl>=this.So.length&&this.So.push(aa({name:void 0,index:0,Fp:!1}));var a=this.Hw();a.name=void 0;a.index=0;a.Fp=!1;return a};a.prototype.hy=function(){this.Zl--};a.prototype.Hw=function(){return this.So[this.Zl]};a.prototype.kr=function(a,b){for(var c,d,e,l,f,h;b;){c=0;for(d=b.te.length;c<d;c++)if(h=b.te[c],h instanceof yc&&Kb(a,h.name))return h;b=b.parent}c=0;for(d=this.Cf.length;c<d;c++)for(f=this.Cf[c],e=0,l=f.yg.length;e<
l;e++)if(h=f.yg[e],h instanceof yc&&Kb(a,h.name))return h;return null};a.prototype.mr=function(a){var b,c;b=0;for(c=this.Ke.length;b<c;b++)if(this.Ke[b].Na===a)return this.Ke[b];return null};a.prototype.Bj=function(a){var b,c;b=0;for(c=this.ea.length;b<c;b++)if(this.ea[b].Na===a)return this.ea[b];return null};a.prototype.Iw=function(a){var b,c;b=0;for(c=this.gi.length;b<c;b++)if(this.gi[b].Na===a)return this.gi[b];return null};a.prototype.pv=function(a,b){this.uk=[a,b];this.Ya=!0};a.prototype.ix=
function(){var a=this,c=this.zp,d=this.Kf,l=this.Tl,h=!1;this.ht&&(h=!0,c="__c2_continuouspreview",this.ht=!1);if(c.length){this.Kc();d=this.Iy();if(b()&&!this.je)f(c,d,function(){ia("Saved state to IndexedDB storage ("+d.length+" bytes)");a.Kf=d;a.trigger(X.prototype.P.kn,null);a.Kf="";h&&e()},function(b){try{localStorage.setItem("__c2save_"+c,d),ia("Saved state to WebStorage ("+d.length+" bytes)"),a.Kf=d,a.trigger(X.prototype.P.kn,null),a.Kf="",h&&e()}catch(l){ia("Failed to save game state: "+b+
"; "+l),a.trigger(X.prototype.P.iq,null)}});else try{localStorage.setItem("__c2save_"+c,d),ia("Saved state to WebStorage ("+d.length+" bytes)"),a.Kf=d,this.trigger(X.prototype.P.kn,null),a.Kf="",h&&e()}catch(k){ia("Error saving to WebStorage: "+k),a.trigger(X.prototype.P.iq,null)}this.Tl=this.zp="";this.qc=null}if(l.length){if(b()&&!this.je)g(l,function(b){b?(a.qc=b,ia("Loaded state from IndexedDB storage ("+a.qc.length+" bytes)")):(a.qc=localStorage.getItem("__c2save_"+l)||"",ia("Loaded state from WebStorage ("+
a.qc.length+" bytes)"));a.wk=!1;a.qc||(a.qc=null,a.trigger(X.prototype.P.Mk,null))},function(){a.qc=localStorage.getItem("__c2save_"+l)||"";ia("Loaded state from WebStorage ("+a.qc.length+" bytes)");a.wk=!1;a.qc||(a.qc=null,a.trigger(X.prototype.P.Mk,null))});else{try{this.qc=localStorage.getItem("__c2save_"+l)||"",ia("Loaded state from WebStorage ("+this.qc.length+" bytes)")}catch(r){this.qc=null}this.wk=!1;a.qc||(a.qc=null,a.trigger(X.prototype.P.Mk,null))}this.zp=this.Tl=""}null!==this.qc&&(this.Kc(),
this.Lx(this.qc)?(this.Kf=this.qc,this.trigger(X.prototype.P.ru,null),this.Kf=""):a.trigger(X.prototype.P.Mk,null),this.qc=null)};a.prototype.Iy=function(){var a,b,c,d,e,l,f,h={c2save:!0,version:1,rt:{time:this.Ed.rb,walltime:this.bn.rb,timescale:this.Yh,tickcount:this.Md,execcount:this.qh,next_uid:this.ck,running_layout:this.bb.Na,start_time_offset:Date.now()-this.Hm},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.ea.length;a<b;a++)if(e=this.ea[a],!e.la&&!this.Mp(e)){l=
{instances:[]};kb(e.ca)&&(l.ex=k(e.ca));c=0;for(d=e.D.length;c<d;c++)l.instances.push(this.yp(e.D[c]));h.types[e.Na.toString()]=l}a=0;for(b=this.Ke.length;a<b;a++)c=this.Ke[a],h.layouts[c.Na.toString()]=c.Pc();d=h.events.groups;a=0;for(b=this.gi.length;a<b;a++)c=this.gi[a],d[c.Na.toString()]=this.ri[c.Ej].uh;b=h.events.cnds;for(f in this.sg)this.sg.hasOwnProperty(f)&&(a=this.sg[f],kb(a.ca)&&(b[f]={ex:k(a.ca)}));b=h.events.acts;for(f in this.kg)this.kg.hasOwnProperty(f)&&(a=this.kg[f],kb(a.ca)&&(b[f]=
{ex:k(a.ca)}));b=h.events.vars;for(f in this.Vi)this.Vi.hasOwnProperty(f)&&(a=this.Vi[f],a.Jl||a.parent&&!a.Oj||(b[f]=a.data));h.system=this.qf.Pc();return JSON.stringify(h)};a.prototype.Ps=function(){var a,b,c,d,e,l;this.Of={};a=0;for(b=this.ea.length;a<b;a++)if(c=this.ea[a],!c.la)for(d=0,e=c.D.length;d<e;d++)l=c.D[d],this.Of[l.uid.toString()]=l};a.prototype.Lx=function(a){var b;try{b=JSON.parse(a)}catch(c){return!1}if(!b.c2save||1<b.version)return!1;this.Kj=!0;a=b.rt;this.Ed.reset();this.Ed.rb=
a.time;this.bn.reset();this.bn.rb=a.walltime||0;this.Yh=a.timescale;this.Md=a.tickcount;this.qh=a.execcount;this.Hm=Date.now()-a.start_time_offset;var d=a.running_layout;if(d!==this.bb.Na)if(d=this.mr(d))this.Wq(d);else return;var e,l,f,h,g,k,r;k=b.types;for(l in k)if(k.hasOwnProperty(l)&&(h=this.Bj(parseInt(l,10)))&&!h.la&&!this.Mp(h)){k[l].ex?h.ca=k[l].ex:lb(h.ca);g=h.D;f=k[l].instances;d=0;for(e=ra(g.length,f.length);d<e;d++)this.Ul(g[d],f[d]);d=f.length;for(e=g.length;d<e;d++)this.Zg(g[d]);d=
g.length;for(e=f.length;d<e;d++){g=null;if(h.jb.Eg&&(g=this.bb.Bl(f[d].w.l),!g))continue;g=this.ug(h.ge,g,!1,0,0,!0);this.Ul(g,f[d])}h.Qi=!0}this.Kc();this.Ps();e=b.layouts;for(l in e)e.hasOwnProperty(l)&&(d=this.mr(parseInt(l,10)))&&d.od(e[l]);e=b.events.groups;for(l in e)e.hasOwnProperty(l)&&(d=this.Iw(parseInt(l,10)))&&this.ri[d.Ej]&&this.ri[d.Ej].Em(e[l]);d=b.events.cnds;for(l in this.sg)this.sg.hasOwnProperty(l)&&(d.hasOwnProperty(l)?this.sg[l].ca=d[l].ex:this.sg[l].ca={});d=b.events.acts;for(l in this.kg)this.kg.hasOwnProperty(l)&&
(d.hasOwnProperty(l)?this.kg[l].ca=d[l].ex:this.kg[l].ca={});d=b.events.vars;for(l in d)d.hasOwnProperty(l)&&this.Vi.hasOwnProperty(l)&&(this.Vi[l].data=d[l]);this.ck=a.next_uid;this.Kj=!1;d=0;for(e=this.tl.length;d<e;++d)g=this.tl[d],this.trigger(Object.getPrototypeOf(g.type.jb).P.Lk,g);F(this.tl);this.qf.od(b.system);d=0;for(e=this.ea.length;d<e;d++)if(h=this.ea[d],!h.la&&!this.Mp(h))for(b=0,l=h.D.length;b<l;b++){g=h.D[b];if(h.nd)for(k=g.Dj(),F(g.siblings),a=0,f=h.Ad.length;a<f;a++)r=h.Ad[a],h!==
r&&g.siblings.push(r.D[k]);g.ye&&g.ye();if(g.wa)for(a=0,f=g.wa.length;a<f;a++)k=g.wa[a],k.ye&&k.ye()}return this.Ya=!0};a.prototype.yp=function(a,b){var c,d,e,l,f;l=a.type;e=l.jb;var h={};b?h.c2=!0:h.uid=a.uid;kb(a.ca)&&(h.ex=k(a.ca));if(a.mc&&a.mc.length)for(h.ivs={},c=0,d=a.mc.length;c<d;c++)h.ivs[a.type.po[c].toString()]=a.mc[c];if(e.Eg){e={x:a.x,y:a.y,w:a.width,h:a.height,l:a.T.Na,zi:a.jf()};0!==a.K&&(e.a=a.K);1!==a.opacity&&(e.o=a.opacity);.5!==a.Vc&&(e.hX=a.Vc);.5!==a.Wc&&(e.hY=a.Wc);0!==a.Lc&&
(e.bm=a.Lc);a.visible||(e.v=a.visible);a.xf||(e.ce=a.xf);-1!==a.bk&&(e.mts=a.bk);if(l.xa.length)for(e.fx=[],c=0,d=l.xa.length;c<d;c++)f=l.xa[c],e.fx.push({name:f.name,active:a.jg[f.index],params:a.Db[f.index]});h.w=e}if(a.wa&&a.wa.length)for(h.behs={},c=0,d=a.wa.length;c<d;c++)l=a.wa[c],l.Pc&&(h.behs[l.type.Na.toString()]=l.Pc());a.Pc&&(h.data=a.Pc());return h};a.prototype.Kw=function(a,b){var c,d;c=0;for(d=a.po.length;c<d;c++)if(a.po[c]===b)return c;return-1};a.prototype.Fw=function(a,b){var c,d;
c=0;for(d=a.wa.length;c<d;c++)if(a.wa[c].type.Na===b)return c;return-1};a.prototype.Ul=function(a,b,c){var d,e,l,f,h;h=a.type;f=h.jb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.ca=b.ex:lb(a.ca);if(e=b.ivs)for(d in e)e.hasOwnProperty(d)&&(l=this.Kw(h,parseInt(d,10)),0>l||l>=a.mc.length||(a.mc[l]=e[d]));if(f.Eg){l=b.w;a.T.Na!==l.l&&(e=a.T,a.T=this.bb.Bl(l.l),a.T?(e.Ki(a,!0),a.T.ej(a,!0),a.ua(),a.T.qk(0)):(a.T=e,c||this.Zg(a)));a.x=l.x;a.y=l.y;a.width=l.w;a.height=l.h;a.We=l.zi;a.K=l.hasOwnProperty("a")?
l.a:0;a.opacity=l.hasOwnProperty("o")?l.o:1;a.Vc=l.hasOwnProperty("hX")?l.hX:.5;a.Wc=l.hasOwnProperty("hY")?l.hY:.5;a.visible=l.hasOwnProperty("v")?l.v:!0;a.xf=l.hasOwnProperty("ce")?l.ce:!0;a.bk=l.hasOwnProperty("mts")?l.mts:-1;a.Lc=l.hasOwnProperty("bm")?l.bm:0;a.ij=Cb(a.Lc);this.fa&&Ib(a,a.Lc,this.fa);a.ua();if(l.hasOwnProperty("fx"))for(c=0,e=l.fx.length;c<e;c++)f=h.Xn(l.fx[c].name),0>f||(a.jg[f]=l.fx[c].active,a.Db[f]=l.fx[c].params);a.Ue()}if(h=b.behs)for(d in h)h.hasOwnProperty(d)&&(c=this.Fw(a,
parseInt(d,10)),0>c||a.wa[c].od(h[d]));b.data&&a.od(b.data)};a.prototype.br=function(a,b,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,c)},c)};a.prototype.Aw=function(a,b){this.br("data.js",function(c){var d=new FileReader;d.onload=function(b){a(b.target.result)};d.onerror=b;d.readAsText(c)},b)};var M=[],J=0;a.prototype.Uo=function(){if(M.length&&!(8<=J)){J++;var a=M.shift();this.uv(a.filename,a.Ry,a.Tv)}};a.prototype.zw=function(a,b,c){var d=
this;M.push({filename:a,Ry:function(a){J--;d.Uo();b(a)},Tv:function(a){J--;d.Uo();c(a)}});this.Uo()};a.prototype.uv=function(a,b,c){this.br(a,function(a){var c=new FileReader;c.onload=function(a){b(a.target.result)};c.readAsArrayBuffer(a)},c)};a.prototype.Bw=function(a,b,c){this.zw(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},c)};a.prototype.xx=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};a.prototype.$s=function(a,b){this.yo&&!this.xx(b)?
this.Bw(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};a.prototype.Cm=function(a,b){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=b)};zc=function(b){return new a(document.getElementById(b))};Ac=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=zc;window.cr_createDCRuntime=Ac;window.createCocoonJSRuntime=function(){window.c2cocoonjs=
!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.i=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.pv(a,c)};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.j=a;this.oh=null;this.scrollX=this.j.tc/2;this.scrollY=this.j.rc/2;this.scale=1;this.K=0;this.pi=!0;this.name=b[0];this.cy=b[1];this.by=b[2];this.width=b[1];this.height=b[2];this.zt=b[3];this.ft=b[4];this.Na=b[5];var c=b[6],d,e;this.Aa=[];this.Hj=[];d=0;for(e=c.length;d<e;d++){var f=new Bc(this,c[d]);f.ss=d;this.Aa.push(f)}c=b[7];this.xh=[];d=0;for(e=c.length;d<e;d++){var f=c[d],h=this.j.ea[f[1]];h.ge||(h.ge=f);this.xh.push(f);-1===this.Hj.indexOf(h)&&this.Hj.push(h)}this.xa=
[];this.Va=[];this.Tf=!0;this.Db=[];d=0;for(e=b[8].length;d<e;d++)this.xa.push({id:b[8][d][0],name:b[8][d][1],ec:-1,Me:!1,hd:!0,index:d}),this.Db.push(b[8][d][2].slice(0));this.Ue();this.Sg=new ya(0,0,1,1);this.op=new ya(0,0,1,1);this.Pg={}}function c(a,b){return a.We-b.We}function b(a,b){this.pc=a;this.j=a.j;this.D=[];this.scale=1;this.K=0;this.Bf=!1;this.Yf=new ya(0,0,0,0);this.qt=new za;this.gb=this.$a=this.hb=this.Za=0;this.ai=!1;this.dg=-1;this.Dn=0;this.name=b[0];this.index=b[1];this.Na=b[2];
this.visible=b[3];this.Ce=b[4];this.Te=b[5];this.rd=b[6];this.sd=b[7];this.opacity=b[8];this.xl=b[9];this.ae=b[10];this.Sc=b[11];this.Lc=b[12];this.Ov=b[13];this.ij="source-over";this.Mc=this.Qc=0;this.Ic=null;this.Lf=d();this.Pe=!0;this.Bi=new ya(0,0,-1,-1);this.Ec=new ya(0,0,-1,-1);this.ae&&(this.Ic=new Ab(this.j.tc,this.j.rc));this.of=!1;var c=b[14],e,f;this.kt=[];this.Td=[];this.lj=[];e=0;for(f=c.length;e<f;e++){var h=c[e],g=this.j.ea[h[1]];g.ge||(g.ge=h,g.nv=this.index);this.Td.push(h);-1===
this.pc.Hj.indexOf(g)&&this.pc.Hj.push(g)}Fa(this.kt,this.Td);this.xa=[];this.Va=[];this.Tf=!0;this.Db=[];e=0;for(f=b[15].length;e<f;e++)this.xa.push({id:b[15][e][0],name:b[15][e][1],ec:-1,Me:!1,hd:!0,index:e}),this.Db.push(b[15][e][2].slice(0));this.Ue();this.Sg=new ya(0,0,1,1);this.op=new ya(0,0,1,1)}function d(){return k.length?k.pop():[]}function f(a){F(a);k.push(a)}a.prototype.Hy=function(a){var b=a.type.Na.toString();this.Pg.hasOwnProperty(b)||(this.Pg[b]=[]);this.Pg[b].push(this.j.yp(a))};
a.prototype.qr=function(){var a=this.Aa[0];return!a.Te&&1===a.opacity&&!a.xl&&a.visible};a.prototype.Ue=function(){F(this.Va);this.Tf=!0;var a,b,c;a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],c.hd&&(this.Va.push(c),c.Me||(this.Tf=!1))};a.prototype.Wn=function(a){var b,c,d;b=0;for(c=this.xa.length;b<c;b++)if(d=this.xa[b],d.name===a)return d;return null};var g=[],e=!0;a.prototype.Dp=function(){this.ft&&(this.oh=this.j.Mn[this.ft],this.oh.Op());this.j.bb=this;this.width=this.cy;this.height=this.by;
this.scrollX=this.j.tc/2;this.scrollY=this.j.rc/2;var a,b,d,f,h,k,m;a=0;for(d=this.j.ea.length;a<d;a++)if(b=this.j.ea[a],!b.la)for(h=b.D,b=0,f=h.length;b<f;b++)if(k=h[b],k.T){var r=k.T.ss;r>=this.Aa.length&&(r=this.Aa.length-1);k.T=this.Aa[r];-1===k.T.D.indexOf(k)&&k.T.D.push(k);k.T.ai=!0}if(!e)for(a=0,d=this.Aa.length;a<d;++a)this.Aa[a].D.sort(c);F(g);this.bv();a=0;for(d=this.Aa.length;a<d;a++)k=this.Aa[a],k.mv(),k.$m();h=!1;if(!this.pi){for(m in this.Pg)if(this.Pg.hasOwnProperty(m)&&(b=this.j.Bj(parseInt(m,
10)))&&!b.la&&this.j.Np(b)){f=this.Pg[m];a=0;for(d=f.length;a<d;a++){k=null;if(b.jb.Eg&&(k=this.Bl(f[a].w.l),!k))continue;k=this.j.ug(b.ge,k,!1,0,0,!0);this.j.Ul(k,f[a]);h=!0;g.push(k)}F(f)}a=0;for(d=this.Aa.length;a<d;a++)this.Aa[a].D.sort(c),this.Aa[a].ai=!0}h&&(this.j.Kc(),this.j.Ps());for(a=0;a<g.length;a++)if(k=g[a],k.type.nd)for(d=k.Dj(),b=0,f=k.type.Ad.length;b<f;b++)m=k.type.Ad[b],k.type!==m&&(m.D.length>d?k.siblings.push(m.D[d]):m.ge&&(h=this.j.ug(m.ge,k.T,!0,k.x,k.y,!0),this.j.Kc(),m.Zm(),
k.siblings.push(h),g.push(h)));a=0;for(d=this.xh.length;a<d;a++)this.j.ug(this.xh[a],null,!0);this.j.hj=null;this.j.Kc();if(this.j.zb&&!this.j.Zb)for(a=0,d=this.j.ea.length;a<d;a++)m=this.j.ea[a],!m.la&&m.D.length&&m.qm&&m.qm(this.j.zb);if(this.j.Kj)Fa(this.j.tl,g);else for(a=0,d=g.length;a<d;a++)k=g[a],this.j.trigger(Object.getPrototypeOf(k.type.jb).P.Lk,k);F(g);this.j.Kj||this.j.trigger(X.prototype.P.cq,null);this.pi=!1};a.prototype.lv=function(){var a,b,c,d,e;b=a=0;for(c=this.xh.length;a<c;a++)d=
this.xh[a],e=this.j.ea[d[1]],e.global?e.nd||this.j.ug(d,null,!0):(this.xh[b]=d,b++);Da(this.xh,b)};a.prototype.Py=function(){this.j.Kj||this.j.trigger(X.prototype.P.qu,null);this.j.uo=!0;F(this.j.qf.Nd);var a,b,c,d,f,h;if(!this.pi)for(a=0,b=this.Aa.length;a<b;a++)for(this.Aa[a].Qp(),f=this.Aa[a].D,c=0,d=f.length;c<d;c++)h=f[c],h.type.global||this.j.Np(h.type)&&this.Hy(h);a=0;for(b=this.Aa.length;a<b;a++){f=this.Aa[a].D;c=0;for(d=f.length;c<d;c++)h=f[c],h.type.global||this.j.Zg(h);this.j.Kc();F(f);
this.Aa[a].ai=!0}a=0;for(b=this.j.ea.length;a<b;a++)if(f=this.j.ea[a],!(f.global||f.jb.Eg||f.jb.Gm||f.la)){c=0;for(d=f.D.length;c<d;c++)this.j.Zg(f.D[c]);this.j.Kc()}e=!1;this.j.uo=!1};new ya(0,0,0,0);a.prototype.Fe=function(a){var b,c=a,d=!1,e=!this.j.Sd;e&&(this.j.Sl||(this.j.Sl=document.createElement("canvas"),b=this.j.Sl,b.width=this.j.ra,b.height=this.j.qa,this.j.Or=b.getContext("2d"),d=!0),b=this.j.Sl,c=this.j.Or,b.width!==this.j.ra&&(b.width=this.j.ra,d=!0),b.height!==this.j.qa&&(b.height=
this.j.qa,d=!0),d&&this.j.Cm(c,this.j.qb));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.j.Lq&&!this.qr()&&c.clearRect(0,0,this.j.ra,this.j.qa);var f,h,d=0;for(f=this.Aa.length;d<f;d++)h=this.Aa[d],h.visible&&0<h.opacity&&11!==h.Lc&&(h.D.length||!h.Te)?h.Fe(c):h.$m();e&&a.drawImage(b,0,0,this.j.width,this.j.height)};a.prototype.kh=function(a){a.Zs(!0);this.j.$b||(this.j.$b=a.Rd(this.j.ra,this.j.qa,this.j.qb));if(this.j.$b.hh!==this.j.ra||this.j.$b.gh!==this.j.qa)a.deleteTexture(this.j.$b),
this.j.$b=a.Rd(this.j.ra,this.j.qa,this.j.qb);a.se(this.j.$b);this.j.Sd||a.Uh(this.j.ra,this.j.qa);var b,c;for(b=this.Aa.length-1;0<=b;--b)c=this.Aa[b],c.visible&&1===c.opacity&&c.Tf&&0===c.Lc&&(c.D.length||!c.Te)?c.kh(a):c.$m();a.Zs(!1)};a.prototype.md=function(a){var b=0<this.Va.length||this.j.Ti||!this.j.Sd||this.j.ob;if(b){this.j.$b||(this.j.$b=a.Rd(this.j.ra,this.j.qa,this.j.qb));if(this.j.$b.hh!==this.j.ra||this.j.$b.gh!==this.j.qa)a.deleteTexture(this.j.$b),this.j.$b=a.Rd(this.j.ra,this.j.qa,
this.j.qb);a.se(this.j.$b);this.j.Sd||a.Uh(this.j.ra,this.j.qa)}else this.j.$b&&(a.se(null),a.deleteTexture(this.j.$b),this.j.$b=null);this.j.Lq&&!this.qr()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Aa.length;c<d;c++)e=this.Aa[c],e.visible&&0<e.opacity&&(e.D.length||!e.Te)?e.md(a):e.$m();b&&(0===this.Va.length||1===this.Va.length&&this.j.Sd?(1===this.Va.length?(b=this.Va[0].index,a.vd(this.Va[0].ec),a.Mi(null,1/this.j.ra,1/this.j.qa,0,0,1,1,this.scale,this.K,0,0,this.j.ra/2,this.j.qa/2,this.j.Ed.rb,
this.Db[b]),a.rm(this.Va[0].ec)&&(this.j.Ya=!0)):a.vd(0),this.j.Sd||a.Uh(this.j.width,this.j.height),a.se(null),a.Ys(!1),a.Vg(1),a.ud(this.j.$b),a.Ws(),a.qe(),a.$d(),b=this.j.width/2,c=this.j.height/2,a.ok(-b,c,b,c,b,-c,-b,-c),a.ud(null),a.Ys(!0)):this.rp(a,null,null,null))};a.prototype.Cj=function(){return 0<this.Va.length||this.j.Ti||!this.j.Sd||this.j.ob?this.j.$b:null};a.prototype.nr=function(){var a=this.Aa[0].Dd(),b,c,d;b=1;for(c=this.Aa.length;b<c;b++)d=this.Aa[b],(0!==d.rd||0!==d.sd)&&d.Dd()<
a&&(a=d.Dd());return a};a.prototype.Us=function(a){if(!this.zt){var b=1/this.nr()*this.j.ra/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.j.Ya=!0)};a.prototype.Vs=function(a){if(!this.zt){var b=1/this.nr()*this.j.qa/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.j.Ya=!0)};a.prototype.bv=function(){this.Us(this.scrollX);this.Vs(this.scrollY)};a.prototype.rp=function(a,b,c,d){var e=c?c.Va:b?b.Va:this.Va,f=1,h=0,g=0,k=0,m=
this.j.ra,D=this.j.qa;c?(f=c.T.Dd(),h=c.T.Bd(),g=c.T.Za,k=c.T.$a,m=c.T.hb,D=c.T.gb):b&&(f=b.Dd(),h=b.Bd(),g=b.Za,k=b.$a,m=b.hb,D=b.gb);var z=this.j.Tn,C,E,x,A,G=0,W=1,I,L,M=this.j.ra,J=this.j.qa,Y=M/2,N=J/2,O=b?b.Sg:this.Sg,P=b?b.op:this.op,Q=0,R=0,K=0,S=0,ca=M,ab=M,ba=J,bb=J,La=x=0;A=c?c.T.Bd():0;if(c){C=0;for(E=e.length;C<E;C++)x+=a.Nw(e[C].ec),La+=a.Ow(e[C].ec);S=c.yb;Q=b.Bb(S.left,S.top,!0,!0);K=b.Bb(S.left,S.top,!1,!0);ca=b.Bb(S.right,S.bottom,!0,!0);ba=b.Bb(S.right,S.bottom,!1,!0);0!==A&&(C=
b.Bb(S.right,S.top,!0,!0),E=b.Bb(S.right,S.top,!1,!0),R=b.Bb(S.left,S.bottom,!0,!0),S=b.Bb(S.left,S.bottom,!1,!0),A=Math.min(Q,ca,C,R),ca=Math.max(Q,ca,C,R),Q=A,A=Math.min(K,ba,E,S),ba=Math.max(K,ba,E,S),K=A);Q-=x;K-=La;ca+=x;ba+=La;P.left=Q/M;P.top=1-K/J;P.right=ca/M;P.bottom=1-ba/J;R=Q=ta(Q);S=K=ta(K);ab=ca=va(ca);bb=ba=va(ba);R-=x;S-=La;ab+=x;bb+=La;0>Q&&(Q=0);0>K&&(K=0);ca>M&&(ca=M);ba>J&&(ba=J);0>R&&(R=0);0>S&&(S=0);ab>M&&(ab=M);bb>J&&(bb=J);O.left=Q/M;O.top=1-K/J;O.right=ca/M;O.bottom=1-ba/
J}else O.left=P.left=0,O.top=P.top=0,O.right=P.right=1,O.bottom=P.bottom=1;La=c&&(a.kk(e[0].ec)||0!==x||0!==La||1!==c.opacity||c.type.jb.ns)||b&&!c&&1!==b.opacity;a.Ws();if(La){z[G]||(z[G]=a.Rd(M,J,this.j.qb));if(z[G].hh!==M||z[G].gh!==J)a.deleteTexture(z[G]),z[G]=a.Rd(M,J,this.j.qb);a.vd(0);a.se(z[G]);L=bb-S;a.clearRect(R,J-S-L,ab-R,L);c?c.md(a):(a.ud(this.j.oc),a.Vg(b.opacity),a.qe(),a.translate(-Y,-N),a.$d(),a.Oe(Q,ba,ca,ba,ca,K,Q,K,O));P.left=P.top=0;P.right=P.bottom=1;c&&(A=O.top,O.top=O.bottom,
O.bottom=A);G=1;W=0}a.Vg(1);x=e.length-1;var Zb=a.kp(e[x].ec)||!b&&!c&&!this.j.Sd;C=A=0;for(E=e.length;C<E;C++){z[G]||(z[G]=a.Rd(M,J,this.j.qb));if(z[G].hh!==M||z[G].gh!==J)a.deleteTexture(z[G]),z[G]=a.Rd(M,J,this.j.qb);a.vd(e[C].ec);A=e[C].index;a.rm(e[C].ec)&&(this.j.Ya=!0);0!=C||La?(a.Mi(d,1/M,1/J,P.left,P.top,P.right,P.bottom,f,h,g,k,(g+m)/2,(k+D)/2,this.j.Ed.rb,c?c.Db[A]:b?b.Db[A]:this.Db[A]),a.ud(null),C!==x||Zb?(a.se(z[G]),L=bb-S,I=J-S-L,a.clearRect(R,I,ab-R,L)):(c?a.Ug(c.Qc,c.Mc):b&&a.Ug(b.Qc,
b.Mc),a.se(d)),a.ud(z[W]),a.qe(),a.translate(-Y,-N),a.$d(),a.Oe(Q,ba,ca,ba,ca,K,Q,K,O),C!==x||Zb||a.ud(null)):(a.se(z[G]),L=bb-S,I=J-S-L,a.clearRect(R,I,ab-R,L),c?(c.Dc&&c.Dc.ma?(I=c.Dc.ma,W=1/I.width,I=1/I.height):(W=1/c.width,I=1/c.height),a.Mi(d,W,I,P.left,P.top,P.right,P.bottom,f,h,g,k,(g+m)/2,(k+D)/2,this.j.Ed.rb,c.Db[A]),c.md(a)):(a.Mi(d,1/M,1/J,0,0,1,1,f,h,g,k,(g+m)/2,(k+D)/2,this.j.Ed.rb,b?b.Db[A]:this.Db[A]),a.ud(b?this.j.oc:this.j.$b),a.qe(),a.translate(-Y,-N),a.$d(),a.Oe(Q,ba,ca,ba,ca,
K,Q,K,O)),P.left=P.top=0,P.right=P.bottom=1,c&&!Zb&&(A=ba,ba=K,K=A));G=0===G?1:0;W=0===G?1:0}Zb&&(a.vd(0),c?a.Ug(c.Qc,c.Mc):b?a.Ug(b.Qc,b.Mc):this.j.Sd||(a.Uh(this.j.width,this.j.height),Y=this.j.width/2,N=this.j.height/2,K=Q=0,ca=this.j.width,ba=this.j.height),a.se(d),a.ud(z[W]),a.qe(),a.translate(-Y,-N),a.$d(),c&&1===e.length&&!La?a.Oe(Q,K,ca,K,ca,ba,Q,ba,O):a.Oe(Q,ba,ca,ba,ca,K,Q,K,O),a.ud(null))};a.prototype.Bl=function(a){var b,c;b=0;for(c=this.Aa.length;b<c;b++)if(this.Aa[b].Na===a)return this.Aa[b];
return null};a.prototype.Pc=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.K,w:this.width,h:this.height,fv:this.pi,persist:this.Pg,fx:[],layers:{}};a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],d.fx.push({name:c.name,active:c.hd,params:this.Db[c.index]});a=0;for(b=this.Aa.length;a<b;a++)c=this.Aa[a],d.layers[c.Na.toString()]=c.Pc();return d};a.prototype.od=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.K=a.a;this.width=a.w;this.height=
a.h;this.Pg=a.persist;"undefined"!==typeof a.fv&&(this.pi=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.Wn(f[b].name))d.hd=f[b].active,this.Db[d.index]=f[b].params;this.Ue();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.Bl(parseInt(e,10)))&&a.od(b[e])};ec=a;b.prototype.Ue=function(){F(this.Va);this.Tf=!0;var a,b,c;a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],c.hd&&(this.Va.push(c),c.Me||(this.Tf=!1))};b.prototype.Wn=function(a){var b,c,d;b=0;for(c=this.xa.length;b<c;b++)if(d=this.xa[b],
d.name===a)return d;return null};b.prototype.mv=function(){var a,b,c,d,e,f;b=a=0;for(c=this.Td.length;a<c;a++){d=this.Td[a];e=this.j.ea[d[1]];f=this.j.Np(e);e=!0;if(!f||this.pc.pi){d=this.j.ug(d,this,!0);if(!d)continue;g.push(d);d.type.global&&(e=!1,this.lj.push(d.uid))}e&&(this.Td[b]=this.Td[a],b++)}this.Td.length=b;this.j.Kc();!this.j.aa&&this.xa.length&&(this.Lc=this.Ov);this.ij=Cb(this.Lc);this.j.fa&&Ib(this,this.Lc,this.j.fa);this.Pe=!0};b.prototype.Ki=function(a,b){var c=Ha(this.D,a);0>c||(b&&
this.ae&&a.td&&a.td.right>=a.td.left&&(a.Oa(),this.Ic.update(a,a.td,null),a.td.set(0,0,-1,-1)),c===this.D.length-1?this.D.pop():(Ba(this.D,c),this.qk(c)),this.Pe=!0)};b.prototype.ej=function(a,b){a.We=this.D.length;this.D.push(a);b&&this.ae&&a.td&&a.ua();this.Pe=!0};b.prototype.my=function(a){this.D.unshift(a);this.qk(0)};b.prototype.Tx=function(a,b,c){var d=a.jf();b=b.jf();Ba(this.D,d);d<b&&b--;c&&b++;b===this.D.length?this.D.push(a):this.D.splice(b,0,a);this.qk(d<b?d:b)};b.prototype.qk=function(a){-1===
this.dg?this.dg=a:a<this.dg&&(this.dg=a);this.Pe=this.ai=!0};b.prototype.Qp=function(){if(this.ai){-1===this.dg&&(this.dg=0);var a,b,c;if(this.ae)for(a=this.dg,b=this.D.length;a<b;++a)c=this.D[a],c.We=a,this.Ic.Qx(c.td);else for(a=this.dg,b=this.D.length;a<b;++a)this.D[a].We=a;this.ai=!1;this.dg=-1}};b.prototype.Dd=function(a){return this.Lw()*(this.j.Sd||a?this.j.fj:1)};b.prototype.Lw=function(){return(this.scale*this.pc.scale-1)*this.Sc+1};b.prototype.Bd=function(){return this.Bf?0:Na(this.pc.K+
this.K)};var k=[],h=[],m=[];b.prototype.Zn=function(){this.Qp();this.Ic.vm(this.Za,this.$a,this.hb,this.gb,m);if(!m.length)return d();if(1===m.length){var a=d();Fa(a,m[0]);F(m);return a}for(var b=!0;1<m.length;){for(var a=m,c=void 0,e=void 0,g=void 0,k=void 0,u=void 0,c=0,e=a.length;c<e-1;c+=2){var g=a[c],k=a[c+1],u=d(),r=g,y=k,B=u,D=0,z=0,C=0,E=r.length,x=y.length,A=void 0,G=void 0;for(B.length=E+x;D<E&&z<x;++C)A=r[D],G=y[z],A.We<G.We?(B[C]=A,++D):(B[C]=G,++z);for(;D<E;++D,++C)B[C]=r[D];for(;z<x;++z,
++C)B[C]=y[z];b||(f(g),f(k));h.push(u)}1===e%2&&(b?(g=d(),Fa(g,a[e-1]),h.push(g)):h.push(a[e-1]));Fa(a,h);F(h);b=!1}a=m[0];F(m);return a};b.prototype.Fe=function(a){this.of=this.xl||1!==this.opacity||0!==this.Lc;var b=this.j.canvas,c=a,d=!1;this.of&&(this.j.Rl||(this.j.Rl=document.createElement("canvas"),b=this.j.Rl,b.width=this.j.ra,b.height=this.j.qa,this.j.Nr=b.getContext("2d"),d=!0),b=this.j.Rl,c=this.j.Nr,b.width!==this.j.ra&&(b.width=this.j.ra,d=!0),b.height!==this.j.qa&&(b.height=this.j.qa,
d=!0),d&&this.j.Cm(c,this.j.qb),this.Te&&c.clearRect(0,0,this.j.ra,this.j.qa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Te||(c.fillStyle="rgb("+this.Ce[0]+","+this.Ce[1]+","+this.Ce[2]+")",c.fillRect(0,0,this.j.ra,this.j.qa));c.save();this.Bf=!0;var d=this.hc(0,0,!0,!0),e=this.hc(0,0,!1,!0);this.Bf=!1;this.j.Xd&&(d=Math.round(d),e=Math.round(e));this.ym(d,e,c);var h=this.Dd();c.scale(h,h);c.translate(-d,-e);this.ae?(this.Ec.left=this.Ic.fd(this.Za),this.Ec.top=this.Ic.gd(this.$a),
this.Ec.right=this.Ic.fd(this.hb),this.Ec.bottom=this.Ic.gd(this.gb),this.Pe||!this.Ec.nj(this.Bi)?(f(this.Lf),d=this.Zn(),this.Pe=!1,this.Bi.jj(this.Ec)):d=this.Lf):d=this.D;for(var g,k=null,e=0,h=d.length;e<h;++e)g=d[e],g!==k&&(this.Jv(g,c),k=g);this.ae&&(this.Lf=d);c.restore();this.of&&(a.globalCompositeOperation=this.ij,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.Jv=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Oa();var c=a.yb;c.right<this.Za||c.bottom<this.$a||c.left>
this.hb||c.top>this.gb||(b.globalCompositeOperation=a.ij,a.Fe(b))}};b.prototype.$m=function(){this.Bf=!0;var a=this.hc(0,0,!0,!0),b=this.hc(0,0,!1,!0);this.Bf=!1;this.j.Xd&&(a=Math.round(a),b=Math.round(b));this.ym(a,b,null)};b.prototype.ym=function(a,b,c){var d=this.Dd();this.Za=a;this.$a=b;this.hb=a+1/d*this.j.ra;this.gb=b+1/d*this.j.qa;this.Za>this.hb&&(a=this.Za,this.Za=this.hb,this.hb=a);this.$a>this.gb&&(a=this.$a,this.$a=this.gb,this.gb=a);a=this.Bd();0!==a&&(c&&(c.translate(this.j.ra/2,this.j.qa/
2),c.rotate(-a),c.translate(this.j.ra/-2,this.j.qa/-2)),this.Yf.set(this.Za,this.$a,this.hb,this.gb),this.Yf.offset((this.Za+this.hb)/-2,(this.$a+this.gb)/-2),this.qt.dt(this.Yf,a),this.qt.Fq(this.Yf),this.Yf.offset((this.Za+this.hb)/2,(this.$a+this.gb)/2),this.Za=this.Yf.left,this.$a=this.Yf.top,this.hb=this.Yf.right,this.gb=this.Yf.bottom)};b.prototype.kh=function(a){if(this.of=this.xl){this.j.oc||(this.j.oc=a.Rd(this.j.ra,this.j.qa,this.j.qb));if(this.j.oc.hh!==this.j.ra||this.j.oc.gh!==this.j.qa)a.deleteTexture(this.j.oc),
this.j.oc=a.Rd(this.j.ra,this.j.qa,this.j.qb);a.se(this.j.oc)}this.Bf=!0;var b=this.hc(0,0,!0,!0),c=this.hc(0,0,!1,!0);this.Bf=!1;this.j.Xd&&(b=Math.round(b),c=Math.round(c));this.ym(b,c,null);b=this.Dd();a.qe();a.scale(b,b);a.zm(-this.Bd());a.translate((this.Za+this.hb)/-2,(this.$a+this.gb)/-2);a.$d();this.ae?(this.Ec.left=this.Ic.fd(this.Za),this.Ec.top=this.Ic.gd(this.$a),this.Ec.right=this.Ic.fd(this.hb),this.Ec.bottom=this.Ic.gd(this.gb),this.Pe||!this.Ec.nj(this.Bi)?(f(this.Lf),b=this.Zn(),
this.Pe=!1,this.Bi.jj(this.Ec)):b=this.Lf):b=this.D;for(var d,e=null,c=b.length-1;0<=c;--c)d=b[c],d!==e&&(this.Lv(b[c],a),e=d);this.ae&&(this.Lf=b);this.Te||(this.Dn=this.j.nh++,a.Dm(this.Dn),a.Xs(1,1,1),a.er(),a.Ay())};b.prototype.md=function(a){var b=0,c=0;if(this.of=this.xl||1!==this.opacity||0<this.Va.length||0!==this.Lc){this.j.oc||(this.j.oc=a.Rd(this.j.ra,this.j.qa,this.j.qb));if(this.j.oc.hh!==this.j.ra||this.j.oc.gh!==this.j.qa)a.deleteTexture(this.j.oc),this.j.oc=a.Rd(this.j.ra,this.j.qa,
this.j.qb);a.se(this.j.oc);this.Te&&a.clear(0,0,0,0)}this.Te||(this.j.ob?(a.Dm(this.Dn),a.Xs(this.Ce[0]/255,this.Ce[1]/255,this.Ce[2]/255),a.er(),a.Jy()):a.clear(this.Ce[0]/255,this.Ce[1]/255,this.Ce[2]/255,1));this.Bf=!0;var d=this.hc(0,0,!0,!0),b=this.hc(0,0,!1,!0);this.Bf=!1;this.j.Xd&&(d=Math.round(d),b=Math.round(b));this.ym(d,b,null);d=this.Dd();a.qe();a.scale(d,d);a.zm(-this.Bd());a.translate((this.Za+this.hb)/-2,(this.$a+this.gb)/-2);a.$d();this.ae?(this.Ec.left=this.Ic.fd(this.Za),this.Ec.top=
this.Ic.gd(this.$a),this.Ec.right=this.Ic.fd(this.hb),this.Ec.bottom=this.Ic.gd(this.gb),this.Pe||!this.Ec.nj(this.Bi)?(f(this.Lf),b=this.Zn(),this.Pe=!1,this.Bi.jj(this.Ec)):b=this.Lf):b=this.D;var e,h,g=null,c=0;for(e=b.length;c<e;++c)h=b[c],h!==g&&(this.Kv(b[c],a),g=h);this.ae&&(this.Lf=b);this.of&&(b=this.Va.length?this.Va[0].ec:0,c=this.Va.length?this.Va[0].index:0,0===this.Va.length||1===this.Va.length&&!a.kp(b)&&1===this.opacity?(1===this.Va.length?(a.vd(b),a.Mi(this.pc.Cj(),1/this.j.ra,1/
this.j.qa,0,0,1,1,d,this.Bd(),this.Za,this.$a,(this.Za+this.hb)/2,(this.$a+this.gb)/2,this.j.Ed.rb,this.Db[c]),a.rm(b)&&(this.j.Ya=!0)):a.vd(0),a.se(this.pc.Cj()),a.Vg(this.opacity),a.ud(this.j.oc),a.Ug(this.Qc,this.Mc),a.qe(),a.$d(),d=this.j.ra/2,b=this.j.qa/2,a.ok(-d,b,d,b,d,-b,-d,-b),a.ud(null)):this.pc.rp(a,this,null,this.pc.Cj()))};b.prototype.Kv=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Oa();var c=a.yb;c.right<this.Za||c.bottom<this.$a||c.left>this.hb||c.top>this.gb||(b.Dm(a.nh),
a.Gt?this.Mv(a,b):(b.vd(0),b.Ug(a.Qc,a.Mc),a.md(b)))}};b.prototype.Lv=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Oa();var c=a.yb;c.right<this.Za||c.bottom<this.$a||c.left>this.hb||c.top>this.gb||(a.nh=this.j.nh++,0===a.Lc&&1===a.opacity&&a.Tf&&a.kh&&(b.Dm(a.nh),a.kh(b)))}};b.prototype.Mv=function(a,b){var c=a.Va[0].ec,d=a.Va[0].index,e=this.Dd();if(1!==a.Va.length||b.kp(c)||b.qy(c)||(a.K||a.T.Bd())&&b.kk(c)||1!==a.opacity||a.type.jb.ns)this.pc.rp(b,this,a,this.of?this.j.oc:this.pc.Cj()),
b.qe(),b.scale(e,e),b.zm(-this.Bd()),b.translate((this.Za+this.hb)/-2,(this.$a+this.gb)/-2),b.$d();else{b.vd(c);b.Ug(a.Qc,a.Mc);b.rm(c)&&(this.j.Ya=!0);var f=0,h=0,g=0,k=0;b.kk(c)&&(k=a.yb,f=this.Bb(k.left,k.top,!0,!0),h=this.Bb(k.left,k.top,!1,!0),g=this.Bb(k.right,k.bottom,!0,!0),k=this.Bb(k.right,k.bottom,!1,!0),f=f/windowWidth,h=1-h/windowHeight,g=g/windowWidth,k=1-k/windowHeight);var m;a.Dc&&a.Dc.ma?(m=a.Dc.ma,c=1/m.width,m=1/m.height):(c=1/a.width,m=1/a.height);b.Mi(this.of?this.j.oc:this.pc.Cj(),
c,m,f,h,g,k,e,this.Bd(),this.Za,this.$a,(this.Za+this.hb)/2,(this.$a+this.gb)/2,this.j.Ed.rb,a.Db[d]);a.md(b)}};b.prototype.hc=function(a,b,c,d){var e=this.j.devicePixelRatio;this.j.Ah&&(a*=e,b*=e);var e=this.j.Bs,f=this.j.Cs,e=(this.pc.scrollX-e)*this.rd+e,f=(this.pc.scrollY-f)*this.sd+f,h=e,g=f,k=1/this.Dd(!d);d?(h-=this.j.ra*k/2,g-=this.j.qa*k/2):(h-=this.j.width*k/2,g-=this.j.height*k/2);h+=a*k;g+=b*k;b=this.Bd();0!==b&&(h-=e,g-=f,a=Math.cos(b),b=Math.sin(b),d=h*a-g*b,g=g*a+h*b,h=d+e,g+=f);return c?
h:g};b.prototype.Bb=function(a,b,c,d){var e=this.j.Bs,f=this.j.Cs,h=(this.pc.scrollX-e)*this.rd+e,g=(this.pc.scrollY-f)*this.sd+f,f=h,e=g,k=this.Bd();if(0!==k){a-=h;b-=g;var m=Math.cos(-k),k=Math.sin(-k),D=a*m-b*k;b=b*m+a*k;a=D+h;b+=g}h=1/this.Dd(!d);d?(f-=this.j.ra*h/2,e-=this.j.qa*h/2):(f-=this.j.width*h/2,e-=this.j.height*h/2);f=(a-f)/h;e=(b-e)/h;a=this.j.devicePixelRatio;this.j.Ah&&!d&&(f/=a,e/=a);return c?f:e};b.prototype.Pc=function(){var a,b,c,d={s:this.scale,a:this.K,vl:this.Za,vt:this.$a,
vr:this.hb,vb:this.gb,v:this.visible,bc:this.Ce,t:this.Te,px:this.rd,py:this.sd,o:this.opacity,zr:this.Sc,fx:[],cg:this.lj,instances:[]};a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],d.fx.push({name:c.name,active:c.hd,params:this.Db[c.index]});return d};b.prototype.od=function(a){var b,d,e;this.scale=a.s;this.K=a.a;this.Za=a.vl;this.$a=a.vt;this.hb=a.vr;this.gb=a.vb;this.visible=a.v;this.Ce=a.bc;this.Te=a.t;this.rd=a.px;this.sd=a.py;this.opacity=a.o;this.Sc=a.zr;this.lj=a.cg||[];Fa(this.Td,this.kt);
var f=new ea;b=0;for(e=this.lj.length;b<e;++b)f.add(this.lj[b]);d=b=0;for(e=this.Td.length;b<e;++b)f.contains(this.Td[b][2])||(this.Td[d]=this.Td[b],++d);Da(this.Td,d);d=a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.Wn(d[b].name))a.hd=d[b].active,this.Db[a.index]=d[b].params;this.Ue();this.D.sort(c);this.ai=!0};Bc=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,f,h;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=v.length&&(v.length=b.length+1);v[b.length]||(v[b.length]=[]);h=v[b.length];d=0;for(e=h.length;d<e;d++)if(f=h[d],a(b,f))return f;h.push(b);return b}
function d(a,b){this.j=a;this.wt={};this.$q={};this.io=!1;this.tr=new ea;this.Jn=[];this.un=[];this.name=b[0];var c=b[1];this.yg=[];var d,e;d=0;for(e=c.length;d<e;d++)this.xr(c[d],null,this.yg)}function f(a){this.type=a;this.D=[];this.La=[];this.Wa=!0}function g(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.nb=[];this.Wg=[];this.rr=this.Tm=this.Jp=this.no=this.group=this.Cp=!1;this.jc=[];this.fe=[];this.te=[];this.Ej="";this.uh=this.no=this.group=!1;this.il=null;c[1]&&(this.Ej=c[1][1].toLowerCase(),
this.group=!0,this.no=!!c[1][0],this.il=[],this.uh=this.no,this.j.gi.push(this),this.j.ri[this.Ej]=this);this.oe=c[2];this.Na=c[4];this.group||(this.j.Eq[this.Na.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Cc(this,d[a]);e.index=a;this.jc.push(e);this.yq(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Dc(this,d[a]),e.index=a,this.fe.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.xr(c[a],this,this.te);this.Kl=!1;this.jc.length&&(this.Kl=null==this.jc[0].type&&
this.jc[0].Gc==X.prototype.P.St)}function e(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.nd))for(c=0,d=a.Ad.length;c<d;c++)e=a.Ad[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function k(a,b){this.Qd=a;this.sheet=a.sheet;this.j=a.j;this.Ga=[];this.Ib=[];this.ca={};this.index=-1;this.cj=!1;this.Gc=this.j.hg(b[1]);this.trigger=0<b[3];this.Zq=2===b[3];this.qo=b[5];this.Ix=b[6];this.Na=b[7];this.j.sg[this.Na.toString()]=this;-1===b[0]?(this.type=null,this.cc=this.xp,this.fh=null,this.De=-1):(this.type=
this.j.ea[b[0]],this.cc=this.Ix?this.Fy:this.wp,b[2]?(this.fh=this.type.zl(b[2]),this.De=this.type.Un(b[2])):(this.fh=null,this.De=-1),this.Qd.parent&&this.Qd.parent.Fm());this.Zq&&(this.cc=this.Gy);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var f=new Ec(this,e[c]);this.Ga.push(f)}this.Ib.length=e.length}}function h(a,b){this.Qd=a;this.sheet=a.sheet;this.j=a.j;this.Ga=[];this.Ib=[];this.ca={};this.index=-1;this.cj=!1;this.Gc=this.j.hg(b[1]);-1===b[0]?(this.type=null,this.cc=this.xp,
this.fh=null,this.De=-1):(this.type=this.j.ea[b[0]],this.cc=this.wp,b[2]?(this.fh=this.type.zl(b[2]),this.De=this.type.Un(b[2])):(this.fh=null,this.De=-1));this.Na=b[3];this.j.kg[this.Na.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var f=new Ec(this,e[c]);this.Ga.push(f)}this.Ib.length=e.length}}function m(){u++;t.length===u&&t.push(new Fc);return t[u]}function l(a,b){this.pe=a;this.Qd=a.Qd;this.sheet=a.sheet;this.j=a.j;this.type=b[0];this.gf=null;this.Uf=0;this.get=
null;this.Nq=0;this.pc=null;this.key=0;this.object=null;this.index=0;this.Ck=this.Vh=this.Ck=this.Vh=this.cr=this.ph=this.Dk=null;this.we=!1;var c,d,e;switch(b[0]){case 0:case 7:this.gf=new Gc(this,b[1]);this.Uf=0;this.get=this.Vw;break;case 1:this.gf=new Gc(this,b[1]);this.Uf=0;this.get=this.Ww;break;case 5:this.gf=new Gc(this,b[1]);this.Uf=0;this.get=this.$w;break;case 3:case 8:this.Nq=b[1];this.get=this.Tw;break;case 6:this.pc=this.j.Ko[b[1]];this.get=this.ax;break;case 9:this.key=b[1];this.get=
this.Zw;break;case 4:this.object=this.j.ea[b[1]];this.get=this.bx;this.Qd.yq(this.object);this.pe instanceof Dc?this.Qd.Fm():this.Qd.parent&&this.Qd.parent.Fm();break;case 10:this.index=b[1];a.type&&a.type.la?(this.get=this.Xw,this.we=!0):this.get=this.Yw;break;case 11:this.Dk=b[1];this.ph=null;this.get=this.Uw;break;case 2:case 12:this.cr=b[1];this.get=this.Sw;break;case 13:for(this.get=this.cx,this.Vh=[],this.Ck=[],c=1,d=b.length;c<d;c++)e=new Ec(this.pe,b[c]),this.Vh.push(e),this.Ck.push(0)}}function n(a,
b,c){this.sheet=a;this.parent=b;this.j=a.j;this.nb=[];this.name=c[1];this.Sp=c[2];this.mo=c[3];this.Oj=!!c[4];this.Jl=!!c[5];this.Na=c[6];this.j.Vi[this.Na.toString()]=this;this.data=this.mo;this.parent?(this.Lh=this.Oj||this.Jl?-1:this.j.Ny++,this.j.Vu.push(this)):(this.Lh=-1,this.j.Uu.push(this))}function p(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.nb=[];this.Gj=null;this.mx=c[1];this.hd=!0}function q(){this.nt=[];this.reset(null)}var v=[];d.prototype.toString=function(){return this.name};
d.prototype.xr=function(a,b,c){switch(a[0]){case 0:a=new Hc(this,b,a);if(a.oe)for(c.push(a),c=0,b=a.jc.length;c<b;c++)a.jc[c].trigger&&this.yr(a,c);else a.Hr()?this.yr(a,0):c.push(a);break;case 1:a=new yc(this,b,a);c.push(a);break;case 2:a=new Ic(this,b,a),c.push(a)}};d.prototype.Tb=function(){var a,b;a=0;for(b=this.yg.length;a<b;a++)this.yg[a].Tb(a<b-1&&this.yg[a+1].Kl)};d.prototype.Op=function(){F(this.Jn);F(this.un);this.xq(this);F(this.un)};d.prototype.xq=function(a){var b,c,d,e,f=a.Jn,h=a.un,
g=this.tr.Ve();b=0;for(c=g.length;b<c;++b)d=g[b],e=d.Gj,!d.hd||a===e||-1<h.indexOf(e)||(h.push(e),e.xq(a),f.push(e))};d.prototype.cc=function(a){this.j.wA||(this.io=!0,a||(this.j.xo=!0));var b,c;b=0;for(c=this.yg.length;b<c;b++){var d=this.yg[b];d.cc();this.j.Cn(d.nb);this.j.Bg&&this.j.Kc()}a||(this.j.xo=!1)};d.prototype.yr=function(a,b){a.oe||this.j.Xm.push(a);var c,d,e=a.jc[b],f;e.type?f=e.type.name:f="system";var h=(c=e.Zq)?this.$q:this.wt;h[f]||(h[f]=[]);f=h[f];h=e.Gc;if(c){if(e.Ga.length&&(e=
e.Ga[0],1===e.type&&2===e.gf.type)){e=e.gf.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==h){c=f[c].pj;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:h,pj:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==h){f[c].pj.push([a,b]);return}ed&&h===ed.prototype.P.fi?f.unshift({method:h,pj:[[a,b]]}):f.push({method:h,pj:[[a,b]]})}};fc=d;f.prototype.ho=function(){return this.Wa?this.type.D.length:this.D.length};f.prototype.Cd=function(){return this.Wa?this.type.D:
this.D};f.prototype.hk=function(a){a&&(a.j.xc().Fc.oe?(this.Wa&&(F(this.D),Fa(this.La,a.type.D),this.Wa=!1),a=this.La.indexOf(a),-1!==a&&(this.D.push(this.La[a]),this.La.splice(a,1))):(this.Wa=!1,F(this.D),this.D[0]=a))};Ob=f;window._c2hh_="DA39A3EE5E6B4B0D3255BFEF95601890AFD80709";g.prototype.Tb=function(a){var c,d=this.parent;if(this.group)for(this.Tm=!0;d;){if(!d.group){this.Tm=!1;break}d=d.parent}this.Jp=!this.Hr()&&(!this.parent||this.parent.group&&this.parent.Tm);this.rr=!!a;this.Wg=this.nb.slice(0);
for(d=this.parent;d;){a=0;for(c=d.nb.length;a<c;a++)this.Ru(d.nb[a]);d=d.parent}this.nb=b(this.nb);this.Wg=b(this.Wg);a=0;for(c=this.jc.length;a<c;a++)this.jc[a].Tb();a=0;for(c=this.fe.length;a<c;a++)this.fe[a].Tb();a=0;for(c=this.te.length;a<c;a++)this.te[a].Tb(a<c-1&&this.te[a+1].Kl)};g.prototype.Em=function(a){if(this.uh!==!!a){this.uh=!!a;var b;a=0;for(b=this.il.length;a<b;++a)this.il[a].Bt();0<b&&this.j.bb.oh&&this.j.bb.oh.Op()}};g.prototype.yq=function(a){e(a,this.nb)};g.prototype.Ru=function(a){e(a,
this.Wg)};g.prototype.Fm=function(){this.Cp=!0;this.parent&&this.parent.Fm()};g.prototype.Hr=function(){return this.jc.length?this.jc[0].trigger:!1};g.prototype.cc=function(){var a,b,c=!1,d=this.j,e=this.j.xc();e.Fc=this;var f=this.jc;this.Kl||(e.Kn=!1);if(this.oe){0===f.length&&(c=!0);e.ic=0;for(a=f.length;e.ic<a;e.ic++)b=f[e.ic],b.trigger||(b=b.cc())&&(c=!0);(e.Dh=c)&&this.Am()}else{e.ic=0;for(a=f.length;e.ic<a;e.ic++)if(b=f[e.ic].cc(),!b){e.Dh=!1;this.Jp&&d.Bg&&d.Kc();return}e.Dh=!0;this.Am()}this.Qv(e)};
g.prototype.Qv=function(a){a.Dh&&this.rr&&(a.Kn=!0);this.Jp&&this.j.Bg&&this.j.Kc()};g.prototype.Dy=function(a){this.j.xc().Fc=this;this.jc[a].cc()&&(this.Am(),this.j.xc().Dh=!0)};g.prototype.Am=function(){var a=this.j.xc(),b;a.Pd=0;for(b=this.fe.length;a.Pd<b;a.Pd++)if(this.fe[a.Pd].cc())return;this.Ss()};g.prototype.By=function(){var a=this.j.xc(),b;for(b=this.fe.length;a.Pd<b;a.Pd++)if(this.fe[a.Pd].cc())return;this.Ss()};g.prototype.Ss=function(){if(this.te.length){var a,b,c,d,e=this.te.length-
1;this.j.um(this);if(this.Cp)for(a=0,b=this.te.length;a<b;a++)c=this.te[a],(d=!this.Tm||!this.group&&a<e)&&this.j.nk(c.nb),c.cc(),d?this.j.Qg(c.nb):this.j.Cn(c.nb);else for(a=0,b=this.te.length;a<b;a++)this.te[a].cc();this.j.nm()}};g.prototype.Ey=function(){var a=this.j.xc();a.Fc=this;var b=!1,c;a.ic=0;for(c=this.jc.length;a.ic<c;a.ic++)if(this.jc[a.ic].cc())b=!0;else if(!this.oe)return!1;return this.oe?b:!0};g.prototype.up=function(){this.j.qh++;var a=this.j.xc().ic,b=this.j.um(this);if(!this.oe)for(b.ic=
a+1,a=this.jc.length;b.ic<a;b.ic++)if(!this.jc[b.ic].cc()){this.j.nm();return}this.Am();this.j.nm()};g.prototype.Cx=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.jc[b].type===a.type)return!1;return!0};Hc=g;k.prototype.Tb=function(){var a,b,c;a=0;for(b=this.Ga.length;a<b;a++)c=this.Ga[a],c.Tb(),c.we&&(this.cj=!0)};k.prototype.Gy=function(){return!0};k.prototype.xp=function(){var a,b;a=0;for(b=this.Ga.length;a<b;a++)this.Ib[a]=this.Ga[a].get();return db(this.Gc.apply(this.j.qf,
this.Ib),this.qo)};k.prototype.Fy=function(){var a,b;a=0;for(b=this.Ga.length;a<b;a++)this.Ib[a]=this.Ga[a].get();a=this.Gc.apply(this.fh?this.fh:this.type,this.Ib);this.type.Be();return a};k.prototype.wp=function(){var a,b,c,d,e,f,h,g,k=this.type,l=k.Ma(),m=this.Qd.oe&&!this.trigger;b=0;var q=k.nd,n=k.la,t=k.Df,p=this.De,v=-1<p,u=this.cj,O=this.Ga,P=this.Ib,Q=this.qo,R=this.Gc,K;if(u)for(b=0,e=O.length;b<e;++b)f=O[b],f.we||(P[b]=f.get(0));else for(b=0,e=O.length;b<e;++b)P[b]=O[b].get(0);if(l.Wa){F(l.D);
F(l.La);K=k.D;a=0;for(d=K.length;a<d;++a){g=K[a];if(u)for(b=0,e=O.length;b<e;++b)f=O[b],f.we&&(P[b]=f.get(a));v?(b=0,n&&(b=g.type.oi[t]),b=R.apply(g.wa[p+b],P)):b=R.apply(g,P);(h=db(b,Q))?l.D.push(g):m&&l.La.push(g)}k.finish&&k.finish(!0);l.Wa=!1;k.Be();return l.ho()}c=0;K=(h=m&&!this.Qd.Cx(this))?l.La:l.D;var S=!1;a=0;for(d=K.length;a<d;++a){g=K[a];if(u)for(b=0,e=O.length;b<e;++b)f=O[b],f.we&&(P[b]=f.get(a));v?(b=0,n&&(b=g.type.oi[t]),b=R.apply(g.wa[p+b],P)):b=R.apply(g,P);if(db(b,Q))if(S=!0,h){if(l.D.push(g),
q)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Ma().D.push(f)}else{K[c]=g;if(q)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Ma().D[c]=f;c++}else if(h){K[c]=g;if(q)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Ma().La[c]=f;c++}else if(m&&(l.La.push(g),q))for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Ma().La.push(f)}Da(K,c);if(q)for(n=k.Ad,a=0,d=n.length;a<d;a++)g=n[a].Ma(),h?Da(g.La,c):Da(g.D,c);c=S;if(h&&!S)for(a=0,d=l.D.length;a<d;a++){g=l.D[a];
if(u)for(b=0,e=O.length;b<e;b++)f=O[b],f.we&&(P[b]=f.get(a));b=v?R.apply(g.wa[p],P):R.apply(g,P);if(db(b,Q)){S=!0;break}}k.finish&&k.finish(c||m);return m?S:l.ho()};Cc=k;h.prototype.Tb=function(){var a,b,c;a=0;for(b=this.Ga.length;a<b;a++)c=this.Ga[a],c.Tb(),c.we&&(this.cj=!0)};h.prototype.xp=function(){var a=this.j,b,c,d=this.Ga,e=this.Ib;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.Gc.apply(a.qf,e)};h.prototype.wp=function(){var a=this.type,b=this.De,c=a.Df,d=this.cj,e=this.Ga,f=this.Ib,
h=this.Gc,g=a.Ma().Cd(),a=a.la,k=-1<b,l,m,q,n,t,p;if(d)for(m=0,n=e.length;m<n;++m)t=e[m],t.we||(f[m]=t.get(0));else for(m=0,n=e.length;m<n;++m)f[m]=e[m].get(0);l=0;for(q=g.length;l<q;++l){p=g[l];if(d)for(m=0,n=e.length;m<n;++m)t=e[m],t.we&&(f[m]=t.get(l));k?(m=0,a&&(m=p.type.oi[c]),h.apply(p.wa[b+m],f)):h.apply(p,f)}return!1};Dc=h;var t=[],u=-1;l.prototype.Tb=function(){var a,b;if(11===this.type)this.ph=this.j.kr(this.Dk,this.Qd.parent);else if(13===this.type)for(a=0,b=this.Vh.length;a<b;a++)this.Vh[a].Tb();
this.gf&&this.gf.Tb()};l.prototype.Sx=function(a){this.we||!a||a.jb.Gm||(this.we=!0)};l.prototype.bt=function(){this.we=!0};l.prototype.Vw=function(a){this.Uf=a||0;a=m();this.gf.get(a);u--;return a.data};l.prototype.Ww=function(a){this.Uf=a||0;a=m();this.gf.get(a);u--;return ma(a.data)?a.data:""};l.prototype.bx=function(){return this.object};l.prototype.Tw=function(){return this.Nq};l.prototype.$w=function(a){this.Uf=a||0;a=m();this.gf.get(a);u--;return a.yc()?this.j.Ef(a.data):this.j.Aj(a.data)};
l.prototype.ax=function(){return this.pc};l.prototype.Zw=function(){return this.key};l.prototype.Yw=function(){return this.index};l.prototype.Xw=function(a){a=a||0;var b=this.pe.type,c=null,c=b.Ma(),d=c.Cd();if(d.length)c=d[a%d.length].type;else if(c.La.length)c=c.La[a%c.La.length].type;else if(b.D.length)c=b.D[a%b.D.length].type;else return 0;return this.index+c.sl[b.Df]};l.prototype.Uw=function(){return this.ph};l.prototype.Sw=function(){return this.cr};l.prototype.cx=function(){var a,b;a=0;for(b=
this.Vh.length;a<b;a++)this.Ck[a]=this.Vh[a].get();return this.Ck};Ec=l;n.prototype.Tb=function(){this.nb=b(this.nb)};n.prototype.Ni=function(a){var b=this.j.jr();this.parent&&!this.Oj&&b?(this.Lh>=b.length&&(b.length=this.Lh+1),b[this.Lh]=a):this.data=a};n.prototype.bo=function(){var a=this.j.jr();return!this.parent||this.Oj||!a||this.Jl?this.data:this.Lh>=a.length||"undefined"===typeof a[this.Lh]?this.mo:a[this.Lh]};n.prototype.cc=function(){!this.parent||this.Oj||this.Jl||this.Ni(this.mo)};yc=
n;p.prototype.toString=function(){return"include:"+this.Gj.toString()};p.prototype.Tb=function(){this.Gj=this.j.Mn[this.mx];this.sheet.tr.add(this);this.nb=b(this.nb);for(var a=this.parent;a;)a.group&&a.il.push(this),a=a.parent;this.Bt()};p.prototype.cc=function(){this.parent&&this.j.mk(this.j.ea);this.Gj.io||this.Gj.cc(!0);this.parent&&this.j.Qg(this.j.ea)};p.prototype.Bt=function(){for(var a=this.parent;a;){if(a.group&&!a.uh){this.hd=!1;return}a=a.parent}this.hd=!0};Ic=p;q.prototype.reset=function(a){this.Fc=
a;this.Pd=this.ic=0;F(this.nt);this.Kn=this.Dh=!1};q.prototype.Dx=function(){return this.Fc.Cp?!0:this.ic<this.Fc.jc.length-1?!!this.Fc.nb.length:!1};xc=q})();
(function(){function a(a,b){this.pe=a;this.j=a.j;this.type=b[0];this.get=[this.jw,this.fw,this.uw,this.xw,this.Uv,this.vw,this.ow,this.bw,this.mw,this.sw,this.Vv,this.rw,this.dw,this.pw,this.kw,this.lw,this.gw,this.hw,this.aw,this.ww,this.qw,this.iw,this.$v,this.ew][this.type];var c=null;this.Nf=this.Ga=this.Ib=this.Gc=this.Qm=this.second=this.first=this.value=null;this.De=-1;this.He=null;this.Ht=-1;this.ph=this.Dk=null;this.Li=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Gc(a,b[1]);break;case 18:this.first=new Gc(a,b[1]);this.second=new Gc(a,b[2]);this.Qm=new Gc(a,b[3]);break;case 19:this.Gc=this.j.hg(b[1]);this.Gc!==X.prototype.pb.random&&this.Gc!==X.prototype.pb.hv||this.pe.bt();this.Ib=[];this.Ga=[];3===b.length?(c=b[2],this.Ib.length=c.length+1):this.Ib.length=1;break;case 20:this.Nf=this.j.ea[b[1]];this.De=-1;this.Gc=this.j.hg(b[2]);this.Li=b[3];Lc.Function&&this.Gc===Lc.Function.prototype.pb.mz&&this.pe.bt();b[4]?this.He=new Gc(a,b[4]):this.He=null;this.Ib=
[];this.Ga=[];6===b.length?(c=b[5],this.Ib.length=c.length+1):this.Ib.length=1;break;case 21:this.Nf=this.j.ea[b[1]];this.Li=b[2];b[3]?this.He=new Gc(a,b[3]):this.He=null;this.Ht=b[4];break;case 22:this.Nf=this.j.ea[b[1]];this.Nf.zl(b[2]);this.De=this.Nf.Un(b[2]);this.Gc=this.j.hg(b[3]);this.Li=b[4];b[5]?this.He=new Gc(a,b[5]):this.He=null;this.Ib=[];this.Ga=[];7===b.length?(c=b[6],this.Ib.length=c.length+1):this.Ib.length=1;break;case 23:this.Dk=b[1],this.ph=null}this.pe.Sx(this.Nf);4<=this.type&&
17>=this.type&&(this.first=new Gc(a,b[1]),this.second=new Gc(a,b[2]));if(c){var d,f;d=0;for(f=c.length;d<f;d++)this.Ga.push(new Gc(a,c[d]))}}function c(){++g;f.length===g&&f.push(new Fc);return f[g]}function b(a,b,c){var d,f;d=0;for(f=a.length;d<f;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Jc.di;this.data=b||0;this.Qh=null;this.type==Jc.di&&(this.data=Math.floor(this.data))}a.prototype.Tb=function(){23===this.type&&(this.ph=this.pe.j.kr(this.Dk,this.pe.Qd.parent));this.first&&this.first.Tb();
this.second&&this.second.Tb();this.Qm&&this.Qm.Tb();this.He&&this.He.Tb();if(this.Ga){var a,b;a=0;for(b=this.Ga.length;a<b;a++)this.Ga[a].Tb()}};var f=[],g=-1;a.prototype.ww=function(a){var d=this.Ga,f=this.Ib;f[0]=a;a=c();b(d,f,a);--g;this.Gc.apply(this.j.qf,f)};a.prototype.qw=function(a){var d=this.Nf,f=this.Ib,m=this.Ga,l=this.He,n=this.Gc,p=this.pe.Uf,q=d.Ma(),v=q.Cd();if(!v.length)if(q.La.length)v=q.La;else{this.Li?a.bd(""):a.kb(0);return}f[0]=a;a.Qh=d;a=c();b(m,f,a);l&&(l.get(a),a.yc()&&(p=
a.data,v=d.D));--g;d=v.length;if(p>=d||p<=-d)p%=d;0>p&&(p+=d);n.apply(v[p],f)};a.prototype.$v=function(a){var d=this.Nf,f=this.Ib,m=this.Ga,l=this.He,n=this.De,p=this.Gc,q=this.pe.Uf,v=d.Ma(),t=v.Cd();if(!t.length)if(v.La.length)t=v.La;else{this.Li?a.bd(""):a.kb(0);return}f[0]=a;a.Qh=d;a=c();b(m,f,a);l&&(l.get(a),a.yc()&&(q=a.data,t=d.D));--g;m=t.length;if(q>=m||q<=-m)q%=m;0>q&&(q+=m);q=t[q];t=0;d.la&&(t=q.type.oi[d.Df]);p.apply(q.wa[n+t],f)};a.prototype.iw=function(a){var b=this.He,d=this.Nf,f=this.Ht,
l=this.pe.Uf,n=d.Ma(),p=n.Cd();if(!p.length)if(n.La.length)p=n.La;else{this.Li?a.bd(""):a.kb(0);return}if(b){n=c();b.get(n);if(n.yc()){l=n.data;p=d.D;0!==p.length&&(l%=p.length,0>l&&(l+=p.length));l=d.Yn(l);d=l.mc[f];ma(d)?a.bd(d):a.ka(d);--g;return}--g}b=p.length;if(l>=b||l<=-b)l%=b;0>l&&(l+=b);l=p[l];p=0;d.la&&(p=l.type.sl[d.Df]);d=l.mc[f+p];ma(d)?a.bd(d):a.ka(d)};a.prototype.jw=function(a){a.type=Jc.di;a.data=this.value};a.prototype.fw=function(a){a.type=Jc.ci;a.data=this.value};a.prototype.uw=
function(a){a.type=Jc.String;a.data=this.value};a.prototype.xw=function(a){this.first.get(a);a.yc()&&(a.data=-a.data)};a.prototype.Uv=function(a){this.first.get(a);var b=c();this.second.get(b);a.yc()&&b.yc()&&(a.data+=b.data,b.ti()&&a.Gi());--g};a.prototype.vw=function(a){this.first.get(a);var b=c();this.second.get(b);a.yc()&&b.yc()&&(a.data-=b.data,b.ti()&&a.Gi());--g};a.prototype.ow=function(a){this.first.get(a);var b=c();this.second.get(b);a.yc()&&b.yc()&&(a.data*=b.data,b.ti()&&a.Gi());--g};a.prototype.bw=
function(a){this.first.get(a);var b=c();this.second.get(b);a.yc()&&b.yc()&&(a.data/=b.data,a.Gi());--g};a.prototype.mw=function(a){this.first.get(a);var b=c();this.second.get(b);a.yc()&&b.yc()&&(a.data%=b.data,b.ti()&&a.Gi());--g};a.prototype.sw=function(a){this.first.get(a);var b=c();this.second.get(b);a.yc()&&b.yc()&&(a.data=Math.pow(a.data,b.data),b.ti()&&a.Gi());--g};a.prototype.Vv=function(a){this.first.get(a);var b=c();this.second.get(b);b.wi()||a.wi()?this.Xv(a,b):this.Wv(a,b);--g};a.prototype.Xv=
function(a,b){a.wi()&&b.wi()?this.Zv(a,b):this.Yv(a,b)};a.prototype.Zv=function(a,b){a.data+=b.data};a.prototype.Yv=function(a,b){a.wi()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.bd(a.data.toString()+b.data)};a.prototype.Wv=function(a,b){a.kb(a.data&&b.data?1:0)};a.prototype.rw=function(a){this.first.get(a);var b=c();this.second.get(b);a.yc()&&b.yc()&&(a.data||b.data?a.kb(1):a.kb(0));--g};a.prototype.aw=function(a){this.first.get(a);a.data?this.second.get(a):this.Qm.get(a)};a.prototype.dw=
function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data===b.data?1:0);--g};a.prototype.pw=function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data!==b.data?1:0);--g};a.prototype.kw=function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data<b.data?1:0);--g};a.prototype.lw=function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data<=b.data?1:0);--g};a.prototype.gw=function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data>b.data?1:0);--g};
a.prototype.hw=function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data>=b.data?1:0);--g};a.prototype.ew=function(a){var b=this.ph.bo();la(b)?a.ka(b):a.bd(b)};Gc=a;d.prototype.ti=function(){return this.type===Jc.ci};d.prototype.yc=function(){return this.type===Jc.di||this.type===Jc.ci};d.prototype.wi=function(){return this.type===Jc.String};d.prototype.Gi=function(){this.ti()||(this.wi()&&(this.data=parseFloat(this.data)),this.type=Jc.ci)};d.prototype.kb=function(a){this.type=Jc.di;
this.data=Math.floor(a)};d.prototype.ka=function(a){this.type=Jc.ci;this.data=a};d.prototype.bd=function(a){this.type=Jc.String;this.data=a};d.prototype.Ky=function(a){la(a)?(this.type=Jc.ci,this.data=a):ma(a)?(this.type=Jc.String,this.data=a.toString()):(this.type=Jc.di,this.data=0)};Fc=d;Jc={di:0,ci:1,String:2}})();function X(a){this.j=a;this.Nd=[]}
X.prototype.Pc=function(){var a={},c,b,d,f,g,e,k,h;a.waits=[];var m=a.waits,l;c=0;for(b=this.Nd.length;c<b;c++){e=this.Nd[c];l={t:e.time,st:e.Ly,s:e.gt,ev:e.oj.Na,sm:[],sols:{}};e.oj.fe[e.Pd]&&(l.act=e.oj.fe[e.Pd].Na);d=0;for(f=e.nb.length;d<f;d++)l.sm.push(e.nb[d].Na);for(g in e.Ld)if(e.Ld.hasOwnProperty(g)){k=this.j.ea[parseInt(g,10)];h={sa:e.Ld[g].Ts,insts:[]};d=0;for(f=e.Ld[g].yh.length;d<f;d++)h.insts.push(e.Ld[g].yh[d].uid);l.sols[k.Na.toString()]=h}m.push(l)}return a};
X.prototype.od=function(a){a=a.waits;var c,b,d,f,g,e,k,h,m,l,n;F(this.Nd);c=0;for(b=a.length;c<b;c++)if(e=a[c],h=this.j.Eq[e.ev.toString()]){m=-1;d=0;for(f=h.fe.length;d<f;d++)if(h.fe[d].Na===e.act){m=d;break}if(-1!==m){k={Ld:{},nb:[],Tq:!1};k.time=e.t;k.Ly=e.st||"";k.gt=!!e.s;k.oj=h;k.Pd=m;d=0;for(f=e.sm.length;d<f;d++)(h=this.j.Bj(e.sm[d]))&&k.nb.push(h);for(g in e.sols)if(e.sols.hasOwnProperty(g)&&(h=this.j.Bj(parseInt(g,10)))){m=e.sols[g];l={Ts:m.sa,yh:[]};d=0;for(f=m.insts.length;d<f;d++)(n=
this.j.sh(m.insts[d]))&&l.yh.push(n);k.Ld[h.index.toString()]=l}this.Nd.push(k)}}};
(function(){function a(){}function c(){}function b(){}var d=X.prototype;a.prototype.Ut=function(){return!0};a.prototype.cq=function(){return!0};a.prototype.qu=function(){return!0};a.prototype.Rt=function(a,b,c){return Kc(a,b,c)};var f=[],g=-1;a.prototype.Vt=function(a){var b=a.Ma();g++;f.length===g&&f.push([]);var c=f[g];Fa(c,b.Cd());var d=this.j.xc(),e=d.Fc,k=d.Dx(),d=this.j.uy(),v,t,u,r,y,B,D=a.nd;if(k)for(k=0,v=c.length;k<v&&!d.Fp;k++){this.j.nk(e.nb);r=c[k];b=a.Ma();b.Wa=!1;F(b.D);b.D[0]=r;if(D)for(t=
0,u=r.siblings.length;t<u;t++)y=r.siblings[t],B=y.type.Ma(),B.Wa=!1,F(B.D),B.D[0]=y;d.index=k;e.up();this.j.Qg(e.nb)}else for(b.Wa=!1,F(b.D),k=0,v=c.length;k<v&&!d.Fp;k++){r=c[k];b.D[0]=r;if(D)for(t=0,u=r.siblings.length;t<u;t++)y=r.siblings[t],B=y.type.Ma(),B.Wa=!1,F(B.D),B.D[0]=y;d.index=k;e.up()}F(c);this.j.hy();g--;return!1};a.prototype.Nu=function(){var a=this.j.Al().ca;"undefined"===typeof a.TriggerOnce_lastTick&&(a.TriggerOnce_lastTick=-1);var b=a.TriggerOnce_lastTick,c=this.j.Md;a.TriggerOnce_lastTick=
c;return this.j.Jo||b!==c-1};a.prototype.Tt=function(a){var b=this.j.Al(),c=b.ca.Every_lastTime||0,d=this.j.Ed.rb;"undefined"===typeof b.ca.Every_seconds&&(b.ca.Every_seconds=a);var e=b.ca.Every_seconds;if(d>=c+e)return b.ca.Every_lastTime=c+e,d>=b.ca.Every_lastTime+.04&&(b.ca.Every_lastTime=d),b.ca.Every_seconds=a,!0;d<c-.1&&(b.ca.Every_lastTime=d);return!1};a.prototype.$t=function(a){return(a=this.j.ri[a.toLowerCase()])&&a.uh};a.prototype.St=function(){var a=this.j.xc();return a.Kn?!1:!a.Dh};a.prototype.dq=
function(){return!0};a.prototype.iu=function(){return!0};a.prototype.kn=function(){return!0};a.prototype.iq=function(){return!0};a.prototype.ru=function(){return!0};a.prototype.Mk=function(){return!0};a.prototype.Mt=function(a,b,c){return Xa(H(a),H(c))<=H(b)};a.prototype.Zt=function(a,b){return $a(H(a),H(b))};a.prototype.Xt=function(a,b,c){a=Pa(a);b=Pa(b);c=Pa(c);return $a(c,b)?$a(a,b)&&!$a(a,c):!(!$a(a,b)&&$a(a,c))};d.P=new a;c.prototype.Wt=function(a){this.j.Qj||this.j.hj||(this.j.hj=a)};c.prototype.Du=
function(a,b){0===a.Sp?la(b)?a.Ni(b):a.Ni(parseFloat(b)):1===a.Sp&&a.Ni(b.toString())};c.prototype.Lu=function(a,b){0===a.Sp&&(la(b)?a.Ni(a.bo()-b):a.Ni(a.bo()-parseFloat(b)))};c.prototype.zu=function(a,b){var c=this.j.ri[a.toLowerCase()];if(c)switch(b){case 0:c.Em(!1);break;case 1:c.Em(!0);break;case 2:c.Em(!c.uh)}};var e=[],k=[];d.Ja=new c;b.prototype["int"]=function(a,b){ma(b)?(a.kb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.kb(b)};b.prototype["float"]=function(a,b){ma(b)?(a.ka(parseFloat(b)),
isNaN(a.data)&&(a.data=0)):a.ka(b)};b.prototype.Qy=function(a,b){ma(b)?a.bd(b):a.bd(b.toString())};b.prototype.random=function(a,b,c){void 0===c?a.ka(Math.random()*b):a.ka(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.ka(Math.sqrt(b))};b.prototype.abs=function(a,b){a.ka(Math.abs(b))};b.prototype.round=function(a,b){a.kb(Math.round(b))};b.prototype.floor=function(a,b){a.kb(Math.floor(b))};b.prototype.ceil=function(a,b){a.kb(Math.ceil(b))};b.prototype.sin=function(a,b){a.ka(Math.sin(H(b)))};
b.prototype.cos=function(a,b){a.ka(Math.cos(H(b)))};b.prototype.tan=function(a,b){a.ka(Math.tan(H(b)))};b.prototype.asin=function(a,b){a.ka(Ka(Math.asin(b)))};b.prototype.acos=function(a,b){a.ka(Ka(Math.acos(b)))};b.prototype.atan=function(a,b){a.ka(Ka(Math.atan(b)))};b.prototype.exp=function(a,b){a.ka(Math.exp(b))};b.prototype.log10=function(a,b){a.ka(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],
"number"===typeof e&&b<e&&(b=e);a.ka(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.ka(b)};b.prototype.Ba=function(a){a.ka(this.j.Ba)};b.prototype.Yh=function(a){a.ka(this.j.Yh)};b.prototype.time=function(a){a.ka(this.j.Ed.rb)};b.prototype.Md=function(a){a.kb(this.j.Md)};b.prototype.em=function(a){a.kb(this.j.em)};b.prototype.Rn=function(a){a.kb(this.j.Rn)};b.prototype.K=function(a,
b,c,d,e){a.ka(Ka(Sa(b,c,d,e)))};b.prototype.Kx=function(a){a.kb(this.j.bb.width)};b.prototype.Jx=function(a){a.kb(this.j.bb.height)};b.prototype.left=function(a,b,c){a.bd(ma(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.bd(ma(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){ma(b)&&ma(c)&&ma(d)?a.bd(b.replace(new RegExp(tb(c),"gi"),d)):a.bd(ma(b)?b:"")};b.prototype.trim=function(a,b){a.bd(ma(b)?b.trim():"")};b.prototype.hv=function(a){var b=ta(Math.random()*(arguments.length-
1));a.Ky(arguments[b+1])};b.prototype.En=function(a){a.ka(this.j.En/1E3)};b.prototype.Vl=function(a){a.ka(this.j.Vl)};d.pb=new b;d.Cy=function(){var a,b,c,d,f,g,v=this.j.xc();a=0;for(c=this.Nd.length;a<c;a++){d=this.Nd[a];if(-1===d.time){if(!d.gt)continue}else if(d.time>this.j.Ed.rb)continue;v.Fc=d.oj;v.Pd=d.Pd;v.ic=0;for(b in d.Ld)d.Ld.hasOwnProperty(b)&&(f=this.j.ea[parseInt(b,10)].Ma(),g=d.Ld[b],f.Wa=g.Ts,Fa(f.D,g.yh),f=g,F(f.yh),k.push(f));d.oj.By();this.j.Cn(d.nb);d.Tq=!0}b=a=0;for(c=this.Nd.length;a<
c;a++)d=this.Nd[a],this.Nd[b]=d,d.Tq?(lb(d.Ld),F(d.nb),e.push(d)):b++;Da(this.Nd,b)}})();
(function(){Nb=function(a,b){var d=a[1],f=a[3],g=a[4],e=a[5],k=a[6],h=a[7],m=a[8];b.P||(b.P={});b.Ja||(b.Ja={});b.pb||(b.pb={});var l=b.P,n=b.Ja,p=b.pb;f&&(l.rz=function(a,b){return Kc(this.x,a,b)},l.sz=function(a,b){return Kc(this.y,a,b)},l.yz=function(){var a=this.T;this.Oa();var b=this.yb;return!(b.right<a.Za||b.bottom<a.$a||b.left>a.hb||b.top>a.gb)},l.au=function(){this.Oa();var a=this.yb,b=this.j.bb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},l.Jz=function(a,b,c){var d=this.Ma(),
e=d.Cd();if(!e.length)return!1;var f=e[0],g=f,h=cb(f.x,f.y,b,c),k,l,m;k=1;for(l=e.length;k<l;k++)if(f=e[k],m=cb(f.x,f.y,b,c),0===a&&m<h||1===a&&m>h)h=m,g=f;d.hk(g);return!0},n.Gu=function(a){this.x!==a&&(this.x=a,this.ua())},n.Zz=function(a){this.y!==a&&(this.y=a,this.ua())},n.Au=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ua()},n.Wz=function(a,b){var c=a.Mw(this);if(c){var d;c.ie?(d=c.ie(b,!0),c=c.ie(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ua()}},
n.Dz=function(a){0!==a&&(this.x+=Math.cos(this.K)*a,this.y+=Math.sin(this.K)*a,this.ua())},n.Cz=function(a,b){0!==b&&(this.x+=Math.cos(H(a))*b,this.y+=Math.sin(H(a))*b,this.ua())},p.tn=function(a){a.ka(this.x)},p.tq=function(a){a.ka(this.y)},p.Ba=function(a){a.ka(this.j.xj(this))});g&&(l.qz=function(a,b){return Kc(this.width,a,b)},l.nz=function(a,b){return Kc(this.height,a,b)},n.Eu=function(a){this.width!==a&&(this.width=a,this.ua())},n.Tz=function(a){this.height!==a&&(this.height=a,this.ua())},n.Bu=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ua()},p.cA=function(a){a.ka(this.width)},p.vz=function(a){a.ka(this.height)},p.jz=function(a){this.Oa();a.ka(this.yb.left)},p.lz=function(a){this.Oa();a.ka(this.yb.top)},p.kz=function(a){this.Oa();a.ka(this.yb.right)},p.iz=function(a){this.Oa();a.ka(this.yb.bottom)});e&&(l.Mt=function(a,b){return Xa(this.K,H(b))<=H(a)},l.Zt=function(a){return $a(this.K,H(a))},l.Xt=function(a,b){var c=Pa(a),d=Pa(b),e=Na(this.K);return $a(d,
c)?$a(e,c)&&!$a(e,d):!(!$a(e,c)&&$a(e,d))},n.nn=function(a){a=H(Ma(a));isNaN(a)||this.K===a||(this.K=a,this.ua())},n.Nz=function(a){0===a||isNaN(a)||(this.K+=H(a),this.K=Na(this.K),this.ua())},n.Oz=function(a){0===a||isNaN(a)||(this.K-=H(a),this.K=Na(this.K),this.ua())},n.Pz=function(a,b){var c=Za(this.K,H(b),H(a));isNaN(c)||this.K===c||(this.K=c,this.ua())},n.Qz=function(a,b,c){a=Za(this.K,Math.atan2(c-this.y,b-this.x),H(a));isNaN(a)||this.K===a||(this.K=a,this.ua())},n.Xz=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.K===c||(this.K=c,this.ua())},p.Lt=function(a){a.ka(Oa(this.K))});d||(l.oz=function(a,b,c){return Kc(this.mc[a],b,c)},l.Yt=function(a){return this.mc[a]},l.Kz=function(a,b){var c=this.Ma(),d=c.Cd();if(!d.length)return!1;var e=d[0],f=e,g=e.mc[b],h,k,l;h=1;for(k=d.length;h<k;h++)if(e=d[h],l=e.mc[b],0===a&&l<g||1===a&&l>g)g=l,f=e;c.hk(f);return!0},l.tu=function(a){var b,c,d,e,f;if(this.j.Al().qo){f=this.Ma();if(f.Wa)for(f.Wa=!1,F(f.D),F(f.La),d=this.D,b=0,c=d.length;b<
c;b++)e=d[b],e.uid===a?f.La.push(e):f.D.push(e);else{d=b=0;for(c=f.D.length;b<c;b++)e=f.D[b],f.D[d]=e,e.uid===a?f.La.push(e):d++;Da(f.D,d)}this.Be();return!!f.D.length}e=this.j.sh(a);if(!e)return!1;f=this.Ma();if(!f.Wa&&-1===f.D.indexOf(e))return!1;if(this.la)for(a=e.type.Ab,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.hk(e),this.Be(),!0}else if(e.type===this)return f.hk(e),this.Be(),!0;return!1},l.Lk=function(){return!0},l.ku=function(){return!0},n.Uz=function(a,b){var c=this.mc;la(c[a])?c[a]=
la(b)?b:parseFloat(b):ma(c[a])&&(c[a]=ma(b)?b:b.toString())},n.hz=function(a,b){var c=this.mc;la(c[a])?c[a]=la(b)?c[a]+b:c[a]+parseFloat(b):ma(c[a])&&(c[a]=ma(b)?c[a]+b:c[a]+b.toString())},n.$z=function(a,b){var c=this.mc;la(c[a])&&(c[a]=la(b)?c[a]-b:c[a]-parseFloat(b))},n.yu=function(a,b){this.mc[a]=b?1:0},n.aA=function(a){this.mc[a]=1-this.mc[a]},n.ed=function(){this.j.Zg(this)},n.cu||(n.cu=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.j.Ul(this,b,!0);this.ye&&this.ye();if(this.wa)for(a=
0,b=this.wa.length;a<b;++a)c=this.wa[a],c.ye&&c.ye()}),p.uz=function(a){var b=a.Qh.D.length,c,d,e;c=0;for(d=this.j.Ee.length;c<d;c++)e=this.j.Ee[c],a.Qh.la?0<=e.type.Ab.indexOf(a.Qh)&&b++:e.type===a.Qh&&b++;a.kb(b)},p.Mz=function(a){a.kb(a.Qh.Ma().Cd().length)},p.bA=function(a){a.kb(this.uid)},p.wz=function(a){a.kb(this.Dj())},p.Ot||(p.Ot=function(a){a.bd(JSON.stringify(this.j.yp(this,!0)))}));k&&(l.zz=function(){return this.visible},n.Yz=function(a){!a!==!this.visible&&(this.visible=!!a,this.j.Ya=
!0)},l.pz=function(a,b){return Kc(Jb(100*this.opacity),a,b)},n.Vz=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.j.Ya=!0)},p.Opacity=function(a){a.ka(Jb(100*this.opacity))});h&&(l.xz=function(a){return a?this.T===a:!1},l.Lz=function(a){var b=this.Ma(),c=b.Cd();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.T.index>e.T.index||d.T.index===e.T.index&&d.jf()>e.jf())e=d}else if(d.T.index<e.T.index||d.T.index===e.T.index&&d.jf()<
e.jf())e=d;b.hk(e);return!0},n.Gz=function(){var a=this.T,b=a.D;b.length&&b[b.length-1]===this||(a.Ki(this,!1),a.ej(this,!1),this.j.Ya=!0)},n.Ez=function(){var a=this.T,b=a.D;b.length&&b[0]===this||(a.Ki(this,!1),a.my(this),this.j.Ya=!0)},n.Fz=function(a){a&&a!=this.T&&(this.T.Ki(this,!0),this.T=a,a.ej(this,!0),this.j.Ya=!0)},n.eA=function(a,b){var c=0===a;if(b){var d=b.lr(this);d&&d.uid!==this.uid&&(this.T.index!==d.T.index&&(this.T.Ki(this,!0),this.T=d.T,d.T.ej(this,!0)),this.T.Tx(this,d,c),this.j.Ya=
!0)}},p.Bz=function(a){a.kb(this.T.ss)},p.Az=function(a){a.bd(this.T.name)},p.dA=function(a){a.kb(this.jf())});m&&(n.Rz=function(a,b){if(this.j.aa){var c=this.type.Xn(b);if(!(0>c)){var d=1===a;this.jg[c]!==d&&(this.jg[c]=d,this.Ue(),this.j.Ya=!0)}}},n.Sz=function(a,b,c){if(this.j.aa){var d=this.type.Xn(a);0>d||(a=this.type.xa[d],d=this.Db[d],b=Math.floor(b),0>b||b>=d.length||(1===this.j.aa.Pw(a.ec,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.hd&&(this.j.Ya=!0))))}})};gc=function(){this.zn=this.wn=!0;this.type.Rk=
!0;this.j.Ya=!0;var a,b,d=this.xn;a=0;for(b=d.length;a<b;++a)d[a](this);this.T.ae&&this.Oa()};hc=function(a){a&&this.xn.push(a)};jc=function(){if(this.wn){var a=this.yb,b=this.eb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.Vc*this.width,-this.Wc*this.height);this.K?(a.offset(-this.x,-this.y),b.dt(a,this.K),b.offset(this.x,this.y),b.Fq(a)):b.rk(a);a.normalize();this.wn=!1;this.Zy()}};var a=new ya(0,0,0,0);kc=function(){if(this.T.ae){var c=this.T.Ic,b=this.yb;a.set(c.fd(b.left),
c.gd(b.top),c.fd(b.right),c.gd(b.bottom));this.td.nj(a)||(this.td.right<this.td.left?c.update(this,null,a):c.update(this,this.td,a),this.td.jj(a),this.T.Pe=!0)}};lc=function(){if(this.zn&&this.xf){this.Oa();var c=this.type.hl,b=this.yb;a.set(c.fd(b.left),c.gd(b.top),c.fd(b.right),c.gd(b.bottom));this.tg.nj(a)||(this.tg.right<this.tg.left?c.update(this,null,a):c.update(this,this.tg,a),this.tg.jj(a),this.zn=!1)}};ic=function(a,b){return this.yb.Tc(a,b)&&this.eb.Tc(a,b)?this.Ka&&!this.Ka.Bh()?(this.Ka.ih(this.width,
this.height,this.K),this.Ka.Tc(a-this.x,b-this.y)):!0:!1};cc=function(){this.type.Zm();return this.wh};mc=function(){this.T.Qp();return this.We};pc=function(){F(this.Va);var a,b,d,f=!0;a=0;for(b=this.jg.length;a<b;a++)this.jg[a]&&(d=this.type.xa[a],this.Va.push(d),d.Me||(f=!1));this.Gt=!!this.Va.length;this.Tf=f};dc=function(){return"Inst"+this.Ms};Qb=function(a){if(a&&a.nd&&a.type!=this){var b,d,f;b=0;for(d=a.siblings.length;b<d;b++)if(f=a.siblings[b],f.type==this)return f}a=this.Ma().Cd();return a.length?
a[0]:null};Rb=function(a){var b=this.Ma().Cd();return b.length?b[a.Dj()%b.length]:null};Pb=function(){if(this.Qi&&!this.la){var a,b;a=0;for(b=this.D.length;a<b;a++)this.D[a].wh=a;var d=a,f=this.j.Ee;a=0;for(b=f.length;a<b;++a)f[a].type===this&&(f[a].wh=d++);this.Qi=!1}};ac=function(a){if(a<this.D.length)return this.D[a];a-=this.D.length;var b=this.j.Ee,d,f;d=0;for(f=b.length;d<f;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};Sb=function(){return this.Vf[this.ff]};Tb=function(){this.ff++;
this.ff===this.Vf.length?this.Vf.push(new Ob(this)):(this.Vf[this.ff].Wa=!0,F(this.Vf[this.ff].La))};Ub=function(){this.ff++;this.ff===this.Vf.length&&this.Vf.push(new Ob(this));var a=this.Vf[this.ff],b=this.Vf[this.ff-1];b.Wa?(a.Wa=!0,F(a.La)):(a.Wa=!1,Fa(a.D,b.D),Fa(a.La,b.La))};Vb=function(){this.ff--};Wb=function(a){var b,d,f,g,e,k=0;if(!this.la)for(b=0,d=this.Ab.length;b<d;b++)for(e=this.Ab[b],f=0,g=e.Cb.length;f<g;f++){if(a===e.Cb[f].name)return this.ca.lastBehIndex=k,e.Cb[f];k++}b=0;for(d=
this.Cb.length;b<d;b++){if(a===this.Cb[b].name)return this.ca.lastBehIndex=k,this.Cb[b];k++}return null};Xb=function(a){return this.zl(a)?this.ca.lastBehIndex:-1};Yb=function(a){var b,d;b=0;for(d=this.xa.length;b<d;b++)if(this.xa[b].name===a)return b;return-1};$b=function(){if(this.nd&&!this.la){var a,b,d,f,g,e,k;this.Zm();e=this.Ma();var h=e.Wa,m=(a=this.j.xc())&&a.Fc&&a.Fc.oe;a=0;for(b=this.Ad.length;a<b;a++)if(g=this.Ad[a],g!==this&&(g.Zm(),k=g.Ma(),k.Wa=h,!h)){F(k.D);d=0;for(f=e.D.length;d<f;++d)k.D[d]=
g.Yn(e.D[d].wh);if(m)for(F(k.La),d=0,f=e.La.length;d<f;++d)k.La[d]=g.Yn(e.La[d].wh)}}};bc=function(){return"Type"+this.Na};Kc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var cd={};function fd(a){this.j=a}
(function(){function a(){}var c=fd.prototype;c.lb=function(a){this.jb=a;this.j=a.j};c.lb.prototype.Ca=function(){};c.ab=function(a){this.type=a;this.j=a.j;this.Sj=Array(256);this.Bk=Array(256);this.Zf=0};var b=c.ab.prototype;b.Ca=function(){var a=this;this.j.Zb||(jQuery(document).keydown(function(b){a.Yx(b)}),jQuery(document).keyup(function(b){a.Zx(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.Yx=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.Sj[a.which])this.Bk[a.which]&&!b&&a.preventDefault();else{this.Sj[a.which]=!0;this.Zf=a.which;this.j.nc=!0;this.j.trigger(fd.prototype.P.gu,this);var c=this.j.trigger(fd.prototype.P.aq,this),k=this.j.trigger(fd.prototype.P.pu,this);this.j.nc=!1;if(c||k)this.Bk[a.which]=!0,b||a.preventDefault()}};b.Zx=function(a){this.Sj[a.which]=!1;this.Zf=a.which;this.j.nc=!0;this.j.trigger(fd.prototype.P.Wp,this);var b=this.j.trigger(fd.prototype.P.hn,this),c=this.j.trigger(fd.prototype.P.bq,this);this.j.nc=
!1;if(b||c||this.Bk[a.which])this.Bk[a.which]=!0,a.preventDefault()};b.Th=function(){var a;for(a=0;256>a;++a)if(this.Sj[a]){this.Sj[a]=!1;this.Zf=a;this.j.trigger(fd.prototype.P.Wp,this);var b=this.j.trigger(fd.prototype.P.hn,this),c=this.j.trigger(fd.prototype.P.bq,this);if(b||c)this.Bk[a]=!0}};b.Pc=function(){return{triggerKey:this.Zf}};b.od=function(a){this.Zf=a.triggerKey};a.prototype.aq=function(a){return a===this.Zf};a.prototype.gu=function(){return!0};a.prototype.Wp=function(){return!0};a.prototype.hn=
function(a){return a===this.Zf};a.prototype.pu=function(a){return a===this.Zf};a.prototype.bq=function(a){return a===this.Zf};c.P=new a;c.Ja=new function(){};c.pb=new function(){}})();function gd(a){this.j=a}
(function(){function a(){}function c(){}var b=gd.prototype;b.lb=function(a){this.jb=a;this.j=a.j};b.lb.prototype.Ca=function(){};b.ab=function(a){this.type=a;this.j=a.j;this.ji=Array(4);this.tt=this.Vm=this.$h=this.Ng=this.Mg=0;this.fo=!1};var d=b.ab.prototype;d.Ca=function(){var a=this;if(!this.j.Zb){jQuery(document).mousemove(function(b){a.bp(b)});jQuery(document).mousedown(function(b){a.$o(b)});jQuery(document).mouseup(function(b){a.cp(b)});jQuery(document).dblclick(function(b){a.Xx(b)});var b=
function(b){a.ay(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var f={left:0,top:0};d.bp=function(a){var b=this.j.Zb?f:jQuery(this.j.canvas).offset();this.Mg=a.pageX-b.left;this.Ng=a.pageY-b.top};d.ms=function(){return 0<this.j.Uc?!0:0<=this.Mg&&0<=this.Ng&&this.Mg<this.j.width&&this.Ng<this.j.height};d.$o=function(a){this.ms()&&(this.ji[a.which]=!0,this.j.nc=!0,this.j.trigger(gd.prototype.P.fu,this),this.$h=a.which-1,this.Vm=0,this.j.trigger(gd.prototype.P.Xp,
this),this.j.trigger(gd.prototype.P.jn,this),this.j.nc=!1)};d.cp=function(a){this.ji[a.which]&&(this.j.Cl&&!this.j.Hf&&a.preventDefault(),this.j.Cl=!0,this.ji[a.which]=!1,this.j.nc=!0,this.$h=a.which-1,this.j.trigger(gd.prototype.P.hq,this),this.j.nc=!1)};d.Xx=function(a){this.ms()&&(a.preventDefault(),this.j.nc=!0,this.$h=a.which-1,this.Vm=1,this.j.trigger(gd.prototype.P.Xp,this),this.j.trigger(gd.prototype.P.jn,this),this.j.nc=!1)};d.ay=function(a){this.tt=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.fo=!1;this.j.nc=!0;this.j.trigger(gd.prototype.P.su,this);this.j.nc=!1;this.fo&&Lb(a)&&a.preventDefault()};d.Th=function(){var a,b;a=0;for(b=this.ji.length;a<b;++a)this.ji[a]&&(this.ji[a]=!1,this.$h=a-1,this.j.trigger(gd.prototype.P.hq,this))};a.prototype.Xp=function(a,b){return a===this.$h&&b===this.Vm};a.prototype.fu=function(){return!0};a.prototype.hq=function(a){return a===this.$h};a.prototype.jn=function(a,b,c){return a!==this.$h||b!==this.Vm?!1:this.j.xk(c,this.Mg,this.Ng)};
a.prototype.su=function(a){this.fo=!0;return a===this.tt};b.P=new a;b.Ja=new function(){};c.prototype.tn=function(a,b){var c,d,f,l,n;ka(b)?(c=this.j.Ef(0),d=c.scale,f=c.Sc,l=c.rd,n=c.K,c.scale=1,c.Sc=1,c.rd=1,c.K=0,a.ka(c.hc(this.Mg,this.Ng,!0)),c.scale=d,c.Sc=f,c.rd=l,c.K=n):(c=la(b)?this.j.Ef(b):this.j.Aj(b))?a.ka(c.hc(this.Mg,this.Ng,!0)):a.ka(0)};c.prototype.tq=function(a,b){var c,d,f,l,n;ka(b)?(c=this.j.Ef(0),d=c.scale,f=c.Sc,l=c.sd,n=c.K,c.scale=1,c.Sc=1,c.sd=1,c.K=0,a.ka(c.hc(this.Mg,this.Ng,
!1)),c.scale=d,c.Sc=f,c.sd=l,c.K=n):(c=la(b)?this.j.Ef(b):this.j.Aj(b))?a.ka(c.hc(this.Mg,this.Ng,!1)):a.ka(0)};b.pb=new c})();function ed(a){this.j=a}
(function(){function a(){if(0===this.In.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Pi?b.drawImage(this.ma,this.Ii,this.Ji,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.ma,0,0,this.width,this.height);this.In=a.toDataURL("image/png")}return this.In}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;p.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function f(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var h=p.length?p.pop():[0,0,0];h[0]=b;h[1]=c;h[2]=e;a[f]=h}}function g(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function e(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return q=a[b][2],!0;q=-2;return!1}function k(){}var h=ed.prototype;h.lb=function(a){this.jb=a;this.j=a.j};var m=h.lb.prototype;m.Ca=function(){if(!this.la){var b,c,d,e,f,h,g,k,l;this.ze=[];this.Fj=!1;b=0;for(c=this.yd.length;b<c;b++){f=this.yd[b];g={};g.name=f[0];g.speed=f[1];g.loop=f[2];g.sp=f[3];
g.tp=f[4];g.Es=f[5];g.Na=f[6];g.frames=[];d=0;for(e=f[7].length;d<e;d++)h=f[7][d],k={},k.Om=h[0],k.Hp=h[1],k.Ii=h[2],k.Ji=h[3],k.width=h[4],k.height=h[5],k.duration=h[6],k.Vc=h[7],k.Wc=h[8],k.ko=h[9],k.mm=h[10],k.Fs=h[11],k.Pi=0!==k.width,k.In="",k.jA=a,l={left:0,top:0,right:1,bottom:1},k.Bp=l,k.ya=null,(l=this.j.Cw(h[0]))?k.ma=l:(k.ma=new Image,k.ma.kv=h[0],k.ma.Oq=h[1],k.ma.cv=null,this.j.Tp(k.ma,h[0])),g.frames.push(k),this.ze.push(k);this.yd[b]=g}}};m.Dt=function(){var a,b,c;a=0;for(b=this.D.length;a<
b;a++)c=this.D[a],c.ll=c.Dc.ya};m.gk=function(){if(!this.la){var a,b,c;a=0;for(b=this.ze.length;a<b;++a)c=this.ze[a],c.ma.cv=null,c.ya=null;this.Fj=!1;this.Dt()}};m.gm=function(){if(!this.la&&this.D.length){var a,b,c;a=0;for(b=this.ze.length;a<b;++a)c=this.ze[a],c.ya=this.j.aa.Di(c.ma,!1,this.j.qb,c.Fs);this.Dt()}};m.No=function(){if(!this.la&&!this.Fj&&this.j.aa){var a,b,c;a=0;for(b=this.ze.length;a<b;++a)c=this.ze[a],c.ya=this.j.aa.Di(c.ma,!1,this.j.qb,c.Fs);this.Fj=!0}};m.Ym=function(){if(!this.la&&
!this.D.length&&this.Fj){var a,b,c;a=0;for(b=this.ze.length;a<b;++a)c=this.ze[a],this.j.aa.deleteTexture(c.ya),c.ya=null;this.Fj=!1}};var l=[];m.qm=function(a){var b,c,d;F(l);b=0;for(c=this.ze.length;b<c;++b)d=this.ze[b].ma,-1===l.indexOf(d)&&(a.drawImage(d,0,0),l.push(d))};h.ab=function(a){this.type=a;this.j=a.j;a=this.type.yd[0].frames[0].mm;this.$c?this.Ka.sk(a):this.Ka=new ub(a)};var n=h.ab.prototype;n.Ca=function(){this.visible=0===this.ba[0];this.Dl=this.Nj=!1;this.xf=0!==this.ba[3];this.ib=
this.hr(this.ba[1])||this.type.yd[0];this.ga=this.ba[2];0>this.ga&&(this.ga=0);this.ga>=this.ib.frames.length&&(this.ga=this.ib.frames.length-1);var a=this.ib.frames[this.ga];this.Ka.sk(a.mm);this.Vc=a.Vc;this.Wc=a.Wc;this.li=this.ib.speed;this.vg=this.ib.tp;1===this.type.yd.length&&1===this.type.yd[0].frames.length||0===this.li||(this.j.Sm(this),this.Nj=!0);this.$c?this.Ae.reset():this.Ae=new sb;this.hf=this.Ae.rb;this.lg=!0;this.vf=0;this.eh=!0;this.dl=this.zq="";this.Kq=0;this.cl=-1;this.type.No();
var b,c,d,e,f,h,g,a=0;for(b=this.type.yd.length;a<b;a++)for(e=this.type.yd[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.ma.width,f.height=f.ma.height),f.Pi&&(g=f.ma,h=f.Bp,h.left=f.Ii/g.width,h.top=f.Ji/g.height,h.right=(f.Ii+f.width)/g.width,h.bottom=(f.Ji+f.height)/g.height,0===f.Ii&&0===f.Ji&&f.width===g.width&&f.height===g.height&&(f.Pi=!1));this.Dc=this.ib.frames[this.ga];this.ll=this.Dc.ya};n.Pc=function(){var a={a:this.ib.Na,f:this.ga,cas:this.li,fs:this.hf,ar:this.vf,
at:this.Ae.rb,rt:this.vg};this.lg||(a.ap=this.lg);this.eh||(a.af=this.eh);return a};n.od=function(a){var b=this.Ew(a.a);b&&(this.ib=b);this.ga=a.f;0>this.ga&&(this.ga=0);this.ga>=this.ib.frames.length&&(this.ga=this.ib.frames.length-1);this.li=a.cas;this.hf=a.fs;this.vf=a.ar;this.Ae.reset();this.Ae.rb=a.at;this.lg=a.hasOwnProperty("ap")?a.ap:!0;this.eh=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.vg=a.rt:this.vg=this.ib.tp;this.Dc=this.ib.frames[this.ga];this.ll=this.Dc.ya;this.Ka.sk(this.Dc.mm);
this.Vc=this.Dc.Vc;this.Wc=this.Dc.Wc};n.vn=function(a){this.ga=a?0:this.ib.frames.length-1;this.lg=!1;this.zq=this.ib.name;this.Dl=!0;this.j.trigger(ed.prototype.P.eu,this);this.j.trigger(ed.prototype.P.du,this);this.Dl=!1;this.vf=0};n.i=function(){return this.Ae.rb};n.ve=function(){this.Ae.add(this.j.xj(this));this.dl.length&&this.Uq();0<=this.cl&&this.Vq();var a=this.Ae.rb,b=this.ib,c=b.frames[this.ga],d=c.duration/this.li;this.lg&&a>=this.hf+d&&(this.eh?this.ga++:this.ga--,this.hf+=d,this.ga>=
b.frames.length&&(b.Es?(this.eh=!1,this.ga=b.frames.length-2):b.loop?this.ga=this.vg:(this.vf++,this.vf>=b.sp?this.vn(!1):this.ga=this.vg)),0>this.ga&&(b.Es?(this.ga=1,this.eh=!0,b.loop||(this.vf++,this.vf>=b.sp&&this.vn(!0))):b.loop?this.ga=this.vg:(this.vf++,this.vf>=b.sp?this.vn(!0):this.ga=this.vg)),0>this.ga?this.ga=0:this.ga>=b.frames.length&&(this.ga=b.frames.length-1),a>this.hf+b.frames[this.ga].duration/this.li&&(this.hf=a),a=b.frames[this.ga],this.fi(c,a),this.j.Ya=!0)};n.hr=function(a){var b,
c,d;b=0;for(c=this.type.yd.length;b<c;b++)if(d=this.type.yd[b],Kb(d.name,a))return d;return null};n.Ew=function(a){var b,c,d;b=0;for(c=this.type.yd.length;b<c;b++)if(d=this.type.yd[b],d.Na===a)return d;return null};n.Uq=function(){var a=this.ib.frames[this.ga],b=this.hr(this.dl);this.dl="";!b||Kb(b.name,this.ib.name)&&this.lg||(this.ib=b,this.li=b.speed,this.vg=b.tp,0>this.ga&&(this.ga=0),this.ga>=this.ib.frames.length&&(this.ga=this.ib.frames.length-1),1===this.Kq&&(this.ga=0),this.lg=!0,this.hf=
this.Ae.rb,this.eh=!0,this.fi(a,this.ib.frames[this.ga]),this.j.Ya=!0)};n.Vq=function(){var a=this.ib.frames[this.ga],b=this.ga;this.ga=ta(this.cl);0>this.ga&&(this.ga=0);this.ga>=this.ib.frames.length&&(this.ga=this.ib.frames.length-1);b!==this.ga&&(this.fi(a,this.ib.frames[this.ga]),this.hf=this.Ae.rb,this.j.Ya=!0);this.cl=-1};n.fi=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Vc=b.Vc;this.Wc=b.Wc;this.Ka.sk(b.mm);this.ua();this.Dc=
b;this.ll=b.ya;c=0;for(d=this.wa.length;c<d;c++)e=this.wa[c],e.$x&&e.$x(a,b);this.j.trigger(ed.prototype.P.fi,this)};n.Fe=function(a){a.globalAlpha=this.opacity;var b=this.Dc,c=b.Pi,d=b.ma,e=this.x,f=this.y,h=this.width,g=this.height;if(0===this.K&&0<=h&&0<=g)e-=this.Vc*h,f-=this.Wc*g,this.j.Xd&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Ii,b.Ji,b.width,b.height,e,f,h,g):a.drawImage(d,e,f,h,g);else{this.j.Xd&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<h?1:-1,l=0<g?1:-1;a.translate(e,
f);1===k&&1===l||a.scale(k,l);a.rotate(this.K*k*l);e=0-this.Vc*pa(h);f=0-this.Wc*pa(g);c?a.drawImage(d,b.Ii,b.Ji,b.width,b.height,e,f,pa(h),pa(g)):a.drawImage(d,e,f,pa(h),pa(g));a.restore()}};n.kh=function(a){this.md(a)};n.md=function(a){a.ud(this.ll);a.Vg(this.opacity);var b=this.Dc,c=this.eb;if(this.j.Xd){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Pi?a.Oe(c.sb+d,c.tb+e,c.Vb+d,c.Wb+e,c.Nb+d,c.Ob+e,c.Lb+d,c.Mb+e,b.Bp):a.ok(c.sb+d,c.tb+e,c.Vb+d,c.Wb+e,c.Nb+d,c.Ob+e,c.Lb+d,c.Mb+e)}else b.Pi?
a.Oe(c.sb,c.tb,c.Vb,c.Wb,c.Nb,c.Ob,c.Lb,c.Mb,b.Bp):a.ok(c.sb,c.tb,c.Vb,c.Wb,c.Nb,c.Ob,c.Lb,c.Mb)};n.Jw=function(a){var b=this.Dc,c,d;c=0;for(d=b.ko.length;c<d;c++)if(Kb(a,b.ko[c][0]))return c;return-1};n.ie=function(a,b){var c=this.Dc,d=c.ko,e;ma(a)?e=this.Jw(a):e=a-1;e=ta(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Vc)*this.width,d=d[e][2],d=(d-c.Wc)*this.height,c=Math.cos(this.K);e=Math.sin(this.K);var h=f*c-d*e,d=d*c+f*e,f=h+this.x,d=d+this.y;return b?f:d};var p=[],q=-2,v=[];
c.prototype.ju=function(a){if(!a)return!1;var c=this.j,d=c.Al(),h=d.type,k=null;d.ca.collmemory?k=d.ca.collmemory:(k={},d.ca.collmemory=k);d.ca.spriteCreatedDestroyCallback||(d.ca.spriteCreatedDestroyCallback=!0,c.Qk(function(a){var c=d.ca.collmemory;a=a.uid;var e,f;for(e in c)c.hasOwnProperty(e)&&(f=c[e],f[0]===a||f[1]===a)&&(b(c[e]),delete c[e])}));var l=h.Ma(),m=a.Ma(),l=l.Cd(),n,p,t,u,I,L,M,J=this.j.Md,Y=J-1,N=c.xc().Fc;for(p=0;p<l.length;p++){t=l[p];m.Wa?(t.Oa(),this.j.ir(t.T,a,t.yb,v),n=v):
n=m.Cd();for(u=0;u<n.length;u++)I=n[u],c.Wh(t,I)||c.gv(t,I)?(L=e(k,t,I),L=!L||q<Y,f(k,t,I,J),L&&(c.nk(N.nb),L=h.Ma(),M=a.Ma(),L.Wa=!1,M.Wa=!1,h===a?(L.D.length=2,L.D[0]=t,L.D[1]=I,h.Be()):(L.D.length=1,M.D.length=1,L.D[0]=t,M.D[0]=I,h.Be(),a.Be()),N.up(),c.Qg(N.nb))):g(k,t,I);F(v)}return!1};var t=new ea,u=!1;new ya(0,0,0,0);m.finish=function(a){if(u){if(a){var b=this.j.xc().Fc.oe;a=null.Ma();var c=t.Ve(),d,e;if(a.Wa){a.Wa=!1;F(a.D);d=0;for(e=c.length;d<e;++d)a.D[d]=c[d];if(b)for(F(a.La),d=0,e=null.D.length;d<
e;++d)c=null.D[d],t.contains(c)||a.La.push(c)}else if(b)for(b=a.D.length,d=0,e=c.length;d<e;++d)a.D[b+d]=c[d],Ia(a.La,c[d]);else Fa(a.D,c);null.Be()}t.clear();u=!1}};c.prototype.du=function(a){return Kb(this.zq,a)};c.prototype.eu=function(){return!0};c.prototype.fi=function(){return!0};h.P=new c;k.prototype.Iu=function(a,b,c){if(a&&b&&(b=this.j.Pq(a,b,this.ie(c,!0),this.ie(c,!1)))){"undefined"!==typeof b.K&&(b.K=this.K,b.ua());this.j.Je++;var d,e,f;this.j.trigger(Object.getPrototypeOf(a.jb).P.Lk,
b);if(b.nd)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.j.trigger(Object.getPrototypeOf(f.type.jb).P.Lk,f);this.j.Je--;d=this.j.Gw();c=!1;if(ka(d.ca.Spawn_LastExec)||d.ca.Spawn_LastExec<this.j.qh)c=!0,d.ca.Spawn_LastExec=this.j.qh;if(a!=this.type&&(a=a.Ma(),a.Wa=!1,c?(F(a.D),a.D[0]=b):a.D.push(b),b.nd))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.Ma(),a.Wa=!1,c?(F(a.D),a.D[0]=f):a.D.push(f)}};k.prototype.Ku=function(a){this.lg=!0;this.hf=this.Ae.rb;1===a&&0!==this.ga&&
(this.cl=0,this.Dl||this.Vq());this.Nj||(this.j.Sm(this),this.Nj=!0)};k.prototype.xu=function(a,b){this.dl=a;this.Kq=b;this.Nj||(this.j.Sm(this),this.Nj=!0);this.Dl||this.Uq()};h.Ja=new k;h.pb=new function(){}})();function hd(a){this.j=a}
(function(){function a(a,b){return a.length?a.pop():new b}function c(a,b,c){if(c){var d;c=0;for(d=b.length;c<d;c++)a.length<e&&a.push(b[c]);F(b)}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a.length<e&&a.push(b[d]),delete b[d])}function b(b,c,d){var e=b.Xc;d=d.replace(/\s\s*$/,"");c>=e.length&&e.push(a(k,Object));c=e[c];c.text=d;c.width=b.Vo(d);b.Wf=qa(b.Wf,c.width)}function d(){}var f=hd.prototype;f.Ca=function(){};f.lb=function(a){this.jb=a;this.j=a.j};var g=f.lb.prototype;g.Ca=function(){this.la||
(this.ma=new Image,this.j.Tp(this.ma,this.Om),this.ya=null)};g.gk=function(){this.la||(this.ya=null)};g.gm=function(){if(!this.la&&this.D.length){this.ya||(this.ya=this.j.aa.Di(this.ma,!1,this.j.qb,this.zk));var a,b;a=0;for(b=this.D.length;a<b;a++)this.D[a].ya=this.ya}};g.Ym=function(){this.la||this.D.length||!this.ya||(this.j.aa.deleteTexture(this.ya),this.ya=null)};g.qm=function(a){a.drawImage(this.ma,0,0)};f.ab=function(a){this.type=a;this.j=a.j};g=f.ab.prototype;g.Pf=function(){c(k,this.Xc,!0);
c(h,this.fl,!1);c(m,this.gl,!1);lb(this.rg)};g.Ca=function(){this.ma=this.type.ma;this.el=this.ba[0];this.pg=this.ba[1];this.characterSet=this.ba[2];this.text=this.ba[3];this.qg=this.ba[4];this.visible=0===this.ba[5];this.Ff=this.ba[6]/2;this.$f=this.ba[7]/2;this.Ik=0===this.ba[9];this.ki=this.ba[10];this.lineHeight=this.ba[11];this.sf=this.Wf=0;this.$c?(F(this.Xc),lb(this.fl),lb(this.gl),lb(this.rg)):(this.Xc=[],this.fl={},this.gl={},this.rg={});this.Zd=!0;this.Gh=this.width;this.j.aa&&(this.type.ya||
(this.type.ya=this.j.aa.Di(this.type.ma,!1,this.j.qb,this.type.zk)),this.ya=this.type.ya);this.Ju()};g.Pc=function(){var a={t:this.text,csc:this.qg,csp:this.ki,lh:this.lineHeight,tw:this.Wf,th:this.sf,lrt:this.Fh,ha:this.Ff,va:this.$f,cw:{}},b;for(b in this.rg)a.cw[b]=this.rg[b];return a};g.od=function(a){this.text=a.t;this.qg=a.csc;this.ki=a.csp;this.lineHeight=a.lh;this.Wf=a.tw;this.sf=a.th;this.Fh=a.lrt;a.hasOwnProperty("ha")&&(this.Ff=a.ha);a.hasOwnProperty("va")&&(this.$f=a.va);for(var b in a.cw)this.rg[b]=
a.cw[b];this.Zd=!0;this.Gh=this.width};var e=1E3,k=[],h=[],m=[];g.Ju=function(){for(var b=this.ma,c=b.width,d=b.height,b=this.el,e=this.pg,f=b/c,g=e/d,k=this.characterSet,c=Math.floor(c/b),d=Math.floor(d/e),l=0;l<k.length&&!(l>=c*d);l++){var n=l%c,z=Math.floor(l/c),C=k.charAt(l);if(this.j.aa){var E=this.gl,x=n*f,A=z*g,n=(n+1)*f,z=(z+1)*g;void 0===E[C]&&(E[C]=a(m,ya));E[C].left=x;E[C].top=A;E[C].right=n;E[C].bottom=z}else E=this.fl,n=n*b,z=z*e,x=b,A=e,void 0===E[C]&&(E[C]=a(h,Object)),E[C].x=n,E[C].y=
z,E[C].Xb=x,E[C].or=A}};var l=[];f.qn=function(a){F(l);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(l.push(b),b=""),l.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));l.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&l.push(b)};f.rn=function(b){var d=b.text,e=b.Xc;if(d&&d.length){var f=b.width;if(2>=f)c(k,e,!0);else{var h=b.qg,g=b.ki;if(d.length*(b.el*h+g)-g<=f&&-1===d.indexOf("\n")&&(g=b.Vo(d),
g<=f)){c(k,e,!0);e.push(a(k,Object));e[0].text=d;e[0].width=g;b.Wf=g;b.sf=b.pg*h+b.lineHeight;return}this.sn(b);b.sf=e.length*(b.pg*h+b.lineHeight)}}else c(k,e,!0)};f.sn=function(a){var c=a.Ik,d=a.text,f=a.Xc,h=a.width;c&&(this.qn(d),d=l);var g="",m,n,D,z=0,C=!1;for(D=0;D<d.length;D++)"\n"===d[D]?(!0===C?C=!1:(b(a,z,g),z++),g=""):(C=!1,m=g,g+=d[D],n=a.Vo(g.replace(/\s\s*$/,"")),n>h&&(""===m?(b(a,z,g),g="",C=!0):(b(a,z,m),g=d[D]),z++,c||" "!==g||(g="")));g.replace(/\s\s*$/,"").length&&(b(a,z,g),z++);
for(D=z;D<f.length;D++)k.length<e&&k.push(f[D]);f.length=z};g.Vo=function(a){for(var b=this.ki,c=a.length,d=0,e=0;e<c;e++)d+=this.Vn(a.charAt(e))*this.qg+b;return d-(0<d?b:0)};g.Vn=function(a){var b=this.rg;return void 0!==b[a]?b[a]:this.el};g.Ns=function(){if(this.Zd||this.width!==this.Gh)this.sf=this.Wf=0,this.type.jb.rn(this),this.Zd=!1,this.Gh=this.width};g.Fe=function(a){var b=this.ma;if(""!==this.text&&null!=b&&(this.Ns(),!(this.height<this.pg*this.qg+this.lineHeight))){a.globalAlpha=this.opacity;
var b=this.x,c=this.y;this.j.Xd&&(b=Math.round(b),c=Math.round(c));var d=this.T.Za,e=this.T.$a,f=this.T.hb,h=this.T.gb;a.save();a.translate(b,c);a.rotate(this.K);for(var g=this.K,k=this.Ff,l=this.qg,m=this.pg*l,n=this.lineHeight,x=this.ki,A=this.Xc,G,W=-(this.Vc*this.width),I=-(this.Wc*this.height),I=I+this.$f*qa(0,this.height-this.sf),L,M,J,Y=0;Y<A.length;Y++){var N=A[Y].text;G=k*qa(0,this.width-A[Y].width);L=W+G;I+=n;if(0===g&&c+I+m<e)I+=m;else{for(var O=0;O<N.length;O++){M=N.charAt(O);G=this.Vn(M);
var P=this.fl[M];if(0===g&&b+L+G*l+x<d)L+=G*l+x;else{if(L+G*l>this.width+1E-5)break;void 0!==P&&(M=L,J=I,0===g&&1===l&&(M=Math.round(M),J=Math.round(J)),a.drawImage(this.ma,P.x,P.y,P.Xb,P.or,M,J,P.Xb*l,P.or*l));L+=G*l+x;if(0===g&&b+L>f)break}}I+=m;if(0===g&&(I+m+n>this.height||c+I>h))break}}a.restore()}};var n=new za;g.md=function(a){a.ud(this.ya);a.Vg(this.opacity);if(this.text&&(this.Ns(),!(this.height<this.pg*this.qg+this.lineHeight))){this.Oa();var b=this.eb,c=0,d=0;this.j.Xd&&(c=Math.round(this.x)-
this.x,d=Math.round(this.y)-this.y);var e=this.T.Za,f=this.T.$a,h=this.T.hb,g=this.T.gb,k=this.K,l=this.Ff,m=this.$f,E=this.qg,x=this.pg*E,A=this.lineHeight,G=this.ki,W=this.Xc,I=this.sf,L,M,J;0!==k&&(M=Math.cos(k),J=Math.sin(k));for(var c=b.sb+c,b=b.tb+d,Y,m=m*qa(0,this.height-I),N,O,I=0;I<W.length;I++)if(d=W[I].text,Y=L=l*qa(0,this.width-W[I].width),m+=A,0===k&&b+m+x<f)m+=x;else{for(var P=0;P<d.length;P++){var Q=d.charAt(P);L=this.Vn(Q);Q=this.gl[Q];if(0===k&&c+Y+L*E+G<e)Y+=L*E+G;else{if(Y+L*E>
this.width+1E-5)break;if(void 0!==Q){var R=this.el*E,K=this.pg*E;N=Y;O=m;0===k&&1===E&&(N=Math.round(N),O=Math.round(O));n.sb=N;n.tb=O;n.Vb=N+R;n.Wb=O;n.Lb=N;n.Mb=O+K;n.Nb=N+R;n.Ob=O+K;0!==k&&(N=n,O=M,R=J,K=void 0,K=N.sb*O-N.tb*R,N.tb=N.tb*O+N.sb*R,N.sb=K,K=N.Vb*O-N.Wb*R,N.Wb=N.Wb*O+N.Vb*R,N.Vb=K,K=N.Lb*O-N.Mb*R,N.Mb=N.Mb*O+N.Lb*R,N.Lb=K,K=N.Nb*O-N.Ob*R,N.Ob=N.Ob*O+N.Nb*R,N.Nb=K);n.offset(c,b);a.Oe(n.sb,n.tb,n.Vb,n.Wb,n.Nb,n.Ob,n.Lb,n.Mb,Q)}Y+=L*E+G;if(0===k&&c+Y>h)break}}m+=x;if(0===k&&(m+x+A>this.height||
b+m>g))break}}};f.P=new function(){};d.prototype.rq=function(a){la(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Zd=!0,this.j.Ya=!0)};g.i=function(a,b){var c=parseInt(b,10);this.rg[a]!==c&&(this.rg[a]=c,this.Zd=!0,this.j.Ya=!0)};f.Ja=new d;f.pb=new function(){}})();function id(a){this.j=a}
(function(){function a(){return k.length?k.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)k.push(a[b]);F(a)}function b(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function d(){}var f=id.prototype;f.Ca=function(){f.Ja.Eu=function(a){this.width!==a&&(this.width=a,this.Zd=!0,this.ua())}};f.lb=function(a){this.jb=a;this.j=a.j};var g=f.lb.prototype;g.Ca=function(){};g.gk=function(){if(!this.la){var a,b,c;a=0;for(b=this.D.length;a<b;a++)c=this.D[a],c.lf=null,c.Ph=
null,c.Id=null}};f.ab=function(a){this.type=a;this.j=a.j;this.$c?F(this.Xc):this.Xc=[];this.Zd=!0};g=f.ab.prototype;g.Ca=function(){this.text=this.ba[0];this.visible=0===this.ba[1];this.font=this.ba[2];this.color=this.ba[3];this.Ff=this.ba[4];this.$f=this.ba[5];this.Ik=0===this.ba[7];this.Gh=this.Ql=this.width;this.Pl=this.height;this.Lo=this.ba[8];this.wl=this.ni="";this.sf=this.Wf=this.lk=0;this.ey();this.Id=this.Ph=this.lf=null;this.os=!1;this.Fh=this.j.Md;this.$c?this.Sg.set(0,0,1,1):this.Sg=
new ya(0,0,1,1);this.j.aa&&this.j.Sm(this)};g.ey=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.lk=parseInt(a[b].substr(0,a[b].length-2));this.mp=Math.ceil(this.lk/72*96)+4;0<b&&(this.wl=a[b-1]);this.ni=a[b+1];for(b+=2;b<a.length;b++)this.ni+=" "+a[b];break}};g.Pc=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Ff,va:this.$f,wr:this.Ik,lho:this.Lo,fn:this.ni,fs:this.wl,ps:this.lk,pxh:this.mp,tw:this.Wf,th:this.sf,lrt:this.Fh}};
g.od=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.Ff=a.ha;this.$f=a.va;this.Ik=a.wr;this.Lo=a.lho;this.ni=a.fn;this.wl=a.fs;this.lk=a.ps;this.mp=a.pxh;this.Wf=a.tw;this.sf=a.th;this.Fh=a.lrt;this.Zd=!0;this.Gh=this.Ql=this.width;this.Pl=this.height};g.ve=function(){if(this.j.aa&&this.Id&&300<=this.j.Md-this.Fh){var a=this.T;this.Oa();var b=this.yb;if(b.right<a.Za||b.bottom<a.$a||b.left>a.hb||b.top>a.gb)this.j.aa.deleteTexture(this.Id),this.lf=this.Ph=this.Id=null}};g.Pf=function(){this.lf=
this.Ph=null;this.j.aa&&this.Id&&this.j.aa.deleteTexture(this.Id);this.Id=null};g.i=function(){this.font=this.wl+" "+this.lk.toString()+"pt "+this.ni;this.Zd=!0;this.j.Ya=!0};g.Fe=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.T.Dd()),a.save(),a.scale(c,c));if(this.Zd||this.width!==this.Gh)this.type.jb.rn(this.text,this.Xc,a,this.width,this.Ik),this.Zd=!1,this.Gh=this.width;this.Oa();var c=b?0:this.eb.sb,d=b?0:
this.eb.tb;this.j.Xd&&(c=c+.5|0,d=d+.5|0);0===this.K||b||(a.save(),a.translate(c,d),a.rotate(this.K),d=c=0);var e=d+this.height,f=this.mp,f=f+this.Lo,g,k;1===this.$f?d+=Math.max(this.height/2-this.Xc.length*f/2,0):2===this.$f&&(d+=Math.max(this.height-this.Xc.length*f-2,0));for(k=0;k<this.Xc.length&&!(g=c,1===this.Ff?g=c+(this.width-this.Xc[k].width)/2:2===this.Ff&&(g=c+(this.width-this.Xc[k].width)),a.fillText(this.Xc[k].text,g,d),d+=f,d>=e-f);k++);(0!==this.K||b)&&a.restore();this.Fh=this.j.Md};
g.md=function(a){if(!(1>this.width||1>this.height)){var b=this.Zd||this.os;this.os=!1;var c=this.T.Dd(),d=this.T.Bd(),e=this.Sg,f=c*this.width,g=c*this.height,k=Math.ceil(f),u=Math.ceil(g),r=Math.abs(k),y=Math.abs(u),B=this.j.ra/2,D=this.j.qa/2;this.Ph||(this.lf=document.createElement("canvas"),this.lf.width=r,this.lf.height=y,this.Ql=r,this.Pl=y,b=!0,this.Ph=this.lf.getContext("2d"));if(r!==this.Ql||y!==this.Pl)this.lf.width=r,this.lf.height=y,this.Id&&(a.deleteTexture(this.Id),this.Id=null),b=!0;
b&&(this.Ph.clearRect(0,0,r,y),this.Fe(this.Ph,!0),this.Id||(this.Id=a.Rd(r,y,this.j.qb,this.j.Hf)),a.cz(this.lf,this.Id,this.j.Hf));this.Ql=r;this.Pl=y;a.ud(this.Id);a.Vg(this.opacity);a.qe();a.translate(-B,-D);a.$d();var z=this.eb,b=this.T.Bb(z.sb,z.tb,!0,!0),r=this.T.Bb(z.sb,z.tb,!1,!0),y=this.T.Bb(z.Vb,z.Wb,!0,!0),B=this.T.Bb(z.Vb,z.Wb,!1,!0),D=this.T.Bb(z.Nb,z.Ob,!0,!0),C=this.T.Bb(z.Nb,z.Ob,!1,!0),E=this.T.Bb(z.Lb,z.Mb,!0,!0),z=this.T.Bb(z.Lb,z.Mb,!1,!0);if(this.j.Xd||0===this.K&&0===d)var x=
(b+.5|0)-b,A=(r+.5|0)-r,b=b+x,r=r+A,y=y+x,B=B+A,D=D+x,C=C+A,E=E+x,z=z+A;0===this.K&&0===d?(y=b+k,B=r,D=y,C=r+u,E=b,z=C,e.right=1,e.bottom=1):(e.right=f/k,e.bottom=g/u);a.Oe(b,r,y,B,D,C,E,z,e);a.qe();a.scale(c,c);a.zm(-this.T.Bd());a.translate((this.T.Za+this.T.hb)/-2,(this.T.$a+this.T.gb)/-2);a.$d();this.Fh=this.j.Md}};var e=[];f.qn=function(a){F(e);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(e.push(b),b=""),e.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),
d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));e.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&e.push(b)};var k=[];f.rn=function(b,d,e,f,g){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var k=e.measureText(b).width;if(k<=f){c(d);d.push(a());d[0].text=b;d[0].width=k;return}}this.sn(b,d,e,f,g)}else c(d)};f.sn=function(c,d,f,g,p){p&&(this.qn(c),c=e);var q="",v,t,u,r=0;for(u=0;u<c.length;u++)"\n"===c[u]?(r>=d.length&&d.push(a()),q=b(q),t=d[r],t.text=q,t.width=
f.measureText(q).width,r++,q=""):(v=q,q+=c[u],t=f.measureText(q).width,t>=g&&(r>=d.length&&d.push(a()),v=b(v),t=d[r],t.text=v,t.width=f.measureText(v).width,r++,q=c[u],p||" "!==q||(q="")));q.length&&(r>=d.length&&d.push(a()),q=b(q),t=d[r],t.text=q,t.width=f.measureText(q).width,r++);for(u=r;u<d.length;u++)k.push(d[u]);d.length=r};f.P=new function(){};d.prototype.rq=function(a){la(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Zd=!0,this.j.Ya=!0)};f.Ja=new d;
f.pb=new function(){}})();function jd(a){this.j=a}
(function(){var a=jd.prototype;a.lb=function(a){this.jb=a;this.j=a.j};var c=a.lb.prototype;c.Ca=function(){this.la||(this.ma=new Image,this.ma.Oq=this.Hp,this.j.Tp(this.ma,this.Om),this.ya=this.pattern=null)};c.gk=function(){this.la||(this.ya=null)};c.gm=function(){if(!this.la&&this.D.length){this.ya||(this.ya=this.j.aa.Di(this.ma,!0,this.j.qb,this.zk));var a,c;a=0;for(c=this.D.length;a<c;a++)this.D[a].ya=this.ya}};c.No=function(){this.la||this.ya||!this.j.aa||(this.ya=this.j.aa.Di(this.ma,!0,this.j.qb,
this.zk))};c.Ym=function(){this.la||this.D.length||!this.ya||(this.j.aa.deleteTexture(this.ya),this.ya=null)};c.qm=function(a){a.drawImage(this.ma,0,0)};a.ab=function(a){this.type=a;this.j=a.j};c=a.ab.prototype;c.Ca=function(){this.visible=0===this.ba[0];this.Sg=new ya(0,0,0,0);this.sr=!1;this.ma=this.type.ma;this.j.aa?(this.type.No(),this.ya=this.type.ya):(this.type.pattern||(this.type.pattern=this.j.zb.createPattern(this.type.ma,"repeat")),this.pattern=this.type.pattern)};c.ye=function(){this.sr=
!1;this.ma=this.type.ma};c.Pf=function(){this.j.aa&&this.sr&&this.ya&&(this.j.aa.deleteTexture(this.ya),this.ya=null)};c.Fe=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,f=this.y;this.j.Xd&&(c=Math.round(c),f=Math.round(f));var g=-(this.Vc*this.width),e=-(this.Wc*this.height),k=g%this.ma.width,h=e%this.ma.height;0>k&&(k+=this.ma.width);0>h&&(h+=this.ma.height);a.translate(c,f);a.rotate(this.K);a.translate(k,h);a.fillRect(g-k,e-h,this.width,this.height);a.restore()};
c.kh=function(a){this.md(a)};c.md=function(a){a.ud(this.ya);a.Vg(this.opacity);var c=this.Sg;c.right=this.width/this.ma.width;c.bottom=this.height/this.ma.height;var f=this.eb;if(this.j.Xd){var g=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;a.Oe(f.sb+g,f.tb+e,f.Vb+g,f.Wb+e,f.Nb+g,f.Ob+e,f.Lb+g,f.Mb+e,c)}else a.Oe(f.sb,f.tb,f.Vb,f.Wb,f.Nb,f.Ob,f.Lb,f.Mb,c)};a.P=new function(){};a.Ja=new function(){};a.pb=new function(){}})();function kd(a){this.j=a}
(function(){function a(a){h=a.x;m=a.y;l=a.z}function c(a,c,d,e){var f;f=n.length?n.pop():new b;f.init(a,c,d,e);return f}function b(){this.vk=this.id=this.Ih=this.Hh=this.y=this.x=this.Jm=this.Im=this.Io=this.time=this.Ep=0;this.Ak=this.Wm=!1}function d(){}function f(){}var g=kd.prototype;g.lb=function(a){this.jb=a;this.j=a.j};g.lb.prototype.Ca=function(){};g.ab=function(a){this.type=a;this.j=a.j;this.touches=[];this.Wo=!1};var e=g.ab.prototype,k={left:0,top:0};e.sj=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var h=0,m=0,l=0,n=[];b.prototype.init=function(a,b,c,d){var e=mb();this.Ep=this.Io=this.time=e;this.Im=a;this.Jm=b;this.x=a;this.y=b;this.Hh=a;this.Ih=b;this.pressure=this.height=this.width=0;this.id=c;this.vk=d;this.Ak=this.Wm=!1};b.prototype.update=function(a,b,c,d,e,f){this.Io=this.time;this.time=a;this.Hh=this.x;this.Ih=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Ak&&15<=cb(this.Im,this.Jm,this.x,this.y)&&(this.Ak=
!0)};b.prototype.Rx=function(a,b){!this.Wm&&500<=mb()-this.Ep&&!this.Ak&&15>cb(this.Im,this.Jm,this.x,this.y)&&(this.Wm=!0,a.tf=this.vk,a.Si=this.id,a.qi=b,a.j.trigger(kd.prototype.P.nu,a),a.zf=this.x,a.Af=this.y,a.j.trigger(kd.prototype.P.ou,a),a.qi=0)};var p=-1E3,q=-1E3,v=-1E4;b.prototype.js=function(a,b){if(!this.Wm){var c=mb();333>=c-this.Ep&&!this.Ak&&15>cb(this.Im,this.Jm,this.x,this.y)&&(a.tf=this.vk,a.Si=this.id,a.qi=b,666>=c-v&&25>cb(p,q,this.x,this.y)?(a.j.trigger(kd.prototype.P.lu,a),a.zf=
this.x,a.Af=this.y,a.j.trigger(kd.prototype.P.mu,a),q=p=-1E3,v=-1E4):(a.j.trigger(kd.prototype.P.kq,a),a.zf=this.x,a.Af=this.y,a.j.trigger(kd.prototype.P.lq,a),p=this.x,q=this.y,v=c),a.qi=0)}};e.Ca=function(){this.Fx=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.qi=this.Si=this.tf=this.Af=this.zf=this.wq=this.vq=this.uq=this.Qu=this.Pu=this.Ou=this.km=this.jm=this.hm=0;this.az=0!==this.ba[0];var b=0<this.j.Uc?document:this.j.canvas,c=document;this.j.Cg?c=b=window.Canvas:this.j.je&&
(c=b=window);var d=this;"undefined"!==typeof PointerEvent?(b.addEventListener("pointerdown",function(a){d.xs(a)},!1),b.addEventListener("pointermove",function(a){d.ws(a)},!1),c.addEventListener("pointerup",function(a){d.fm(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.fm(a,!0)},!1),this.j.canvas&&(this.j.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.j.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){d.xs(a)},!1),b.addEventListener("MSPointerMove",function(a){d.ws(a)},!1),c.addEventListener("MSPointerUp",function(a){d.fm(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.fm(a,!0)},!1),this.j.canvas&&(this.j.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",function(a){d.zs(a)},!1),b.addEventListener("touchmove",function(a){d.ys(a)},!1),c.addEventListener("touchend",function(a){d.dp(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.dp(a,!0)},!1));if(this.Fx){var e=function(a){a=a.reading;d.uq=a.accelerationX;d.vq=a.accelerationY;d.wq=a.accelerationZ},f=function(a){a=a.reading;d.hm=a.yawDegrees;d.jm=a.pitchDegrees;d.km=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();
g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){d.hm=a.alpha||0;d.jm=a.beta||0;d.km=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.Ou=a.accelerationIncludingGravity.x||0,d.Pu=a.accelerationIncludingGravity.y||0,d.Qu=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.uq=a.acceleration.x||0,d.vq=a.acceleration.y||0,d.wq=a.acceleration.z||0)},!1);this.az&&!this.j.Zb&&(jQuery(document).mousemove(function(a){d.bp(a)}),jQuery(document).mousedown(function(a){d.$o(a)}),
jQuery(document).mouseup(function(a){d.cp(a)}));!this.j.Pj&&this.j.ke&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(a,null,{frequency:40});this.j.Ty(this)};e.ws=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.sj(a.pointerId),c=mb();if(0<=b){var d=this.j.Zb?k:jQuery(this.j.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,
a.width||0,a.height||0,a.pressure||0)}}};e.xs=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Lb(a)&&a.preventDefault();var b=this.j.Zb?k:jQuery(this.j.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;mb();this.tf=this.touches.length;this.Si=a.pointerId;this.touches.push(c(d,b,a.pointerId,this.tf));this.j.nc=!0;this.j.trigger(kd.prototype.P.gq,this);this.j.trigger(kd.prototype.P.pq,this);this.zf=d;this.Af=b;this.j.trigger(kd.prototype.P.oq,this);
this.j.nc=!1}};e.fm=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Lb(a)&&a.preventDefault();var c=this.sj(a.pointerId);this.tf=0<=c?this.touches[c].vk:-1;this.Si=0<=c?this.touches[c].id:-1;this.j.nc=!0;this.j.trigger(kd.prototype.P.fq,this);this.j.trigger(kd.prototype.P.nq,this);0<=c&&(b||this.touches[c].js(this,c),100>n.length&&n.push(this.touches[c]),this.touches.splice(c,1));this.j.nc=!1}};e.ys=function(a){a.preventDefault&&a.preventDefault();
var b=mb(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.sj(e.identifier),0<=f){var g=this.j.Zb?k:jQuery(this.j.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-g.left,e.pageY-g.top,2*(e.uA||e.CA||e.oA||e.rA||0),2*(e.vA||e.DA||e.pA||e.sA||0),e.gA||e.BA||e.nA||e.qA||0)}};e.zs=function(a){a.preventDefault&&Lb(a)&&a.preventDefault();var b=this.j.Zb?k:jQuery(this.j.canvas).offset();mb();this.j.nc=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=
a.changedTouches[d],g=this.sj(f.identifier),-1===g){g=f.pageX-b.left;var h=f.pageY-b.top;this.tf=this.touches.length;this.Si=f.identifier;this.touches.push(c(g,h,f.identifier,this.tf));this.j.trigger(kd.prototype.P.gq,this);this.j.trigger(kd.prototype.P.pq,this);this.zf=g;this.Af=h;this.j.trigger(kd.prototype.P.oq,this)}this.j.nc=!1};e.dp=function(a,b){a.preventDefault&&Lb(a)&&a.preventDefault();this.j.nc=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.sj(e.identifier),
0<=e&&(this.tf=this.touches[e].vk,this.Si=this.touches[e].id,this.j.trigger(kd.prototype.P.fq,this),this.j.trigger(kd.prototype.P.nq,this),b||this.touches[e].js(this,e),100>n.length&&n.push(this.touches[e]),this.touches.splice(e,1));this.j.nc=!1};e.i=function(){return this.j.ke&&0===this.hm&&0!==l?90*l:this.hm};e.k=function(){return this.j.ke&&0===this.jm&&0!==m?90*m:this.jm};e.u=function(){return this.j.ke&&0===this.km&&0!==h?90*h:this.km};e.$o=function(a){this.zs({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]});this.Wo=!0};e.bp=function(a){this.Wo&&this.ys({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};e.cp=function(a){a.preventDefault&&this.j.Cl&&!this.j.Hf&&a.preventDefault();this.j.Cl=!0;this.dp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Wo=!1};e.Rm=function(){var a,b,c,d=mb();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.Io=d),c.Rx(this,a)};d.prototype.pq=function(){return!0};d.prototype.nq=function(){return!0};
d.prototype.oq=function(a){return a?this.j.xk(a,this.zf,this.Af):!1};d.prototype.gq=function(a){a=Math.floor(a);return a===this.tf};d.prototype.fq=function(a){a=Math.floor(a);return a===this.tf};d.prototype.nu=function(){return!0};d.prototype.kq=function(){return!0};d.prototype.lu=function(){return!0};d.prototype.ou=function(a){return a?this.j.xk(a,this.zf,this.Af):!1};d.prototype.lq=function(a){return a?this.j.xk(a,this.zf,this.Af):!1};d.prototype.mu=function(a){return a?this.j.xk(a,this.zf,this.Af):
!1};g.P=new d;f.prototype.tn=function(a,b){var c=this.qi;if(0>c||c>=this.touches.length)a.ka(0);else{var d,e,f,g,h;ka(b)?(d=this.j.Ef(0),e=d.scale,f=d.Sc,g=d.rd,h=d.K,d.scale=1,d.Sc=1,d.rd=1,d.K=0,a.ka(d.hc(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Sc=f,d.rd=g,d.K=h):(d=la(b)?this.j.Ef(b):this.j.Aj(b))?a.ka(d.hc(this.touches[c].x,this.touches[c].y,!0)):a.ka(0)}};f.prototype.tq=function(a,b){var c=this.qi;if(0>c||c>=this.touches.length)a.ka(0);else{var d,e,f,g,h;ka(b)?(d=this.j.Ef(0),e=
d.scale,f=d.Sc,g=d.sd,h=d.K,d.scale=1,d.Sc=1,d.sd=1,d.K=0,a.ka(d.hc(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.Sc=f,d.sd=g,d.K=h):(d=la(b)?this.j.Ef(b):this.j.Aj(b))?a.ka(d.hc(this.touches[c].x,this.touches[c].y,!1)):a.ka(0)}};g.pb=new f})();function ld(a){this.j=a}
(function(){function a(a){switch(a){case 1:return"BANNER";case 2:return"MEDIUM_RECTANGLE";case 3:return"FULL_BANNER";case 4:return"LEADERBOARD";case 5:return"SKYSCRAPER"}return"SMART_BANNER"}function c(a){switch(a){case 0:return"top-left";case 1:return"top-center";case 2:return"top-right";case 3:return"left";case 4:return"center";case 5:return"right";case 6:return"bottom-left";case 8:return"bottom-right"}return"bottom-center"}function b(){}function d(){}var f=ld.prototype;f.lb=function(a){this.jb=
a;this.j=a.j};f.lb.prototype.Ca=function(){};f.ab=function(a){this.type=a;this.j=a.j};var g=!1;f.ab.prototype.Ca=function(){if(window.admob){g=!0;this.de=window.admob;this.de.setLicenseKey&&this.de.setLicenseKey("support@scirra.com","2ba99d4ff8c219cf7331c88fb3344f80");var a=0!==this.ba[0],b=0!==this.ba[1];this.Wu=this.ba[2];this.Xu=this.ba[3];this.ux=this.ba[4];this.wx=this.ba[5];this.ez=this.ba[6];this.fz=this.ba[7];this.j.ro?(this.Tk=this.Wu,this.El=this.Xu):this.j.Pj?(this.Tk=this.ux,this.El=this.wx):
this.j.si||this.j.Il?(this.Tk=this.ez,this.El=this.fz):this.El=this.Tk="";this.Hl=!1;this.de.setUp(this.Tk,this.El,a,b);var c=this;this.de.onFullScreenAdLoaded=function(){c.j.trigger(ld.prototype.P.$p,c)};this.de.onInterstitialAdLoaded=function(){c.j.trigger(ld.prototype.P.$p,c)};this.de.onFullScreenAdShown=function(){c.Hl=!0;c.j.trigger(ld.prototype.P.Zp,c)};this.de.onInterstitialAdShown=function(){c.Hl=!0;c.j.trigger(ld.prototype.P.Zp,c)};this.de.onFullScreenAdClosed=function(){c.Hl=!1;c.j.trigger(ld.prototype.P.Yp,
c)};this.de.onInterstitialAdHidden=function(){c.Hl=!1;c.j.trigger(ld.prototype.P.Yp,c)};this.de.onBannerAdPreloaded=function(){c.j.trigger(ld.prototype.P.hu,c)}}else ia("[Construct 2] com.cranberrygame.phonegap.plugin.ad.admob plugin is required to show Admob ads with Cordova; other platforms are not supported")};b.prototype.$p=function(){return!0};b.prototype.Zp=function(){return!0};b.prototype.Yp=function(){return!0};b.prototype.hu=function(){return!0};f.P=new b;d.prototype.Hu=function(b,d){g&&
this.de.showBannerAd(c(b),a(d))};d.prototype.vu=function(){g&&this.de.preloadBannerAd()};f.Ja=new d;f.pb=new function(){}})();function md(a){this.j=a}
(function(){function a(){}var c=md.prototype;c.lb=function(a){this.behavior=a;this.j=a.j};c.lb.prototype.Ca=function(){};c.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.L=b;this.j=a.j};var b=c.ab.prototype;b.Ca=function(){var a=this.ba[0];this.Pk=this.ba[1];this.wj=this.ba[2];this.av=0!==this.ba[3];this.Ap=0!==this.ba[4];this.lc=Math.cos(this.L.K)*a;this.Pb=Math.sin(this.L.K)*a;this.Hh=this.L.x;this.Ih=this.L.y;this.Oc=this.L.K;this.Um=0;this.enabled=0!==this.ba[5]};b.Pc=function(){return{acc:this.Pk,
g:this.wj,dx:this.lc,dy:this.Pb,lx:this.Hh,ly:this.Ih,lka:this.Oc,t:this.Um,e:this.enabled}};b.od=function(a){this.Pk=a.acc;this.wj=a.g;this.lc=a.dx;this.Pb=a.dy;this.Hh=a.lx;this.Ih=a.ly;this.Oc=a.lka;this.Um=a.t;this.enabled=a.e};b.ve=function(){if(this.enabled){var a=this.j.xj(this.L),b,c;this.L.K!==this.Oc&&(this.Ap&&(b=cb(0,0,this.lc,this.Pb),this.lc=Math.cos(this.L.K)*b,this.Pb=Math.sin(this.L.K)*b),this.Oc=this.L.K);0!==this.Pk&&(b=cb(0,0,this.lc,this.Pb),c=0===this.lc&&0===this.Pb?this.L.K:
Sa(0,0,this.lc,this.Pb),b+=this.Pk*a,0>b&&(b=0),this.lc=Math.cos(c)*b,this.Pb=Math.sin(c)*b);0!==this.wj&&(this.Pb+=this.wj*a);this.Hh=this.L.x;this.Ih=this.L.y;if(0!==this.lc||0!==this.Pb)if(this.L.x+=this.lc*a,this.L.y+=this.Pb*a,this.Um+=cb(0,0,this.lc*a,this.Pb*a),this.Ap&&(this.L.K=Sa(0,0,this.lc,this.Pb),this.L.ua(),this.Oc=this.L.K),this.L.ua(),this.av&&(b=this.j.Xh(this.L)))this.j.Qs(this.L,b),b=cb(0,0,this.lc,this.Pb),c=this.j.dv(this.L,this.Hh,this.Ih),this.lc=Math.cos(c)*b,this.Pb=Math.sin(c)*
b,this.L.x+=this.lc*a,this.L.y+=this.Pb*a,this.L.ua(),this.Ap&&(this.Oc=this.L.K=c,this.L.ua()),this.j.wy(this.L,this.lc/b,this.Pb/b,Math.max(2.5*b*a,30))||this.j.xy(this.L)}};c.P=new function(){};a.prototype.Cu=function(a){var b=Sa(0,0,this.lc,this.Pb);this.lc=Math.cos(b)*a;this.Pb=Math.sin(b)*a};a.prototype.qq=function(a){this.wj=a};a.prototype.wu=function(a){a=H(a);var b=cb(0,0,this.lc,this.Pb);this.lc=Math.cos(a)*b;this.Pb=Math.sin(a)*b};c.Ja=new a;c.pb=new function(){}})();
function nd(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var od=2/180*Math.PI,pd=8/180*Math.PI,qd=.5*Math.PI,sd=qd*qd,td=2/180*Math.PI,ud=Number.MIN_VALUE*Number.MIN_VALUE;function vd(a,c){return a.x*c.x+a.y*c.y}function wd(a,c){return a.x*c.y-a.y*c.x}function xd(a){return Z(1*a.y,-1*a.x)}function yd(a,c){return Z(a.p.x*c.x+a.q.x*c.y,a.p.y*c.x+a.q.y*c.y)}function zd(a,c){return Z(vd(c,a.p),vd(c,a.q))}
function Ad(a,c){var b=yd(a.B,c);b.x+=a.position.x;b.y+=a.position.y;return b}function Bd(a,c){var b=Cd(c,a.position),d=b.x*a.B.p.x+b.y*a.B.p.y;b.y=b.x*a.B.q.x+b.y*a.B.q.y;b.x=d;return b}function Cd(a,c){return Z(a.x-c.x,a.y-c.y)}function Dd(a,c,b){return a<c?c:a>b?b:a}function Ed(){this.p=Z(0,0);this.q=Z(0,0);this.p.Set(1,0);this.q.Set(0,1)}function Fd(a){var c=new Ed;c.Set(a);return c}Ed.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.p.Set(c,a);this.q.Set(-a,c)};
Ed.prototype.fc=function(){var a=new Ed;Gd(a,this);return a};function Gd(a,c){a.p.O(c.p);a.q.O(c.q)}Ed.prototype.oa=function(){this.p.Set(0,0);this.q.Set(0,0)};Ed.prototype.$g=function(){return Math.atan2(this.p.y,this.p.x)};function Hd(a,c){var b=a.p.x*a.q.y-a.q.x*a.p.y;0!==b&&(b=1/b);c.p.x=b*a.q.y;c.q.x=-b*a.q.x;c.p.y=-b*a.p.y;c.q.y=b*a.p.x}function Id(a,c,b,d){var f=a.p.x*a.q.y-a.q.x*a.p.y;0!==f&&(f=1/f);c.x=f*(a.q.y*b-a.q.x*d);c.y=f*(a.p.x*d-a.p.y*b);return c}
function Jd(a,c,b){this.p=new Kd(0,0,0);this.q=new Kd(0,0,0);this.i=new Kd(0,0,0);a&&this.p.O(a);c&&this.q.O(c);b&&this.i.O(b)}Jd.prototype.fc=function(){return new Jd(this.p,this.q,this.i)};Jd.prototype.oa=function(){this.p.Set(0,0,0);this.q.Set(0,0,0);this.i.Set(0,0,0)};function Ld(a,c,b,d){var f=a.p.x,g=a.q.x,e=a.p.y;a=a.q.y;var k=f*a-g*e;0!=k&&(k=1/k);c.x=k*(a*b-g*d);c.y=k*(f*d-e*b);return c}
function Md(a,c,b,d,f){var g=a.p.x,e=a.p.y,k=a.p.z,h=a.q.x,m=a.q.y,l=a.q.z,n=a.i.x,p=a.i.y;a=a.i.z;var q=g*(m*a-l*p)+e*(l*n-h*a)+k*(h*p-m*n);0!=q&&(q=1/q);c.x=q*(b*(m*a-l*p)+d*(l*n-h*a)+f*(h*p-m*n));c.y=q*(g*(d*a-f*p)+e*(f*n-b*a)+k*(b*p-d*n));c.z=q*(g*(m*f-l*d)+e*(l*b-h*f)+k*(h*d-m*b));return c}function fe(){this.R=Z(0,0);this.wc=Z(0,0);this.F=Z(0,0)}fe.prototype.Set=function(a){this.R.O(a.R);this.wc.O(a.wc);this.F.O(a.F);this.ee=a.ee;this.Q=a.Q;this.Rc=a.Rc};
fe.prototype.fc=function(){var a=new fe;a.R.O(this.R);a.wc.O(this.wc);a.F.O(this.F);a.ee=this.ee;a.Q=this.Q;a.Rc=this.Rc;return a};fe.prototype.wd=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.wc.x+c*this.F.x;a.position.y=(1-c)*this.wc.y+c*this.F.y;a.B.Set((1-c)*this.ee+c*this.Q);var b=a.B;a.position.x-=b.p.x*this.R.x+b.q.x*this.R.y;a.position.y-=b.p.y*this.R.x+b.q.y*this.R.y};
fe.prototype.eg=function(a){void 0===a&&(a=0);if(this.Rc<a&&1-this.Rc>Number.MIN_VALUE){var c=(a-this.Rc)/(1-this.Rc);this.wc.x=(1-c)*this.wc.x+c*this.F.x;this.wc.y=(1-c)*this.wc.y+c*this.F.y;this.ee=(1-c)*this.ee+c*this.Q;this.Rc=a}};function ge(a,c){this.position=Z(0,0);this.B=new Ed;a&&this.position.O(a);c&&Gd(this.B,c)}ge.prototype.Set=function(a){this.position.O(a.position);Gd(this.B,a.B)};ge.prototype.$g=function(){return Math.atan2(this.B.p.y,this.B.p.x)};
function he(a,c){this.x=a;this.y=c}var ie=[];function Z(a,c){if(0<ie.length){var b=ie.pop();b.Set(a,c);return b}return new he(a,c)}function je(a){ie.push(a)}w=he.prototype;w.oa=function(){this.y=this.x=0};w.Set=function(a,c){this.x=a;this.y=c};w.O=function(a){this.x=a.x;this.y=a.y};w.gg=function(){return Z(-this.x,-this.y)};w.fc=function(){return Z(this.x,this.y)};w.Xe=function(a){this.x+=a.x;this.y+=a.y};w.sq=function(a){this.x-=a.x;this.y-=a.y};w.Od=function(a){this.x*=a;this.y*=a};
function ke(a){return Math.sqrt(le(a))}function le(a){return a.x*a.x+a.y*a.y}function me(a){var c=ke(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function Kd(a,c,b){this.x=a;this.y=c;this.z=b}w=Kd.prototype;w.oa=function(){this.z=this.y=this.x=0};w.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};w.O=function(a){this.x=a.x;this.y=a.y;this.z=a.z};w.gg=function(){return new Kd(-this.x,-this.y,-this.z)};w.fc=function(){return new Kd(this.x,this.y,this.z)};
w.Xe=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};w.sq=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};w.Od=function(a){this.x*=a;this.y*=a;this.z*=a};function ne(){this.Pa=.005}w=ne.prototype;w.bh=function(){};w.fc=function(){};w.Set=function(a){this.Pa=a.Pa};w.bi=function(){};w.Xi=function(){};w.Jk=function(){};w.pn=function(){};function oe(a){this.Pa=.005;this.Pa=a;this.i=a*a;this.Xa=Z(0,0)}nd(oe,ne);w=oe.prototype;w.bh=function(){return"b2CircleShape"};
w.fc=function(){var a=new oe(this.Pa);a.Set(this);return a};w.Set=function(a){ne.prototype.Set.call(this,a);a instanceof oe&&this.Xa.O(a.Xa)};w.bi=function(a,c){var b=c.B,d=c.position.x+(b.p.x*this.Xa.x+b.q.x*this.Xa.y),b=c.position.y+(b.p.y*this.Xa.x+b.q.y*this.Xa.y);a.i.Set(d-this.Pa,b-this.Pa);a.k.Set(d+this.Pa,b+this.Pa)};w.Xi=function(a,c){a.i=c*Math.PI*this.i;a.k.O(this.Xa);a.u=a.i*(.5*this.i+(this.Xa.x*this.Xa.x+this.Xa.y*this.Xa.y))};
w.Jk=function(a,c,b,d){b=Ad(b,this.Xa);var f=-(vd(a,b)-c);if(f<-this.Pa+Number.MIN_VALUE)return 0;if(f>this.Pa)return d.O(b),Math.PI*this.i;c=f*f;f=this.i*(Math.asin(f/this.Pa)+Math.PI/2)+f*Math.sqrt(this.i-c);c=-2/3*Math.pow(this.i-c,1.5)/f;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return f};w.pn=function(a){a.S=[this.Xa];a.i=1;a.Pa=this.Pa};
function pe(a,c){this.Pa=.005;this.i=a;this.k=c;this.u=Z(this.k.x-this.i.x,this.k.y-this.i.y);me(this.u);this.C=Z(this.u.y,-this.u.x);Z(-.04*(this.C.x-this.u.x)+this.i.x,-.04*(this.C.y-this.u.y)+this.i.y);Z(-.04*(this.C.x+this.u.x)+this.k.x,-.04*(this.C.y+this.u.y)+this.k.y);Z(-this.C.x,-this.C.y)}nd(pe,ne);pe.prototype.bh=function(){return"b2EdgeShape"};
pe.prototype.bi=function(a,c){var b=c.B,d=c.position.x+(b.p.x*this.i.x+b.q.x*this.i.y),f=c.position.y+(b.p.y*this.i.x+b.q.y*this.i.y),g=c.position.x+(b.p.x*this.k.x+b.q.x*this.k.y),b=c.position.y+(b.p.y*this.k.x+b.q.y*this.k.y);d<g?(a.i.x=d,a.k.x=g):(a.i.x=g,a.k.x=d);f<b?(a.i.y=f,a.k.y=b):(a.i.y=b,a.k.y=f)};pe.prototype.Xi=function(a){a.i=0;a.k.O(this.i);a.u=0};
pe.prototype.Jk=function(a,c,b,d){void 0===c&&(c=0);var f=Z(a.x*c,a.y*c),g=Ad(b,this.i);b=Ad(b,this.k);var e=vd(a,g)-c;a=vd(a,b)-c;if(0<e){if(0<a)return 0;g.x=-a/(e-a)*g.x+e/(e-a)*b.x;g.y=-a/(e-a)*g.y+e/(e-a)*b.y}else 0<a&&(b.x=-a/(e-a)*g.x+e/(e-a)*b.x,b.y=-a/(e-a)*g.y+e/(e-a)*b.y);d.x=(f.x+g.x+b.x)/3;d.y=(f.y+g.y+b.y)/3;return.5*((g.x-f.x)*(b.y-f.y)-(g.y-f.y)*(b.x-f.x))};function qe(){this.i=0;this.k=Z(0,0);this.u=0}function re(){this.Pa=.005;this.i=Z(0,0);this.S=[];this.fb=[]}nd(re,ne);w=re.prototype;
w.bh=function(){return"b2PolygonShape"};w.fc=function(){var a=new re;a.Set(this);return a};w.Set=function(a){ne.prototype.Set.call(this,a);if(a instanceof re){this.i.O(a.i);this.Ua=a.Ua;se(this,this.Ua);for(var c=0;c<this.Ua;c++)this.S[c].O(a.S[c]),this.fb[c].O(a.fb[c])}};
function te(a,c){var b=c.length;a.Ua=b;se(a,b);for(b=b=0;b<a.Ua;b++)a.S[b].O(c[b]);for(b=0;b<a.Ua;++b){var d=Cd(a.S[b+1<a.Ua?b+1:0],a.S[b]);a.fb[b].O(xd(d));me(a.fb[b])}for(var b=a.S,d=a.Ua,f=Z(0,0),g=0,e=1/3,k=0;k<d;++k){var h=b[k],m=k+1<d?b[k+1]:b[0],l=.5*((h.x-0)*(m.y-0)-(h.y-0)*(m.x-0)),g=g+l;f.x+=l*e*(0+h.x+m.x);f.y+=l*e*(0+h.y+m.y)}f.x*=1/g;f.y*=1/g;a.i=f}
function ue(a,c,b){a.Ua=4;se(a,4);a.S[0].Set(-c,-b);a.S[1].Set(c,-b);a.S[2].Set(c,b);a.S[3].Set(-c,b);a.fb[0].Set(0,-1);a.fb[1].Set(1,0);a.fb[2].Set(0,1);a.fb[3].Set(-1,0);a.i.oa()}
w.bi=function(a,c){for(var b=c.B,d=this.S[0],f=c.position.x+(b.p.x*d.x+b.q.x*d.y),g=c.position.y+(b.p.y*d.x+b.q.y*d.y),e=f,k=g,h=1;h<this.Ua;++h)var d=this.S[h],m=c.position.x+(b.p.x*d.x+b.q.x*d.y),d=c.position.y+(b.p.y*d.x+b.q.y*d.y),f=f<m?f:m,g=g<d?g:d,e=e>m?e:m,k=k>d?k:d;a.i.x=f-this.Pa;a.i.y=g-this.Pa;a.k.x=e+this.Pa;a.k.y=k+this.Pa};
w.Xi=function(a,c){if(2==this.Ua)a.k.x=.5*(this.S[0].x+this.S[1].x),a.k.y=.5*(this.S[0].y+this.S[1].y),a.i=0,a.u=0;else{for(var b=0,d=0,f=0,g=0,e=1/3,k=0;k<this.Ua;++k)var h=this.S[k],m=k+1<this.Ua?this.S[k+1]:this.S[0],l=h.x-0,n=h.y-0,p=m.x-0,q=m.y-0,v=l*q-n*p,t=.5*v,f=f+t,b=b+t*e*(0+h.x+m.x),d=d+t*e*(0+h.y+m.y),h=l,g=g+v*(e*(.25*(h*h+p*h+p*p)+(0*h+0*p))+0+(e*(.25*(n*n+q*n+q*q)+(0*n+0*q))+0));a.i=c*f;a.k.Set(1/f*b,1/f*d);a.u=c*g}};
w.Jk=function(a,c,b,d){var f=zd(b.B,a),g=c-vd(a,b.position),e=[],k=0,h=-1;c=-1;var m=!1;for(a=a=0;a<this.Ua;++a){e[a]=vd(f,this.S[a])-g;var l=e[a]<-Number.MIN_VALUE;0<a&&(l?m||(h=a-1,k++):m&&(c=a-1,k++));m=l}switch(k){case 0:return m?(a=new qe,this.Xi(a,1),d.O(Ad(b,a.k)),a.i):0;case 1:-1==h?h=this.Ua-1:c=this.Ua-1}a=(h+1)%this.Ua;f=(c+1)%this.Ua;g=(0-e[h])/(e[a]-e[h]);e=(0-e[c])/(e[f]-e[c]);h=Z(this.S[h].x*(1-g)+this.S[a].x*g,this.S[h].y*(1-g)+this.S[a].y*g);c=Z(this.S[c].x*(1-e)+this.S[f].x*e,this.S[c].y*
(1-e)+this.S[f].y*e);e=0;g=Z(0,0);for(k=this.S[a];a!=f;)a=(a+1)%this.Ua,m=a==f?c:this.S[a],l=.5*((k.x-h.x)*(m.y-h.y)-(k.y-h.y)*(m.x-h.x)),e+=l,g.x+=l*(h.x+k.x+m.x)/3,g.y+=l*(h.y+k.y+m.y)/3,k=m;g.Od(1/e);d.O(Ad(b,g));return e};w.pn=function(a){a.S=this.S;a.i=this.Ua;a.Pa=this.Pa};w.Kk=function(a){for(var c=0,b=this.S[0].x*a.x+this.S[0].y*a.y,d=1;d<this.Ua;++d){var f=this.S[d].x*a.x+this.S[d].y*a.y;f>b&&(c=d,b=f)}return c};
w.$i=function(a){for(var c=0,b=this.S[0].x*a.x+this.S[0].y*a.y,d=1;d<this.Ua;++d){var f=this.S[d].x*a.x+this.S[d].y*a.y;f>b&&(c=d,b=f)}return this.S[c]};function se(a,c){a.S=[];a.fb=[];for(var b=a.S.length;b<c;b++)a.S[b]=Z(0,0),a.fb[b]=Z(0,0)}new Ed;function ve(){this.k=this.i=this.u=this.Kb=0}function we(a,c){a.Kb=c;a.u=a.Kb&255;a.i=(a.Kb&65280)>>8&255;a.k=(a.Kb&16711680)>>16&255;a.C=(a.Kb&4278190080)>>24&255}ve.prototype.Set=function(a){we(this,a.Kb)};
ve.prototype.fc=function(){var a=new ve;a.Set(this);return a};function xe(){this.be=Z(0,0);this.id=new ve}xe.prototype.Set=function(a){this.be.O(a.be);this.id.Set(a.id)};function ye(){this.i=Z(0,0);this.k=Z(0,0)}var ze=[];function Ae(){if(0<ze.length){var a=ze.pop();a.oa();return a}return new ye}ye.prototype.oa=function(){this.i.Set(0,0);this.k.Set(0,0)};function Be(a,c){var b;return b=(b=(b=(b=a.i.x<=c.i.x)&&a.i.y<=c.i.y)&&c.k.x<=a.k.x)&&c.k.y<=a.k.y}
ye.prototype.bj=function(a){return 0<a.i.x-this.k.x||0<a.i.y-this.k.y||0<this.i.x-a.k.x||0<this.i.y-a.k.y?!1:!0};function Ce(a,c,b){a.i.x=Math.min(c.i.x,b.i.x);a.i.y=Math.min(c.i.y,b.i.y);a.k.x=Math.max(c.k.x,b.k.x);a.k.y=Math.max(c.k.y,b.k.y)}function De(a,c,b,d){var f=0,g=c[0].be,e=c[1].be,k=b.x*g.x+b.y*g.y-d;b=b.x*e.x+b.y*e.y-d;0>=k&&a[f++].Set(c[0]);0>=b&&a[f++].Set(c[1]);0>k*b&&(b=k/(k-b),d=a[f].be,d.x=g.x+b*(e.x-g.x),d.y=g.y+b*(e.y-g.y),a[f].id=0<k?c[0].id:c[1].id,f++);return f}
function Ee(a,c,b,d,f){for(var g=c.B.p.x*a.fb[b].x+c.B.q.x*a.fb[b].y,e=c.B.p.y*a.fb[b].x+c.B.q.y*a.fb[b].y,k=f.B.p.x*g+f.B.p.y*e,h=f.B.q.x*g+f.B.q.y*e,m=0,l=Number.MAX_VALUE,n=0;n<d.Ua;n++){var p=d.S[n].x*k+d.S[n].y*h;p<l&&(l=p,m=n)}return(f.position.x+(f.B.p.x*d.S[m].x+f.B.q.x*d.S[m].y)-(c.position.x+(c.B.p.x*a.S[b].x+c.B.q.x*a.S[b].y)))*g+(f.position.y+(f.B.p.y*d.S[m].x+f.B.q.y*d.S[m].y)-(c.position.y+(c.B.p.y*a.S[b].x+c.B.q.y*a.S[b].y)))*e}
function Fe(a,c,b,d){for(var f=d.position.x+(d.B.p.x*b.i.x+d.B.q.x*b.i.y),g=d.position.y+(d.B.p.y*b.i.x+d.B.q.y*b.i.y),f=f-(c.position.x+(c.B.p.x*a.i.x+c.B.q.x*a.i.y)),g=g-(c.position.y+(c.B.p.y*a.i.x+c.B.q.y*a.i.y)),e=f*c.B.p.x+g*c.B.p.y,g=f*c.B.q.x+g*c.B.q.y,f=0,k=-Number.MAX_VALUE,h=0;h<a.Ua;++h){var m=a.fb[h].x*e+a.fb[h].y*g;m>k&&(k=m,f=h)}e=Ee(a,c,f,b,d);g=f-1;0>g&&(g=a.Ua-1);k=Ee(a,c,g,b,d);h=f+1;h>=a.Ua&&(h=0);var m=Ee(a,c,h,b,d),l=0,n=0;if(k>e&&k>m)for(l=g,n=k;;)if(f=l-1,0>f&&(f=a.Ua-1),e=
Ee(a,c,f,b,d),e>n)l=f,n=e;else break;else if(m>e)for(l=h,n=m;;)if(f=l+1,f>=a.Ua&&(f=0),e=Ee(a,c,f,b,d),e>n)l=f,n=e;else break;else l=f,n=e;return{Dq:l,Bm:n}}
function Ge(a,c,b){var d=new He,f=b.Rf,g=b.i,e=b.Sf,k=b.k,h,m;d.i=c.count;for(var l=d.S,n=0;n<d.i;n++){var p=l[n];p.Qb=c.Qb[n];p.Rb=c.Rb[n];h=Ie(f,p.Qb);m=Ie(e,p.Rb);p.Jc=Ad(g,h);p.xe=Ad(k,m);p.Xb=Cd(p.xe,p.Jc);p.Q=0}1<d.i&&(h=c.i,m=Je(d),m<.5*h||2*h<m||m<Number.MIN_VALUE)&&(d.i=0);0==d.i&&(p=l[0],p.Qb=0,p.Rb=0,h=Ie(f,0),m=Ie(e,0),p.Jc=Ad(g,h),p.xe=Ad(k,m),p.Xb=Cd(p.xe,p.Jc),d.i=1);for(f=0;20>f;){g=[];for(e=0;e<d.i;e++)g[e]={},g[e].Qb=d.S[e].Qb,g[e].Rb=d.S[e].Rb;if(2==d.i)e=d,k=e.k.Xb,l=e.u.Xb,h=
Cd(l,k),k=-(k.x*h.x+k.y*h.y),0>=k?(e.k.Q=1,e.i=1):(l=l.x*h.x+l.y*h.y,0>=l?(e.u.Q=1,e.i=1,e.k.Set(e.u)):(h=1/(l+k),e.k.Q=l*h,e.u.Q=k*h,e.i=2));else if(3==d.i){var e=d,q=e.k.Xb,v=e.u.Xb,t=e.C.Xb,u=Cd(v,q),k=vd(v,u),l=-vd(q,u),r=Cd(t,q);h=vd(t,r);m=-vd(q,r);p=Cd(t,v);n=vd(t,p);p=-vd(v,p);r=wd(u,r);u=r*wd(v,t);t=r*wd(t,q);q=r*wd(q,v);0>=l&&0>=m?(e.k.Q=1,e.i=1):0<k&&0<l&&0>=q?(h=1/(k+l),e.k.Q=k*h,e.u.Q=l*h,e.i=2):0<h&&0<m&&0>=t?(k=1/(h+m),e.k.Q=h*k,e.C.Q=m*k,e.i=2,e.u.Set(e.C)):0>=k&&0>=p?(e.u.Q=1,e.i=
1,e.k.Set(e.u)):0>=h&&0>=n?(e.C.Q=1,e.i=1,e.k.Set(e.C)):0<n&&0<p&&0>=u?(k=1/(n+p),e.u.Q=n*k,e.C.Q=p*k,e.i=2,e.k.Set(e.C)):(k=1/(u+t+q),e.k.Q=u*k,e.u.Q=t*k,e.C.Q=q*k,e.i=3)}if(3==d.i)break;e=d;1==e.i?e=e.k.Xb.gg():2==e.i?(k=Cd(e.u.Xb,e.k.Xb),e=0<wd(k,e.k.Xb.gg())?Z(-1*k.y,1*k.x):xd(k)):e=Z(0,0);if(le(e)<ud)break;k=e.gg();d.S[d.i].Qb=b.Rf.Kk(zd(b.i.B,k));d.S[d.i].Jc=Ad(b.i,Ie(b.Rf,d.S[d.i].Qb));d.S[d.i].Rb=b.Sf.Kk(zd(b.k.B,e));d.S[d.i].xe=Ad(b.k,Ie(b.Sf,d.S[d.i].Rb));d.S[d.i].Xb=Cd(d.S[d.i].xe,d.S[d.i].Jc);
je(e);je(k);f++;k=!1;for(e=0;e<g.length;e++)if(d.S[d.i].Qb==g[e].Qb&&d.S[d.i].Rb==g[e].Rb){k=!0;break}if(k)break;d.i++}f=a.i;g=a.k;1==d.i?(f.O(d.k.Jc),g.O(d.k.xe)):2==d.i?(f.x=d.k.Q*d.k.Jc.x+d.u.Q*d.u.Jc.x,f.y=d.k.Q*d.k.Jc.y+d.u.Q*d.u.Jc.y,g.x=d.k.Q*d.k.xe.x+d.u.Q*d.u.xe.x,g.y=d.k.Q*d.k.xe.y+d.u.Q*d.u.xe.y):3==d.i&&(g.x=f.x=d.k.Q*d.k.Jc.x+d.u.Q*d.u.Jc.x+d.C.Q*d.C.Jc.x,g.y=f.y=d.k.Q*d.k.Jc.y+d.u.Q*d.u.Jc.y+d.C.Q*d.C.Jc.y);a.u=ke(Cd(a.i,a.k));c.i=Je(d);c.count=d.i;f=d.S;for(g=0;g<d.i;g++)c.Qb[g]=f[g].Qb,
c.Rb[g]=f[g].Rb;b.u&&(c=b.Rf.Pa,b=b.Sf.Pa,a.u>c+b&&a.u>Number.MIN_VALUE?(a.u-=c+b,d=Cd(a.k,a.i),me(d),a.i.x+=c*d.x,a.i.y+=c*d.y,a.k.x-=b*d.x,a.k.y-=b*d.y,je(d)):(b=Z(0,0),b.x=.5*(a.i.x+a.k.x),b.y=.5*(a.i.y+a.k.y),a.i.x=a.k.x=b.x,a.i.y=a.k.y=b.y,a.u=0,je(b)))}function Ke(){}function Le(){this.i=Z(0,0);this.k=Z(0,0);this.u=0}function Me(){}Me.prototype.Set=function(a){a.pn(this)};
Me.prototype.Kk=function(a){for(var c=0,b=this.S[0].x*a.x+this.S[0].y*a.y,d=1;d<this.i;d++){var f=this.S[d].x*a.x+this.S[d].y*a.y;f>b&&(c=d,b=f)}return c};Me.prototype.$i=function(a){return this.S[this.Kk(a)]};function Ie(a,c){void 0===c&&(c=0);return a.S[c]}function Ne(){this.i=null}Ne.prototype.Yi=function(a){Oe(this,a);a.ed()};function Pe(a,c,b){if(null!==a.i){var d=[];for(d.push(a.i);0<d.length;)if(a=d.pop(),a.Ia.bj(b))if(null===a.jd){if(!c(a.he))break}else d.push(a.jd),d.push(a.ef)}}
function Qe(a,c){if(null===a.i)a.i=c,a.i.parent=null;else{var b;b=c.Ia;b=Z((b.i.x+b.k.x)/2,(b.i.y+b.k.y)/2);for(var d=a.i;null!==d.jd;)var f=d.jd,d=d.ef,g=Math.abs((f.Ia.i.x+f.Ia.k.x)/2-b.x)+Math.abs((f.Ia.i.y+f.Ia.k.y)/2-b.y),e=Math.abs((d.Ia.i.x+d.Ia.k.x)/2-b.x)+Math.abs((d.Ia.i.y+d.Ia.k.y)/2-b.y),d=g<e?f:d;je(b);b=d;f=b.parent;d=Re();d.parent=f;Ce(d.Ia,c.Ia,b.Ia);if(f)for(b.parent.jd==b?f.jd=d:f.ef=d,d.jd=b,d.ef=c,b.parent=d,c.parent=d;f&&!Be(f.Ia,d.Ia);)Ce(f.Ia,f.jd.Ia,f.ef.Ia),d=f,f=f.parent;
else d.jd=b,d.ef=c,b.parent=d,c.parent=d,a.i=d}}function Oe(a,c){if(c==a.i)a.i=null;else{var b=c.parent,d=b.parent,f;f=b.jd==c?b.ef:b.jd;if(d)for(d.jd==b?d.jd=f:d.ef=f,f.parent=d;d;){f=d.Ia;Ce(d.Ia,d.jd.Ia,d.ef.Ia);if(Be(f,d.Ia))break;d=d.parent}else a.i=f,f.parent=null;b.ed()}}function Se(){this.k=new Ne;this.i=[]}Se.prototype.Yi=function(a){Ia(this.i,a);this.k.Yi(a)};Se.prototype.bj=function(a,c){return a.Ia.bj(c.Ia)};
function Te(a,c){for(var b=[];0<a.i.length;){var d=a.i.pop();Pe(a.k,function(a){a!=d.he&&b.push(new Ue(d.he,a));return!0},d.Ia)}for(var f=0;f<b.length;){var g=b[f];c(g.uj,g.vj);for(f++;f<b.length;){var e=b[f];if(!(e.uj==g.uj&&e.vj==g.vj||e.uj==g.vj&&e.vj==g.uj))break;f++}}}function Ve(a){this.Ia=Ae();this.he=this.parent=this.ef=this.jd=null;"undefined"!=typeof a&&(this.he=a)}var We=[];
function Re(a){if(0<We.length){var c=We.pop();"undefined"!=typeof a&&(c.he=a);c.Ia.oa();return c}return new Ve(a)}Ve.prototype.ed=function(){this.he=this.parent=this.ef=this.jd=null;We.push(this)};function Ue(a,c){this.uj=a;this.vj=c}function Xe(){this.Qa=this.Gb=0;this.na=[];for(var a=0;2>a;a++)this.na[a]=new Ye;this.zc=Z(0,0);this.ta=Z(0,0)}Xe.prototype.vc=function(){for(var a=0;2>a;a++)this.na[a].vc();this.zc.oa();this.ta.oa();this.Gb=this.Qa=0};
Xe.prototype.Set=function(a){this.Gb=a.Gb;for(var c=0;2>c;c++)this.na[c].Set(a.na[c]);this.zc.O(a.zc);this.ta.O(a.ta);this.Qa=a.Qa};Xe.prototype.fc=function(){var a=new Xe;a.Set(this);return a};function Ye(){this.ta=Z(0,0);this.me=new ve;this.vc()}Ye.prototype.vc=function(){this.ta.oa();this.Nh=this.Mh=0;we(this.me,0)};Ye.prototype.Set=function(a){this.ta.O(a.ta);this.Mh=a.Mh;this.Nh=a.Nh;this.me.Set(a.me)};
function Ze(){var a=$e,c=af,b=nf,d,f,g=0;switch(a.Qa){case sf:d=zd(c.B,a.i);f=zd(b.B,a.i.gg());d=a.k.$i(d);f=a.u.$i(f);c=Ad(c,d);b=Ad(b,f);g=(b.x-c.x)*a.i.x+(b.y-c.y)*a.i.y;break;case zf:g=yd(c.B,a.i);c=Ad(c,a.ta);f=zd(b.B,g.gg());f=a.u.$i(f);b=Ad(b,f);g=(b.x-c.x)*g.x+(b.y-c.y)*g.y;break;case Af:g=yd(b.B,a.i),b=Ad(b,a.ta),d=zd(c.B,g.gg()),d=a.k.$i(d),c=Ad(c,d),g=(c.x-b.x)*g.x+(c.y-b.y)*g.y}return g}var sf=1,zf=2,Af=4;
function He(){this.k=new Bf;this.u=new Bf;this.C=new Bf;this.S=[this.k,this.u,this.C]}function Je(a){return 1==a.i?0:2==a.i?ke(Cd(a.k.Xb,a.u.Xb)):3==a.i?wd(Cd(a.u.Xb,a.k.Xb),Cd(a.C.Xb,a.k.Xb)):0}function Cf(){this.Qb=[0,0,0];this.Rb=[0,0,0]}function Bf(){}Bf.prototype.Set=function(a){this.Jc.O(a.Jc);this.xe.O(a.xe);this.Xb.O(a.Xb);this.Q=a.Q;this.Qb=a.Qb;this.Rb=a.Rb};function Df(){this.Rf=new Me;this.Sf=new Me;this.lt=new fe;this.mt=new fe}
function Ef(a,c){this.W="Body"+Ff++;this.G=new ge;this.G.position.O(a.position);this.G.B.Set(a.K);this.n=new fe;this.n.R.oa();this.n.Rc=1;this.n.ee=this.n.Q=a.K;this.n.F.x=this.G.B.p.x*this.n.R.x+this.G.B.q.x*this.n.R.y;this.n.F.y=this.G.B.p.y*this.n.R.x+this.G.B.q.y*this.n.R.y;this.n.F.x+=this.G.position.x;this.n.F.y+=this.G.position.y;this.n.wc.O(this.n.F);this.A=a.N.fc();this.k=Z(0,0);this.H=a.ii;this.cb=a.i;this.za=a.k;this.Fd=a.C;this.da=a.hd;this.Gd=c;this.ub=null;this.kd=new Gf;this.Z=new Hf;
this.I=a.u;this.Ta=a.Ci;this.Da=a.hi;this.N=this.C=0;this.Qa=a.type;this.V=2==this.Qa?1:0;this.M=2==this.Qa?1:0;this.U=this.i=0;this.Ea=a.H;this.u=new If;this.J=[]}function Jf(a,c){var b=new Kf(a,0,c);if(a.da){var d=a.Gd.i.i;b.ac.bi(b.i,a.G);var f=d.k,g=b.i,e=Re(b);e.Ia.i.x=g.i.x-.1;e.Ia.i.y=g.i.y-.1;e.Ia.k.x=g.k.x+.1;e.Ia.k.y=g.k.y+.1;Qe(f,e);d.i.push(e);b.k=e}d=a.u;f=b.Vp;null==d.i[f]&&(g=new Lf(b),e=d.u,null!=e?e.next=g:d.k=g,g.uf(e),d.u=g,d.i[f]=g);b.To=a;0<b.C&&Mf(a);a.Gd.u=!0}w=Ef.prototype;
w.ed=function(){je(this.A);je(this.k)};function Nf(a,c,b){a.G.B.Set(b);a.G.position.O(c);c=a.G.B;var d=a.n.R;a.n.F.x=c.p.x*d.x+c.q.x*d.y;a.n.F.y=c.p.y*d.x+c.q.y*d.y;a.n.F.x+=a.G.position.x;a.n.F.y+=a.G.position.y;a.n.wc.O(a.n.F);a.n.ee=a.n.Q=b;b=a.Gd.i.i;for(c=a.u.Sa();c;c=c.Ha())Of(c.he,b,a.G,a.G);Pf(a.Gd.i)}w.wd=function(){return this.G};w.$g=function(){return this.n.Q};w.nn=function(a){Nf(this,this.G.position,a)};function Qf(a,c){0!=a.Qa&&a.A.O(c)}
w.Ok=function(a){void 0===a&&(a=0);0!=this.Qa&&(this.I=a)};w.fg=function(a,c){2==this.Qa&&(Rf(this,!0),this.k.x+=a.x,this.k.y+=a.y,this.C+=(c.x-this.n.F.x)*a.y-(c.y-this.n.F.y)*a.x)};w.gn=function(a){void 0===a&&(a=0);2==this.Qa&&(Rf(this,!0),this.C+=a)};
function Mf(a){a.V=0;a.M=0;a.i=0;a.U=0;a.n.R.oa();if(0!=a.Qa&&1!=a.Qa){for(var c=Z(0,0),b=a.u.Sa();b;b=b.Ha()){var d=b.he;if(0!=d.C){var f=void 0,f=new qe;d.ac.Xi(f,d.C);d=f;a.V+=d.i;c.x+=d.k.x*d.i;c.y+=d.k.y*d.i;a.i+=d.u}}0<a.V?(a.M=1/a.V,c.x*=a.M,c.y*=a.M):(a.V=1,a.M=1);0<a.i&&!a.cb?(a.i-=a.V*(c.x*c.x+c.y*c.y),a.i*=a.Ea,a.U=1/a.i):(a.i=0,a.U=0);b=a.n.F.fc();a.n.R.O(c);a.n.wc.O(Ad(a.G,a.n.R));a.n.F.O(a.n.wc);a.A.x+=a.I*-(a.n.F.y-b.y);a.A.y+=a.I*+(a.n.F.x-b.x);je(c);je(b)}}
function Sf(a,c){var b=a.G.B,b=Z(b.p.x*c.x+b.q.x*c.y,b.p.y*c.x+b.q.y*c.y);b.x+=a.G.position.x;b.y+=a.G.position.y;return b}w.Bc=function(){return this.Qa};function Rf(a,c){if(a.Fd!=c){a.Fd=c;a.N=0;c||(a.A.oa(),a.I=0,a.k.oa(),a.C=0);for(var b=0;b<a.J.length;b++)Tf(a.J[b],a)}}w.ei=function(){return this.da};w.ah=function(){return this.kd};
function Uf(a){Vf.B.Set(a.n.ee);var c=Vf.B,b=a.n.R;Vf.position.x=a.n.wc.x-(c.p.x*b.x+c.q.x*b.y);Vf.position.y=a.n.wc.y-(c.p.y*b.x+c.q.y*b.y);c=a.Gd.i.i;for(b=a.u.Sa();b;b=b.Ha())Of(b.he,c,Vf,a.G)}function Wf(a){a.G.B.Set(a.n.Q);var c=a.G.B,b=a.n.R;a.G.position.x=a.n.F.x-(c.p.x*b.x+c.q.x*b.y);a.G.position.y=a.n.F.y-(c.p.y*b.x+c.q.y*b.y)}function Xf(a,c){if(2!=a.Qa&&2!=c.Qa)return!1;for(var b=a.ub;b;b=b.next)if(b.Wd==c&&0==b.Jf.gs)return!1;return!0}
w.eg=function(a){this.n.eg(a);this.n.F.O(this.n.wc);this.n.Q=this.n.ee;Wf(this)};var Ff=0;function Yf(){this.position=Z(0,0);this.N=Z(0,0);this.hi=this.Ci=this.u=this.K=0;this.C=this.k=!0;this.ii=this.i=!1;this.type=0;this.hd=!0;this.H=1}function Zf(){this.k=[];for(var a=0;a<=$f;a++)this.k[a]=null;this.u=[];for(a=0;a<=$f;a++)this.u[a]=null;this.i={}}Zf.prototype.Sa=function(a){return this.k[a]};
function Tf(a,c){var b=c.Bc(),d=c.W,f=c.Fd,g=c.ei();2==b?ag(a,c,d,bg):cg(a,d,bg);0!=b?ag(a,c,d,dg):cg(a,d,dg);0!=b&&g&&f?ag(a,c,d,eg):cg(a,d,eg);f?ag(a,c,d,fg):cg(a,d,fg);g?ag(a,c,d,gg):cg(a,d,gg)}Zf.prototype.Nk=function(a){var c=a.W;if(null!=this.i[c]){Ia(a.J,this);for(a=0;a<=$f;a++)cg(this,c,a);delete this.i[c]}};function cg(a,c,b){var d=a.i[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.i,c=c.Ha(),null==d?a.k[b]=c:d.next=c,null==c?a.u[b]=d:c.uf(d)))}
function ag(a,c,b,d){var f=a.i[b];if(null==f){for(var f=[],g=0;g<=$f;g++)f[g]=null;a.i[b]=f}null==f[d]&&(f[d]=new hg(c),c=a.u[d],null!=c?c.next=f[d]:a.k[d]=f[d],f[d].uf(c),a.u[d]=f[d])}var bg=0,dg=1,gg=2,eg=3,fg=4,$f=5;function hg(a){this.body=a;this.i=this.next=null}hg.prototype.uf=function(a){this.i=a};hg.prototype.Ra=function(){return this.body};hg.prototype.Ha=function(){return this.next};function ig(){}
ig.prototype.i=function(a,c){var b=a.H.fc(),d=c.H.fc();return b.i==d.i&&0!=b.i?0<b.i:0!=(b.u&d.k)&&0!=(b.k&d.u)};var jg=new ig;function kg(){this.i=[];this.k=[]}function lg(){}lg.prototype.BeginContact=function(){};lg.prototype.EndContact=function(){};function mg(a){this.Gd=a;this.u=jg;this.k=ng;this.C=new og;this.i=new Se}
function Pf(a){Te(a.i,function(c,b){a:{var d=c.Ra(),f=b.Ra();if(d!=f&&Xf(f,d)&&a.u.i(c,b)){for(d=f.kd.Sa(pg);d;d=d.Ha())if(f=d.kc.Sb,f==c){if(f=d.kc.Fb,f==b)break a}else if(f==b&&(f=d.kc.Fb,f==c))break a;a.C.u(c,b)}}})}mg.prototype.ed=function(a){a.Zh&&this.k.EndContact(a);0<a.Ud.Gb&&(Rf(a.Sb.Ra(),!0),Rf(a.Fb.Ra(),!0));qg(a.Yk,a);qg(a.Zk,a);qg(a.cn,a);this.C.ed(a)};function rg(){this.k=1;this.u=65535;this.i=0}rg.prototype.fc=function(){var a=new rg;a.k=this.k;a.u=this.u;a.i=this.i;return a};
function Kf(a,c,b){this.Vp="Fixture"+sg++;this.H=b.k.fc();this.i=Ae();this.To=a;this.ac=b.i.fc();this.C=b.wg;this.N=b.zg;this.J=b.Tg;this.u=b.u}Kf.prototype.Ra=function(){return this.To};Kf.prototype.ed=function(){ze.push(this.i)};Kf.prototype.Yi=function(a){null!=this.k&&(a.Yi(this.k),this.k=null)};
function Of(a,c,b,d){if(a.k){var f=Ae(),g=Ae();a.ac.bi(f,b);a.ac.bi(g,d);Ce(a.i,f,g);ze.push(f);ze.push(g);b=Cd(d.position,b.position);d=a.k;f=c.k;a=a.i;if(Be(d.Ia,a))a=!1;else{Oe(f,d);var g=.1+2*Math.abs(b.x),e=.1+2*Math.abs(b.y);d.Ia.i.x=a.i.x-g;d.Ia.i.y=a.i.y-e;d.Ia.k.x=a.k.x+g;d.Ia.k.y=a.k.y+e;Qe(f,d);a=!0}a&&c.i.push(d);je(b)}}var sg=0;function tg(){this.k=new rg;this.k.k=1;this.k.u=65535;this.k.i=0;this.i=null;this.zg=.2;this.wg=this.Tg=0;this.u=!1}
function If(){this.u=this.k=null;this.i={}}If.prototype.Sa=function(){return this.k};function Lf(a){this.he=a;this.i=this.next=null}Lf.prototype.uf=function(a){this.i=a};Lf.prototype.Ha=function(){return this.next};function ug(a,c){this.da=a;this.C=c;this.k=[];this.N=[];this.H=[];this.u=[];this.i=[]}function vg(a){a.k=[];a.N=[];a.H=[];a.u=[];a.i=[]}function wg(a,c){if(null!=a.da)for(var b=0;b<a.u.length;++b)for(var d=c[b],f=new kg,g=0;g<d.H;++g)f.i[g]=d.u[g].Hb,f.k[g]=d.u[g].rf}
function xg(a,c){a.k.push(c);0!=c.Bc()&&(a.H.push(c),2==c.Bc()&&a.N.push(c))}function yg(a,c,b,d,f){this.Ba=a;var g=0;0<a&&(g=1/a);this.i=g;this.Yb=c;this.jk=b;this.Fk=d;this.bg=f}function zg(a,c){this.i=new mg(this);this.C=new Ag;this.u=!1;this.Yg=new Zf;this.kd=new Gf;this.ub=null;this.N=new Hf;this.J=0;this.W=c;this.k=a;this.H=0;this.Px=Bg(this,new Yf)}var Cg=1-100*Number.MIN_VALUE;function Bg(a,c){var b=new Ef(c,a),d=a.Yg,f=b.W;null==d.i[f]&&(ag(d,b,f,$f),Tf(d,b),b.J.push(d));return b}
function Dg(a,c){for(var b=c.ub;b;){var d=b,b=b.next;Eg(a,d.Jf)}for(b=c.Z.Sa();b;b=b.Ha())b.jv.Nk(c);for(b=c.kd.Sa(pg);b;b=b.Ha())a.i.ed(b.kc);for(b=c.u.Sa();b;b=b.Ha()){var d=c,f=b.he,g=d.u,e=f.Vp,k=g.i[e];if(null!=k){var h=k.i,k=k.Ha();null==h?g.k=k:h.next=k;null==k?g.u=h:k.uf(h);delete g.i[e]}for(g=d.kd.Sa(pg);g;g=g.Ha())f!=g.kc.Sb&&f!=g.kc.Fb||d.Gd.i.ed(g.kc);d.da&&f.Yi(d.Gd.i.i);f.ed();f.To=null;Mf(d)}c.ed();a.Yg.Nk(c)}
function Fg(a,c){var b=c.u();b.Fi=null;if(b.Jg=a.ub)a.ub.Fi=b;a.ub=b;a.J++;b.Yc.Jf=b;b.Yc.Wd=b.Y;b.Yc.prev=null;if(b.Yc.next=b.X.ub)b.X.ub.prev=b.Yc;b.X.ub=b.Yc;b.Zc.Jf=b;b.Zc.Wd=b.X;b.Zc.prev=null;if(b.Zc.next=b.Y.ub)b.Y.ub.prev=b.Zc;b.Y.ub=b.Zc;var d=c.i,f=c.k;if(!c.N)for(var g=f.kd.Sa(pg);g;g=g.Ha())Gg(g.kc,f)==d&&(g.kc.rj=!0);return b}
function Eg(a,c){var b=c.gs;c.Fi&&(c.Fi.Jg=c.Jg);c.Jg&&(c.Jg.Fi=c.Fi);c==a.ub&&(a.ub=c.Jg);var d=c.X,f=c.Y;Rf(d,!0);Rf(f,!0);c.Yc.prev&&(c.Yc.prev.next=c.Yc.next);c.Yc.next&&(c.Yc.next.prev=c.Yc.prev);c.Yc==d.ub&&(d.ub=c.Yc.next);c.Yc.prev=null;c.Yc.next=null;c.Zc.prev&&(c.Zc.prev.next=c.Zc.next);c.Zc.next&&(c.Zc.next.prev=c.Zc.prev);c.Zc==f.ub&&(f.ub=c.Zc.next);c.Zc.prev=null;c.Zc.next=null;a.J--;if(!b)for(b=f.kd.Sa(pg);b;b=b.Ha())Gg(b.kc,f)==d&&(b.kc.rj=!0)}zg.prototype.qq=function(a){this.k=a};
zg.prototype.ig=function(a,c,b){var d,f;this.u&&(Pf(this.i),this.u=!1);for(var g=new yg(a,this.H*a,c,b,!0),e=this.i,k=e.Gd.kd.Sa(pg);k;k=k.Ha()){var h=k.kc,m=h.Sb,l=h.Fb,n=m.Ra(),p=l.Ra();if(0!=n.Fd||0!=p.Fd){if(h.rj){if(0==Xf(p,n)){e.ed(h);continue}if(0==e.u.i(m,l)){e.ed(h);continue}h.rj=!1}0==e.i.bj(m.k,l.k)?e.ed(h):Hg(h,e.k)}}if(0<g.Ba){for(var q=this.N.Sa();q;q=q.Ha())q.jv.ig(g);for(var v=new ug(this.i.k,this.C),t=this.Yg.Sa($f);t;t=t.Ha())t.body.mb=!1;for(var u=this.kd.Sa(pg);u;u=u.Ha())u.kc.mb=
!1;for(var r=this.ub;r;r=r.Jg)r.mb=!1;for(t=this.Yg.Sa(eg);t;t=t.Ha()){var y=t.body;if(!y.mb){vg(v);Ig.length=0;var B=Ig;B.push(y);for(y.mb=!0;0<B.length;){var D=B.pop();xg(v,D);D.Fd||Rf(D,!0);if(0!=D.Bc()){for(u=D.kd.Sa(Jg);u;u=u.Ha()){var z=u.kc;if(!z.mb){v.u.push(z);z.mb=!0;var C=Gg(z,D);C.mb||(B.push(C),C.mb=!0)}}for(var E=D.ub;E;E=E.next)!E.Jf.mb&&E.Wd.ei()&&(v.i.push(E.Jf),E.Jf.mb=!0,E.Wd.mb||(B.push(E.Wd),E.Wd.mb=!0))}}for(var x=v,A=g,G=this.W,W=x,I=A,L=this.k,M=0;M<W.N.length;M++){var J=W.N[M];
J.A.x+=I.Ba*(L.x+J.M*J.k.x);J.A.y+=I.Ba*(L.y+J.M*J.k.y);J.I+=I.Ba*J.U*J.C;J.A.Od(Dd(1-I.Ba*J.Ta,0,1));J.I*=Dd(1-I.Ba*J.Da,0,1)}Kg(x.C,x.u,x.u.length);for(var Y=x,N=A,O=Y.C,P=0;P<O.k;++P){var Q=O.i[P],R=Q.i,K=Q.k,S=R.M,ca=R.U,ab=K.M,ba=K.U,bb=Q.C.x,La=Q.C.y,Zb=La,si=-bb,Bb=0,rd=0;if(N.bg)for(rd=Q.H,Bb=0;Bb<rd;++Bb){var Ya=Q.u[Bb];Ya.Hb*=N.Yb;Ya.rf*=N.Yb;var Nd=Ya.Hb*bb+Ya.rf*Zb,Od=Ya.Hb*La+Ya.rf*si;R.I-=ca*(Ya.wb.x*Od-Ya.wb.y*Nd);R.A.x-=S*Nd;R.A.y-=S*Od;K.I+=ba*(Ya.xb.x*Od-Ya.xb.y*Nd);K.A.x+=ab*Nd;
K.A.y+=ab*Od}else for(rd=Q.H,Bb=0;Bb<rd;++Bb){var th=Q.u[Bb];th.Hb=0;th.rf=0}}for(var bf=0;bf<Y.i.length;bf++)Y.i[bf].Ye(N);for(var uh=0;uh<N.Fk;uh++){for(var cf=0;cf<Y.i.length;cf++)Y.i[cf].$e(N);Lg(Y.C)}for(var wh=0;wh<Y.i.length;wh++);for(var xh=Y.C,df=0;df<xh.k;++df)for(var ef=xh.i[df],Gi=ef.da,Pd=0;Pd<ef.H;++Pd){var yh=Gi.na[Pd],zh=ef.u[Pd];yh.Mh=zh.Hb;yh.Nh=zh.rf}for(var Ah=x,pb=A,ff=0;ff<Ah.H.length;++ff){var fa=Ah.H[ff],Bh=pb.Ba*fa.A.x,Ch=pb.Ba*fa.A.y;4<Bh*Bh+Ch*Ch&&(me(fa.A),fa.A.x=2*fa.A.x*
pb.i,fa.A.y=2*fa.A.y*pb.i);var Dh=pb.Ba*fa.I;Dh*Dh>sd&&(fa.I=0>fa.I?-qd*pb.i:qd*pb.i);fa.n.wc.O(fa.n.F);fa.n.ee=fa.n.Q;fa.n.F.x+=pb.Ba*fa.A.x;fa.n.F.y+=pb.Ba*fa.A.y;fa.n.Q+=pb.Ba*fa.I;Wf(fa)}for(var gf=x,Hi=A,Eh=0;Eh<Hi.jk;Eh++){for(var Ii=Mg(gf.C,.2),hf=!0,jf=0;jf<gf.i.length;jf++)var Ji=gf.i[jf].Ze(.2),hf=hf&&Ji;if(Ii&&hf)break}wg(x,x.C.i);if(G){for(var Qd=x,Ki=A,Rd=Number.MAX_VALUE,kf=0;kf<Qd.H.length;kf++){var Db=Qd.H[kf];!Db.za||Math.abs(Db.I)>td||1E-4<vd(Db.A,Db.A)?Rd=Db.N=0:(Db.N+=Ki.Ba,Rd=
Math.min(Rd,Db.N))}if(.5<=Rd)for(var lf=0;lf<Qd.k.length;lf++)Rf(Qd.k[lf],!1)}}}for(t=this.Yg.Sa(eg);t;t=t.Ha())Uf(t.body);Pf(this.i);for(var ua=new ug(this.i.k,this.C),Sd=this.Yg.Sa($f);Sd;Sd=Sd.Ha()){var qb=Sd.body;qb.mb=!1;qb.n.Rc=0}for(var Ea=this.kd.Sa(pg);Ea;Ea=Ea.Ha())Ea.kc.mb=!1,Ea.kc.i=null;for(var Td=this.ub;Td;Td=Td.Jg)Td.mb=!1;for(;;){for(var Gh=null,mf=1,Ud=this.kd.Sa(Ng);Ud;Ud=Ud.Ha()){var eb=Ud.kc,Hh=eb.Sb.Ra(),Ih=eb.Fb.Ra();if(2==Hh.Bc()&&Hh.Fd||2==Ih.Bc()&&Ih.Fd){var Ta=1;if(null!=
eb.i)Ta=eb.i;else if(eb.Zh)Ta=1,eb.i=Ta;else{var nc=eb.Sb.Ra(),Pc=eb.Fb.Ra(),Qc=nc.n.Rc;nc.n.Rc<Pc.n.Rc?(Qc=Pc.n.Rc,nc.n.eg(Qc)):Pc.n.Rc<nc.n.Rc&&(Qc=nc.n.Rc,Pc.n.eg(Qc));var Jh=eb,Li=nc.n,Mi=Pc.n;Og.Rf.Set(Jh.Sb.ac);Og.Sf.Set(Jh.Fb.ac);Og.lt=Li;Og.mt=Mi;Og.Xy=.005;var Rc=Og;Pg++;var of=Rc.Rf,pf=Rc.Sf,qf=Rc.lt,rf=Rc.mt,Vd=of.Pa+pf.Pa,Wd=Rc.Xy,fb=0,Sc=0,oc=0;Qg.count=0;for(Rg.u=!1;;){qf.wd(af,fb);rf.wd(nf,fb);Rg.Rf=of;Rg.Sf=pf;Rg.i=af;Rg.k=nf;Ge(Sg,Qg,Rg);if(0>=Sg.u){fb=1;break}var Oi=pf,T=$e,xa=Qg,
gb=af,hb=nf;T.k=of;T.u=Oi;var Eb=void 0,ib=void 0,vb=void 0,Fb=void 0,jb=void 0,wb=void 0,qc=0,rc=0,sc=0,tc=0,Xd=0,Yd=0,U=void 0,V=void 0,Ua=0;if(1==xa.count)T.Qa=sf,Eb=Ie(T.k,xa.Qb[0]),Fb=Ie(T.u,xa.Rb[0]),V=Eb,U=gb.B,qc=gb.position.x+(U.p.x*V.x+U.q.x*V.y),rc=gb.position.y+(U.p.y*V.x+U.q.y*V.y),V=Fb,U=hb.B,sc=hb.position.x+(U.p.x*V.x+U.q.x*V.y),tc=hb.position.y+(U.p.y*V.x+U.q.y*V.y),T.i.x=sc-qc,T.i.y=tc-rc,me(T.i);else{if(xa.Rb[0]==xa.Rb[1])T.Qa=zf,ib=Ie(T.k,xa.Qb[0]),vb=Ie(T.k,xa.Qb[1]),Fb=Ie(T.u,
xa.Rb[0]),T.ta.x=.5*(ib.x+vb.x),T.ta.y=.5*(ib.y+vb.y),T.i=xd(Cd(vb,ib)),me(T.i),V=T.i,U=gb.B,Xd=U.p.x*V.x+U.q.x*V.y,Yd=U.p.y*V.x+U.q.y*V.y,V=T.ta,U=gb.B,qc=gb.position.x+(U.p.x*V.x+U.q.x*V.y),rc=gb.position.y+(U.p.y*V.x+U.q.y*V.y),V=Fb,U=hb.B,sc=hb.position.x+(U.p.x*V.x+U.q.x*V.y),tc=hb.position.y+(U.p.y*V.x+U.q.y*V.y),Ua=(sc-qc)*Xd+(tc-rc)*Yd;else if(xa.Qb[0]==xa.Qb[0])T.Qa=Af,jb=Ie(T.u,xa.Rb[0]),wb=Ie(T.u,xa.Rb[1]),Eb=Ie(T.k,xa.Qb[0]),T.ta.x=.5*(jb.x+wb.x),T.ta.y=.5*(jb.y+wb.y),T.i=xd(Cd(wb,jb)),
me(T.i),V=T.i,U=hb.B,Xd=U.p.x*V.x+U.q.x*V.y,Yd=U.p.y*V.x+U.q.y*V.y,V=T.ta,U=hb.B,sc=hb.position.x+(U.p.x*V.x+U.q.x*V.y),tc=hb.position.y+(U.p.y*V.x+U.q.y*V.y),V=Eb,U=gb.B,qc=gb.position.x+(U.p.x*V.x+U.q.x*V.y),rc=gb.position.y+(U.p.y*V.x+U.q.y*V.y),Ua=(qc-sc)*Xd+(rc-tc)*Yd;else{var ib=Ie(T.k,xa.Qb[0]),vb=Ie(T.k,xa.Qb[1]),jb=Ie(T.u,xa.Rb[0]),wb=Ie(T.u,xa.Rb[1]),xb=yd(gb.B,Cd(vb,ib)),yb=yd(hb.B,Cd(wb,jb)),Lh=xb.x*xb.x+xb.y*xb.y,tf=yb.x*yb.x+yb.y*yb.y,Zd=Cd(yb,xb),Mh=xb.x*Zd.x+xb.y*Zd.y,Nh=yb.x*Zd.x+
yb.y*Zd.y,Tc=xb.x*yb.x+xb.y*yb.y,Oh=Lh*tf-Tc*Tc,Ua=0;0!=Oh&&(Ua=Dd((Tc*Nh-Mh*tf)/Oh,0,1));0>(Tc*Ua+Nh)/tf&&(Ua=Dd((Tc-Mh)/Lh,0,1));Eb=Z(0,0);Eb.x=ib.x+Ua*(vb.x-ib.x);Eb.y=ib.y+Ua*(vb.y-ib.y);Fb=Z(0,0);Fb.x=jb.x+Ua*(wb.x-jb.x);Fb.y=jb.y+Ua*(wb.y-jb.y);0==Ua||1==Ua?(T.Qa=Af,T.i=xd(Cd(wb,jb)),me(T.i),T.ta=Fb):(T.Qa=zf,T.i=xd(Cd(vb,ib)),T.ta=Eb)}if(0>Ua){var $d=T.i;$d.x=-$d.x;$d.y=-$d.y}}var Uc=Ze();if(0>=Uc){fb=1;break}0==Sc&&(oc=Uc>Vd?Math.max(Vd-Wd,.75*Vd):Math.max(Uc-Wd,.02*Vd));if(Uc-oc<.5*Wd){if(0==
Sc){fb=1;break}break}var uf=fb,ae=fb,Vc=1,vf=Uc;qf.wd(af,Vc);rf.wd(nf,Vc);var wf=Ze();if(wf>=oc){fb=1;break}for(var be=0;;){var uc=0,uc=be&1?ae+(oc-vf)*(Vc-ae)/(wf-vf):.5*(ae+Vc);qf.wd(af,uc);rf.wd(nf,uc);var ce=Ze();if(Math.abs(ce-oc)<.025*Wd){uf=uc;break}ce>oc?(ae=uc,vf=ce):(Vc=uc,wf=ce);be++;Tg++;if(50==be)break}Ug=Math.max(Ug,be);if(uf<(1+100*Number.MIN_VALUE)*fb)break;fb=uf;Sc++;Vg++;if(1E3==Sc)break}Wg=Math.max(Wg,Sc);Ta=fb;0<Ta&&1>Ta&&(Ta=(1-Ta)*Qc+Ta);eb.i=Ta}Number.MIN_VALUE<Ta&&Ta<mf&&(Gh=
eb,mf=Ta)}}d=Gh;f=mf;var Gb=d,vc=f;if(null===Gb||Cg<vc)break;var Wc=Gb.Sb.Ra(),Xc=Gb.Fb.Ra();Xg.Set(Wc.n);Yg.Set(Xc.n);Wc.eg(vc);Xc.eg(vc);Hg(Gb,this.i.k);Gb.i=null;if(Gb.H||!Gb.enabled)Wc.n.Set(Xg),Xc.n.Set(Yg),Wf(Wc),Wf(Xc);else if(Gb.Zh){var de=Wc;2!=de.Bc()&&(de=Xc);vg(ua);Ig.length=0;var Yc=Ig;Yc.push(de);for(de.mb=!0;0<Yc.length;)if(qb=Yc.pop(),xg(ua,qb),qb.Fd||Rf(qb,!0),2==qb.Bc()){for(Ea=qb.kd.Sa(Jg);Ea&&32!=ua.W;Ea=Ea.Ha()){var ee=Ea.kc;if(!ee.mb){ua.u.push(ee);ee.mb=!0;var wc=Gg(ee,qb);
wc.mb||(0!=wc.Bc()&&(wc.eg(vc),Rf(wc,!0),Yc.push(wc)),wc.mb=!0)}}for(var Va=qb.ub;Va;Va=Va.next)32!=ua.J&&!Va.Jf.mb&&Va.Wd.ei()&&(ua.i.push(Va.Jf),Va.Jf.mb=!0,Va.Wd.mb||(0!=Va.Wd.Bc()&&(Va.Wd.eg(vc),Rf(Va.Wd,!0),Yc.push(Va.Wd)),Va.Wd.mb=!0))}var Wa=ua,Qa=new yg((1-vc)*g.Ba,0,g.Fk,g.jk,!1),Ra=0,Hb=0;Kg(Wa.C,Wa.u,Wa.u.length);for(var xf=Wa.C,Ra=0;Ra<Wa.i.length;++Ra)Wa.i[Ra].Ye(Qa);for(Ra=0;Ra<Qa.Fk;++Ra)for(Lg(xf),Hb=0;Hb<Wa.i.length;++Hb)Wa.i[Hb].$e(Qa);for(Ra=0;Ra<Wa.H.length;++Ra){var ga=Wa.H[Ra],
Th=Qa.Ba*ga.A.x,Uh=Qa.Ba*ga.A.y;4<Th*Th+Uh*Uh&&(me(ga.A),ga.A.x=2*ga.A.x*Qa.i,ga.A.y=2*ga.A.y*Qa.i);var Vh=Qa.Ba*ga.I;Vh*Vh>sd&&(ga.I=0>ga.I?-qd*Qa.i:qd*Qa.i);ga.n.wc.O(ga.n.F);ga.n.ee=ga.n.Q;ga.n.F.x+=Qa.Ba*ga.A.x;ga.n.F.y+=Qa.Ba*ga.A.y;ga.n.Q+=Qa.Ba*ga.I;Wf(ga)}for(Ra=0;Ra<Qa.jk;++Ra){for(var Ri=Mg(xf,.75),yf=!0,Hb=0;Hb<Wa.i.length;++Hb)var Si=Wa.i[Hb].Ze(.2),yf=yf&&Si;if(Ri&&yf)break}wg(Wa,xf.i);for(var Ca=0;Ca<ua.k.length;Ca++)if(ua.k[Ca].mb=!1,ua.k[Ca].Fd&&2==ua.k[Ca].Bc())for(Uf(ua.k[Ca]),Ea=
ua.k[Ca].kd.Sa(pg);Ea;Ea=Ea.Ha())Ea.kc.i=null;for(Ca=0;Ca<ua.W;Ca++)ua.u[Ca].mb=!1,ua.u[Ca].i=null;for(Ca=0;Ca<ua.J;Ca++)ua.i[Ca].mb=!1;Pf(this.i)}}this.H=g.i}};zg.prototype.ah=function(){return this.kd};var Ig=[];function Zg(a,c){this.k="Contact"+$g++;this.Ud=new Xe;this.C=new Xe;this.Zh=!1;var b=a.Ra(),d=c.Ra();this.N=2!=b.Bc()||b.H||2!=d.Bc()||d.H;this.H=a.u||c.u;this.rj=!1;this.Sb=a;this.Fb=c;this.enabled=!0;this.Yk=b.ah();this.Zk=d.ah();this.cn=d.Gd.ah();ah(this)}
Zg.prototype.vc=function(a,c){this.Ud.vc();this.C.vc();this.Zh=!1;var b=a.Ra(),d=c.Ra();this.N=2!=b.Bc()||b.H||2!=d.Bc()||d.H;this.H=a.u||c.u;this.rj=!1;this.Sb=a;this.Fb=c;this.enabled=!0;this.Yk=b.ah();this.Zk=d.ah();this.cn=d.Gd.ah();ah(this)};function ah(a){bh(a.Yk,a);bh(a.Zk,a);bh(a.cn,a);ch(a)}function ch(a){var c=!1,b=!1;!a.H&&a.enabled&&(a.Zh&&(c=!0),a.N&&(b=!0));dh(a.Yk,a,c,b);dh(a.Zk,a,c,b);dh(a.cn,a,c,b)}function Gg(a,c){var b=a.Sb.Ra();return b!=c?b:a.Fb.Ra()}
function Hg(a,c){var b=a.C;a.C=a.Ud;a.Ud=b;a.enabled=!0;var d=!1,b=a.Zh,f=a.Sb.Ra(),g=a.Fb.Ra(),e=a.Sb.i.bj(a.Fb.i);if(a.H){if(e){var d=a.Sb.ac,f=f.wd(),e=a.Fb.ac,k=g.wd(),g=new Ke;g.Rf=new Me;g.Rf.Set(d);g.Sf=new Me;g.Sf.Set(e);g.i=f;g.k=k;g.u=!0;f=new Cf;f.count=0;d=new Le;Ge(d,f,g);d=d.u<10*Number.MIN_VALUE}a.Ud.Gb=0}else{a.N=2!=f.Bc()||f.H||2!=g.Bc()||g.H?!0:!1;if(e)for(a.u(),d=0<a.Ud.Gb,e=0;e<a.Ud.Gb;e++){k=a.Ud.na[e];k.Mh=0;for(var h=k.Nh=0;h<a.C.Gb;h++){var m=a.C.na[h];if(m.me.Kb==k.me.Kb){k.Mh=
m.Mh;k.Nh=m.Nh;break}}}else a.Ud.Gb=0;d!=b&&(Rf(f,!0),Rf(g,!0))}a.Zh=d;d!=b&&ch(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}Zg.prototype.u=function(){};var Og=new Df,$g=0;function eh(a,c){Zg.call(this,a,c)}nd(eh,Zg);eh.prototype.vc=function(a,c){Zg.prototype.vc.call(this,a,c)};
eh.prototype.u=function(){var a=this.Ud,c=this.Sb.ac,b=this.Sb.Ra().G,d=this.Fb.ac,f=this.Fb.Ra().G;a.Gb=0;var g=f.position.x+(f.B.p.x*d.Xa.x+f.B.q.x*d.Xa.y)-(b.position.x+(b.B.p.x*c.Xa.x+b.B.q.x*c.Xa.y)),b=f.position.y+(f.B.p.y*d.Xa.x+f.B.q.y*d.Xa.y)-(b.position.y+(b.B.p.y*c.Xa.x+b.B.q.y*c.Xa.y)),f=c.Pa+d.Pa;g*g+b*b>f*f||(a.Qa=1,a.ta.O(c.Xa),a.zc.oa(),a.Gb=1,a.na[0].ta.O(d.Xa),we(a.na[0].me,0))};
function fh(){this.N=Z(0,0);this.Eb=Z(0,0);this.C=Z(0,0);this.Mf=new Ed;this.J=new Ed;this.u=[];for(var a=0;2>a;a++)this.u[a]=new gh}function gh(){this.Eb=Z(0,0);this.wb=Z(0,0);this.xb=Z(0,0)}gh.prototype.vc=function(){this.Eb.Set(0,0);this.wb.Set(0,0);this.xb.Set(0,0)};
function og(){this.i={};this.k={};hh(this,eh,"b2CircleShape","b2CircleShape");hh(this,ih,"b2PolygonShape","b2CircleShape");hh(this,jh,"b2PolygonShape","b2PolygonShape");hh(this,kh,"b2EdgeShape","b2CircleShape");hh(this,lh,"b2PolygonShape","b2EdgeShape")}function hh(a,c,b,d){a.k[b]=a.k[b]||{};a.k[b][d]=a.k[b][d]||[];a.i[b]=a.i[b]||{};a.i[b][d]=new mh;a.i[b][d].Rq=c;a.i[b][d].Js=!0;b!=d&&(a.i[d]=a.i[d]||{},a.i[d][b]=new mh,a.i[d][b].Rq=c,a.i[d][b].Js=!1)}
og.prototype.u=function(a,c){var b=a.ac.bh(),d=c.ac.bh(),f=this.i[b][d],g=f.Rq;return null!=g?f.Js?0<this.k[b][d].length?(b=this.k[b][d].pop(),b.vc(a,c),b):new g(a,c):0<this.k[d][b].length?(b=this.k[d][b].pop(),b.vc(c,a),b):new g(c,a):null};og.prototype.ed=function(a){this.k[a.Sb.ac.bh()][a.Fb.ac.bh()].push(a)};function Gf(){this.k=[];for(var a=0;a<=pg;a++)this.k[a]=null;this.u=[];for(a=0;a<=pg;a++)this.u[a]=null;this.i={}}Gf.prototype.Sa=function(a){return this.k[a]};
function bh(a,c){var b=c.k;if(null==a.i[b]){a.i[b]=[];for(var d=0;d<=pg;d++)a.i[b][d]=null;nh(a,c,b,pg)}}function dh(a,c,b,d){b?nh(a,c,c.k,Jg):oh(a,c.k,Jg);d?nh(a,c,c.k,Ng):oh(a,c.k,Ng)}function qg(a,c){var b=c.k;if(null!=a.i[b]){for(var d=0;d<=pg;d++)oh(a,b,d);delete a.i[b]}}function oh(a,c,b){var d=a.i[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.i,f=c.Ha();null==d?a.k[b]=f:d.next=f;null==f?a.u[b]=d:f.uf(d);ph.push(c)}}
function nh(a,c,b,d){b=a.i[b];if(null==b[d]){if(0<ph.length){var f=ph.pop();f.next=null;f.i=null;f.kc=c;c=f}else c=new qh(c);b[d]=c;c=a.u[d];null!=c?(c.next=b[d],b[d].uf(c)):a.k[d]=b[d];a.u[d]=b[d]}}var Jg=0,Ng=1,pg=2;function qh(a){this.kc=a;this.i=this.next=null}var ph=[];qh.prototype.uf=function(a){this.i=a};qh.prototype.Ha=function(){return this.next};function mh(){}function Ag(){this.i=[]}
function Kg(a,c,b){for(a.k=b;a.i.length<a.k;)a.i[a.i.length]=new fh;for(var d=0;d<b;d++){var f=c[d],g=f.Sb,e=f.Fb,k=g.ac.Pa,h=e.ac.Pa,m=g.Ra(),l=e.Ra(),f=f.Ud,n=Math.sqrt(g.N*e.N),p,g=g.J,e=e.J;p=g>e?g:e;var e=m.A.x,g=m.A.y,q=l.A.x,v=l.A.y,t=m.I,u=l.I,r=f,y=m.G,B=k,D=l.G,z=h,C=rh;if(0!=r.Gb){var E=0,x=void 0,A=void 0,G=0,W=0,I=0,L=0,M=0,x=0;switch(r.Qa){case 1:A=y.B;x=r.ta;E=y.position.x+A.p.x*x.x+A.q.x*x.y;y=y.position.y+A.p.y*x.x+A.q.y*x.y;A=D.B;x=r.na[0].ta;r=D.position.x+A.p.x*x.x+A.q.x*x.y;D=
D.position.y+A.p.y*x.x+A.q.y*x.y;x=r-E;A=D-y;G=x*x+A*A;G>ud?(G=Math.sqrt(G),C.i.x=x/G,C.i.y=A/G):(C.i.x=1,C.i.y=0);x=y+B*C.i.y;D=D-z*C.i.y;C.na[0].x=.5*(E+B*C.i.x+(r-z*C.i.x));C.na[0].y=.5*(x+D);break;case 2:A=y.B;x=r.zc;G=A.p.x*x.x+A.q.x*x.y;W=A.p.y*x.x+A.q.y*x.y;A=y.B;x=r.ta;I=y.position.x+A.p.x*x.x+A.q.x*x.y;L=y.position.y+A.p.y*x.x+A.q.y*x.y;C.i.x=G;C.i.y=W;for(E=0;E<r.Gb;E++)A=D.B,x=r.na[E].ta,M=D.position.x+A.p.x*x.x+A.q.x*x.y,x=D.position.y+A.p.y*x.x+A.q.y*x.y,C.na[E].x=M+.5*(B-(M-I)*G-(x-
L)*W-z)*G,C.na[E].y=x+.5*(B-(M-I)*G-(x-L)*W-z)*W;break;case 4:for(A=D.B,x=r.zc,G=A.p.x*x.x+A.q.x*x.y,W=A.p.y*x.x+A.q.y*x.y,A=D.B,x=r.ta,I=D.position.x+A.p.x*x.x+A.q.x*x.y,L=D.position.y+A.p.y*x.x+A.q.y*x.y,C.i.x=-G,C.i.y=-W,E=0;E<r.Gb;E++)A=y.B,x=r.na[E].ta,M=y.position.x+A.p.x*x.x+A.q.x*x.y,x=y.position.y+A.p.y*x.x+A.q.y*x.y,C.na[E].x=M+.5*(z-(M-I)*G-(x-L)*W-B)*G,C.na[E].y=x+.5*(z-(M-I)*G-(x-L)*W-B)*W}}z=rh.i.x;C=rh.i.y;B=a.i[d];B.i=m;B.k=l;B.da=f;B.C.x=z;B.C.y=C;B.H=f.Gb;B.zg=n;B.Tg=p;B.N.x=f.zc.x;
B.N.y=f.zc.y;B.Eb.x=f.ta.x;B.Eb.y=f.ta.y;B.W=k+h;B.type=f.Qa;for(k=0;k<B.H;++k)n=f.na[k],h=B.u[k],h.Hb=n.Mh,h.rf=n.Nh,h.Eb.O(n.ta),n=h.wb.x=rh.na[k].x-m.n.F.x,p=h.wb.y=rh.na[k].y-m.n.F.y,D=h.xb.x=rh.na[k].x-l.n.F.x,E=h.xb.y=rh.na[k].y-l.n.F.y,r=n*C-p*z,x=D*C-E*z,r*=r,x*=x,h.Mf=1/(m.M+l.M+m.U*r+l.U*x),A=m.V*m.M+l.V*l.M,A+=m.V*m.U*r+l.V*l.U*x,h.Sv=1/A,x=C,A=-z,r=n*A-p*x,x=D*A-E*x,r*=r,x*=x,h.Sy=1/(m.M+l.M+m.U*r+l.U*x),h.Ek=0,n=B.C.x*(q+-u*E-e- -t*p)+B.C.y*(v+u*D-g-t*n),-1>n&&(h.Ek+=-B.Tg*n);2==B.H&&
(v=B.u[0],q=B.u[1],f=m.M,m=m.U,e=l.M,l=l.U,g=v.wb.x*C-v.wb.y*z,v=v.xb.x*C-v.xb.y*z,t=q.wb.x*C-q.wb.y*z,k=q.xb.x*C-q.xb.y*z,q=f+e+m*g*g+l*v*v,u=f+e+m*t*t+l*k*k,l=f+e+m*g*t+l*v*k,q*q<100*(q*u-l*l)?(B.J.p.Set(q,l),B.J.q.Set(l,u),Hd(B.J,B.Mf)):B.H=1)}}
function Lg(a){for(var c=0;c<a.k;c++){for(var b=a.i[c],d=b.C.x,f=b.C.y,g=0;g<b.H;g++){var e=b,k=b.u[g],h=e.C.y,m=-e.C.x,l=e.zg*k.Hb,l=Dd(k.rf-k.Sy*((e.k.A.x-e.k.I*k.xb.y-e.i.A.x+e.i.I*k.wb.y)*h+(e.k.A.y+e.k.I*k.xb.x-e.i.A.y-e.i.I*k.wb.x)*m),-l,l),n=l-k.rf,h=n*h,m=n*m;e.i.A.x-=e.i.M*h;e.i.A.y-=e.i.M*m;e.i.I-=e.i.U*(k.wb.x*m-k.wb.y*h);e.k.A.x+=e.k.M*h;e.k.A.y+=e.k.M*m;e.k.I+=e.k.U*(k.xb.x*m-k.xb.y*h);k.rf=l}if(1==b.H)g=b.u[0],e=g.Hb-g.Mf*((b.k.A.x-b.k.I*g.xb.y-b.i.A.x+b.i.I*g.wb.y)*d+(b.k.A.y+b.k.I*
g.xb.x-b.i.A.y-b.i.I*g.wb.x)*f-g.Ek),e=0<e?e:0,k=e-g.Hb,d=k*d,f=k*f,b.i.A.x-=b.i.M*d,b.i.A.y-=b.i.M*f,b.i.I-=b.i.U*(g.wb.x*f-g.wb.y*d),b.k.A.x+=b.k.M*d,b.k.A.y+=b.k.M*f,b.k.I+=b.k.U*(g.xb.x*f-g.xb.y*d),g.Hb=e;else for(g=b.u[0],e=b.u[1],k=g.Hb,m=e.Hb,l=(b.k.A.x-b.k.I*g.xb.y-b.i.A.x+b.i.I*g.wb.y)*d+(b.k.A.y+b.k.I*g.xb.x-b.i.A.y-b.i.I*g.wb.x)*f-g.Ek,f=(b.k.A.x-b.k.I*e.xb.y-b.i.A.x+b.i.I*e.wb.y)*d+(b.k.A.y+b.k.I*e.xb.x-b.i.A.y-b.i.I*e.wb.x)*f-e.Ek,l-=b.J.p.x*k+b.J.q.x*m,f-=b.J.p.y*k+b.J.q.y*m;;){d=-(b.Mf.p.x*
l+b.Mf.q.x*f);if(0<=d&&(h=-(b.Mf.p.y*l+b.Mf.q.y*f),0<=h)){sh(b,g,e,d-k,h-m);g.Hb=d;e.Hb=h;break}d=-g.Mf*l;if(0<=d&&0<=b.J.p.y*d+f){sh(b,g,e,d-k,-m);g.Hb=d;e.Hb=0;break}d=-e.Mf*f;if(0<=d&&0<=b.J.q.x*d+l){sh(b,g,e,-k,d-m);g.Hb=0;e.Hb=d;break}if(0<=l&&0<=f){sh(b,g,e,-k,-m);g.Hb=0;e.Hb=0;break}break}}}
function sh(a,c,b,d,f){var g=d*a.C.x;d*=a.C.y;var e=f*a.C.x;f*=a.C.y;a.i.A.x-=a.i.M*(g+e);a.i.A.y-=a.i.M*(d+f);a.i.I-=a.i.U*(c.wb.x*d-c.wb.y*g+b.wb.x*f-b.wb.y*e);a.k.A.x+=a.k.M*(g+e);a.k.A.y+=a.k.M*(d+f);a.k.I+=a.k.U*(c.xb.x*d-c.xb.y*g+b.xb.x*f-b.xb.y*e);c.Hb=0;b.Hb=0}
function Mg(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.k;d++){var f=a.i[d],g=f.i,e=f.k,k=g.V*g.M,h=g.V*g.U,m=e.V*e.M,l=e.V*e.U,n=f,p=vh;switch(n.type){case 1:var q=n.i.G.B,v=n.Eb,t=n.i.G.position.x+(q.p.x*v.x+q.q.x*v.y),u=n.i.G.position.y+(q.p.y*v.x+q.q.y*v.y),q=n.k.G.B,v=n.u[0].Eb,r=n.k.G.position.x+(q.p.x*v.x+q.q.x*v.y),q=n.k.G.position.y+(q.p.y*v.x+q.q.y*v.y),v=r-t,y=q-u,B=v*v+y*y;B>ud?(B=Math.sqrt(B),p.i.x=v/B,p.i.y=y/B):(p.i.x=1,p.i.y=0);p.na[0].x=.5*(t+r);p.na[0].y=.5*(u+q);p.k[0]=v*p.i.x+y*
p.i.y-n.W;break;case 2:p.i.x=n.i.G.B.p.x*n.N.x+n.i.G.B.q.x*n.N.y;p.i.y=n.i.G.B.p.y*n.N.x+n.i.G.B.q.y*n.N.y;t=n.i.G.position.x+(n.i.G.B.p.x*n.Eb.x+n.i.G.B.q.x*n.Eb.y);u=n.i.G.position.y+(n.i.G.B.p.y*n.Eb.x+n.i.G.B.q.y*n.Eb.y);for(r=0;r<n.H;r++)q=n.k.G.position.x+(n.k.G.B.p.x*n.u[r].Eb.x+n.k.G.B.q.x*n.u[r].Eb.y),v=n.k.G.position.y+(n.k.G.B.p.y*n.u[r].Eb.x+n.k.G.B.q.y*n.u[r].Eb.y),p.k[r]=(q-t)*p.i.x+(v-u)*p.i.y-n.W,p.na[r].x=q,p.na[r].y=v;break;case 4:p.i.x=n.k.G.B.p.x*n.N.x+n.k.G.B.q.x*n.N.y;p.i.y=
n.k.G.B.p.y*n.N.x+n.k.G.B.q.y*n.N.y;t=n.k.G.position.x+(n.k.G.B.p.x*n.Eb.x+n.k.G.B.q.x*n.Eb.y);u=n.k.G.position.y+(n.k.G.B.p.y*n.Eb.x+n.k.G.B.q.y*n.Eb.y);for(r=0;r<n.H;r++)q=n.i.G.position.x+(n.i.G.B.p.x*n.u[r].Eb.x+n.i.G.B.q.x*n.u[r].Eb.y),v=n.i.G.position.y+(n.i.G.B.p.y*n.u[r].Eb.x+n.i.G.B.q.y*n.u[r].Eb.y),p.k[r]=(q-t)*p.i.x+(v-u)*p.i.y-n.W,p.na[r].Set(q,v);p.i.x*=-1;p.i.y*=-1}p=vh.i;for(n=0;n<f.H;n++)v=f.u[n],q=vh.na[n],y=vh.k[n],t=q.x-g.n.F.x,u=q.y-g.n.F.y,r=q.x-e.n.F.x,q=q.y-e.n.F.y,b=b<y?b:
y,y=-v.Sv*Dd(c*(y+.005),-.2,0),v=y*p.x,y*=p.y,g.n.F.x-=k*v,g.n.F.y-=k*y,g.n.Q-=h*(t*y-u*v),Wf(g),e.n.F.x+=m*v,e.n.F.y+=m*y,e.n.Q+=l*(r*y-q*v),Wf(e)}return-.0075<b}function kh(a,c){Zg.call(this,a,c)}nd(kh,Zg);kh.prototype.vc=function(a,c){Zg.prototype.vc.call(this,a,c)};kh.prototype.u=function(){};function ih(a,c){Zg.call(this,a,c)}nd(ih,Zg);ih.prototype.vc=function(a,c){Zg.prototype.vc.call(this,a,c)};
ih.prototype.u=function(){a:{var a=this.Ud,c=this.Sb.ac,b=this.Sb.Ra().G,d=this.Fb.ac,f=this.Fb.Ra().G;a.Gb=0;for(var g=f.position.x+(f.B.p.x*d.Xa.x+f.B.q.x*d.Xa.y)-b.position.x,e=f.position.y+(f.B.p.y*d.Xa.x+f.B.q.y*d.Xa.y)-b.position.y,f=g*b.B.p.x+e*b.B.p.y,b=g*b.B.q.x+e*b.B.q.y,g=0,e=-Number.MAX_VALUE,k=c.Pa+d.Pa,h=0;h<c.Ua;++h){var m=c.fb[h].x*(f-c.S[h].x)+c.fb[h].y*(b-c.S[h].y);if(m>k)break a;m>e&&(e=m,g=h)}m=g+1;m>=c.Ua&&(m=0);var h=c.S[g],l=c.S[m];e<Number.MIN_VALUE?(a.Gb=1,a.Qa=2,a.zc.O(c.fb[g]),
a.ta.x=.5*(h.x+l.x),a.ta.y=.5*(h.y+l.y),a.na[0].ta.O(d.Xa),we(a.na[0].me,0)):0>=(f-h.x)*(l.x-h.x)+(b-h.y)*(l.y-h.y)?(f-h.x)*(f-h.x)+(b-h.y)*(b-h.y)>k*k||(a.Gb=1,a.Qa=2,a.zc.x=f-h.x,a.zc.y=b-h.y,me(a.zc),a.ta.O(h),a.na[0].ta.O(d.Xa),we(a.na[0].me,0)):0>=(f-l.x)*(h.x-l.x)+(b-l.y)*(h.y-l.y)?(f-l.x)*(f-l.x)+(b-l.y)*(b-l.y)>k*k||(a.Gb=1,a.Qa=2,a.zc.x=f-l.x,a.zc.y=b-l.y,me(a.zc),a.ta.O(l),a.na[0].ta.O(d.Xa),we(a.na[0].me,0)):(m=.5*(h.x+l.x),h=.5*(h.y+l.y),e=(f-m)*c.fb[g].x+(b-h)*c.fb[g].y,e>k||(a.Gb=1,
a.Qa=2,a.zc.x=c.fb[g].x,a.zc.y=c.fb[g].y,me(a.zc),a.ta.Set(m,h),a.na[0].ta.O(d.Xa),we(a.na[0].me,0)))}};function lh(a,c){Zg.call(this,a,c)}nd(lh,Zg);lh.prototype.vc=function(a,c){Zg.prototype.vc.call(this,a,c)};lh.prototype.u=function(){};function jh(a,c){Zg.call(this,a,c)}nd(jh,Zg);jh.prototype.vc=function(a,c){Zg.prototype.vc.call(this,a,c)};
jh.prototype.u=function(){var a=this.Ud,c=this.Sb.ac,b=this.Sb.Ra().G,d=this.Fb.ac,f=this.Fb.Ra().G;a.Gb=0;var g=c.Pa+d.Pa,e=Fe(c,b,d,f),k=e.Dq;if(!(e.Bm>g)){var h=Fe(d,f,c,b);if(!(h.Bm>g)){var m=c,l=d,n=b,p=f,q=0;a.Qa=2;h.Bm>.98*e.Bm+.001&&(m=d,l=c,n=f,p=b,k=h.Dq,a.Qa=4,q=1);c=k;b=l;d=p;l=Fh;void 0===c&&(c=0);for(var e=n.B.p.x*m.fb[c].x+n.B.q.x*m.fb[c].y,h=n.B.p.y*m.fb[c].x+n.B.q.y*m.fb[c].y,f=d.B.p.x*e+d.B.p.y*h,h=d.B.q.x*e+d.B.q.y*h,e=f,f=0,v=Number.MAX_VALUE,t=0;t<b.Ua;t++){var u=e*b.fb[t].x+
h*b.fb[t].y;u<v&&(v=u,f=t)}e=f+1;e>=b.Ua&&(e=0);l[0].be.x=d.position.x+(d.B.p.x*b.S[f].x+d.B.q.x*b.S[f].y);l[0].be.y=d.position.y+(d.B.p.y*b.S[f].x+d.B.q.y*b.S[f].y);h=l[0].id;h.u=c;h.Kb=h.Kb&4294967040|h.u&255;h=l[0].id;h.i=f;h.Kb=h.Kb&4294902015|h.i<<8&65280;f=l[0].id;f.k=0;f.Kb=f.Kb&4278255615|f.k<<16&16711680;l[1].be.x=d.position.x+(d.B.p.x*b.S[e].x+d.B.q.x*b.S[e].y);l[1].be.y=d.position.y+(d.B.p.y*b.S[e].x+d.B.q.y*b.S[e].y);b=l[1].id;b.u=c;b.Kb=b.Kb&4294967040|b.u&255;c=l[1].id;c.i=e;c.Kb=c.Kb&
4294902015|c.i<<8&65280;c=l[1].id;c.k=1;c.Kb=c.Kb&4278255615|c.k<<16&16711680;c=m.S[k];k=k+1<m.Ua?m.S[k+1]:m.S[0];Kh.Set(k.x-c.x,k.y-c.y);me(Kh);Ph.x=Kh.y;Ph.y=-Kh.x;Qh.Set(.5*(c.x+k.x),.5*(c.y+k.y));Rh.x=n.B.p.x*Kh.x+n.B.q.x*Kh.y;Rh.y=n.B.p.y*Kh.x+n.B.q.y*Kh.y;Sh.x=-Rh.x;Sh.y=-Rh.y;Wh.x=Rh.y;Wh.y=-Rh.x;Xh.x=n.position.x+(n.B.p.x*c.x+n.B.q.x*c.y);Xh.y=n.position.y+(n.B.p.y*c.x+n.B.q.y*c.y);Yh.x=n.position.x+(n.B.p.x*k.x+n.B.q.x*k.y);Yh.y=n.position.y+(n.B.p.y*k.x+n.B.q.y*k.y);if(!(2>De(Zh,Fh,Sh,-Rh.x*
Xh.x-Rh.y*Xh.y+g)||2>De($h,Zh,Rh,Rh.x*Yh.x+Rh.y*Yh.y+g))){a.zc.O(Ph);a.ta.O(Qh);n=Wh.x*Xh.x+Wh.y*Xh.y;for(m=k=0;2>m;++m)Wh.x*$h[m].be.x+Wh.y*$h[m].be.y-n<=g&&(c=$h[m].be.x-p.position.x,l=$h[m].be.y-p.position.y,a.na[k].ta.x=c*p.B.p.x+l*p.B.p.y,a.na[k].ta.y=c*p.B.q.x+l*p.B.q.y,a.na[k].me.Set($h[m].id),c=a.na[k].me,c.C=q,c.Kb=c.Kb&16777215|c.C<<24&4278190080,k++);a.Gb=k}}}};function ai(){this.H="Controller"+bi++;this.Gd=null;this.i=new Zf}ai.prototype.ig=function(){};
ai.prototype.Nk=function(a){this.i.Nk(a);a=a.Z;var c=this.H,b=a.k[c];if(null!=b){var d=b.i(),b=b.Ha();null==d?a.i=b:d.k(b);null==b||b.uf(d);delete a.k[c]}};var bi=0;function ci(){ai.call(this);this.u=Z(0,-1);this.wg=this.offset=0;this.C=Z(0,0);this.k=null}nd(ci,ai);
ci.prototype.ig=function(){this.k=this.Gd.k.fc();for(var a=this.i.Sa(fg);a;a=a.Ha()){for(var c=a.body,b=Z(0,0),d=Z(0,0),f=0,g=0,e=c.u.Sa();e;e=e.Ha()){var k=Z(0,0),h=e.he.ac.Jk(this.u,this.offset,c.wd(),k),f=f+h;b.x+=h*k.x;b.y+=h*k.y;var m=0,m=1,g=g+h*m;d.x+=h*k.x*m;d.y+=h*k.y*m}f<Number.MIN_VALUE||(b.x/=f,b.y/=f,d.x/=g,d.y/=g,g=this.k.gg(),g.Od(this.wg*f),c.fg(g,d),g=Z(c.A.x-c.I*(b.y-c.n.F.y),c.A.y+c.I*(b.x-c.n.F.x)),g.sq(this.C),g.Od(-2*f),c.fg(g,b),c.gn(-c.i/c.V*f*c.I*1),je(b),je(d))}};
function di(){ai.call(this);this.k=Z(0,0)}nd(di,ai);di.prototype.ig=function(a){a=Z(this.k.x*a.Ba,this.k.y*a.Ba);for(var c=this.i.Sa(fg);c;c=c.Ha()){var b=c.body,d=b.A;Qf(b,Z(d.x+a.x,d.y+a.y))}je(a)};function ei(){ai.call(this);this.k=Z(0,0)}nd(ei,ai);ei.prototype.ig=function(){for(var a=this.i.Sa(fg);a;a=a.Ha()){var c=a.body;c.fg(this.k,c.n.F)}};function Hf(){this.i=null;this.k={}}Hf.prototype.Sa=function(){return this.i};function fi(){ai.call(this)}nd(fi,ai);
fi.prototype.ig=function(){for(var a=null,c=null,b=0,d=null,f=null,g=0,e=0,k=0,g=null,h=this.i.Sa($f);h;h=h.Ha())for(var a=h.body,c=a.n.F,b=a.V,m=this.i.Sa($f);m;m=m.Ha())if(d=m.body,a.Fd||d.Fd)f=d.n.F,g=f.x-c.x,e=f.y-c.y,k=g*g+e*e,k<Number.MIN_VALUE||(g=Z(g,e),g.Od(1/k/Math.sqrt(k)*b*d.V),a.Fd&&a.fg(g,c),g.Od(-1),d.Fd&&d.fg(g,f),je(g))};function gi(){ai.call(this);this.u=new Ed;this.k=0}nd(gi,ai);
gi.prototype.ig=function(a){a=a.Ba;if(!(a<=Number.MIN_VALUE)){a>this.k&&0<this.k&&(a=this.k);for(var c=this.i.Sa(fg);c;c=c.Ha()){var b=c.body,d;d=yd(this.u,zd(b.G.B,b.A));d=yd(b.G.B,d);Qf(b,Z(b.A.x+d.x*a,b.A.y+d.y*a))}}};function hi(a){this.Yc=new ii;this.Zc=new ii;this.bf=Z(0,0);this.cf=Z(0,0);this.Qa=a.type;this.Jg=this.Fi=null;this.X=a.i;this.Y=a.k;this.gs=a.N}w=hi.prototype;w.Bc=function(){return this.Qa};w.ei=function(){return this.X.ei()&&this.Y.ei()};w.Ye=function(){};w.$e=function(){};
w.Ze=function(){return!1};function ji(){this.type=0;this.k=this.i=null;this.N=!1}function ii(){}function ki(a){hi.call(this,a);this.ia=Z(0,0);this.ja=Z(0,0);this.i=Z(0,0);this.ia.O(a.J);this.ja.O(a.W);this.H=a.length;this.C=a.H;this.J=a.C;this.N=this.u=this.k=0}nd(ki,hi);
ki.prototype.Ye=function(a){var c,b=0,d=this.X,f=this.Y;c=d.G.B;var g=this.ia.x-d.n.R.x,e=this.ia.y-d.n.R.y,b=c.p.x*g+c.q.x*e,e=c.p.y*g+c.q.y*e,g=b;c=f.G.B;var k=this.ja.x-f.n.R.x,h=this.ja.y-f.n.R.y,b=c.p.x*k+c.q.x*h,h=c.p.y*k+c.q.y*h,k=b;this.i.x=f.n.F.x+k-d.n.F.x-g;this.i.y=f.n.F.y+h-d.n.F.y-e;b=Math.sqrt(this.i.x*this.i.x+this.i.y*this.i.y);.005<b?this.i.Od(1/b):this.i.oa();c=g*this.i.y-e*this.i.x;var m=k*this.i.y-h*this.i.x;c=d.M+d.U*c*c+f.M+f.U*m*m;this.V=0!=c?1/c:0;if(0<this.C){var b=b-this.H,
m=2*Math.PI*this.C,l=this.V*m*m;this.u=a.Ba*(2*this.V*this.J*m+a.Ba*l);this.u=0!=this.u?1/this.u:0;this.N=b*a.Ba*l*this.u;this.V=c+this.u;this.V=0!=this.V?1/this.V:0}a.bg?(this.k*=a.Yb,a=this.k*this.i.x,c=this.k*this.i.y,d.A.x-=d.M*a,d.A.y-=d.M*c,d.I-=d.U*(g*c-e*a),f.A.x+=f.M*a,f.A.y+=f.M*c,f.I+=f.U*(k*c-h*a)):this.k=0};
ki.prototype.$e=function(){var a=this.ia.x-this.X.n.R.x,c=this.ia.y-this.X.n.R.y,b=this.X.G.B.p.x*a+this.X.G.B.q.x*c,c=this.X.G.B.p.y*a+this.X.G.B.q.y*c,a=b,d=this.ja.x-this.Y.n.R.x,f=this.ja.y-this.Y.n.R.y,b=this.Y.G.B.p.x*d+this.Y.G.B.q.x*f,f=this.Y.G.B.p.y*d+this.Y.G.B.q.y*f,d=b,g=-this.V*(this.i.x*(this.Y.A.x-this.Y.I*f-(this.X.A.x-this.X.I*c))+this.i.y*(this.Y.A.y+this.Y.I*d-(this.X.A.y+this.X.I*a))+this.N+this.u*this.k);this.k+=g;b=g*this.i.x;g*=this.i.y;this.X.A.x-=this.X.M*b;this.X.A.y-=this.X.M*
g;this.X.I-=this.X.U*(a*g-c*b);this.Y.A.x+=this.Y.M*b;this.Y.A.y+=this.Y.M*g;this.Y.I+=this.Y.U*(d*g-f*b)};
ki.prototype.Ze=function(){if(0<this.C)return!0;var a=this.ia.x-this.X.n.R.x,c=this.ia.y-this.X.n.R.y,b=this.X.G.B.p.x*a+this.X.G.B.q.x*c,c=this.X.G.B.p.y*a+this.X.G.B.q.y*c,a=b,d=this.ja.x-this.Y.n.R.x,f=this.ja.y-this.Y.n.R.y,b=this.Y.G.B.p.x*d+this.Y.G.B.q.x*f,f=this.Y.G.B.p.y*d+this.Y.G.B.q.y*f,d=b,g=this.Y.n.F.x+d-this.X.n.F.x-a,e=this.Y.n.F.y+f-this.X.n.F.y-c,k=Math.sqrt(g*g+e*e),b=Dd(k-this.H,-.2,.2),h=-this.V*b;this.i.Set(g/k,e/k);g=h*this.i.x;h*=this.i.y;this.X.n.F.x-=this.X.M*g;this.X.n.F.y-=
this.X.M*h;this.X.n.Q-=this.X.U*(a*h-c*g);this.Y.n.F.x+=this.Y.M*g;this.Y.n.F.y+=this.Y.M*h;this.Y.n.Q+=this.Y.U*(d*h-f*g);Wf(this.X);Wf(this.Y);return.005>Math.abs(b)};function li(){ji.call(this);this.J=Z(0,0);this.W=Z(0,0);this.type=3;this.length=1;this.C=this.H=0}nd(li,ji);li.prototype.u=function(){return new ki(this)};
function mi(a){hi.call(this,a);this.u=Z(0,0);this.C=Z(0,0);this.N=new Ed;this.i=Z(0,0);this.u.O(a.C);this.C.O(a.H);this.N.oa();this.H=0;this.i.oa();this.k=0;this.J=a.J;this.W=a.W}nd(mi,hi);
mi.prototype.Ye=function(a){var c,b=0,d=this.X,f=this.Y;c=d.G.B;var g=this.u.x-d.n.R.x,e=this.u.y-d.n.R.y,b=c.p.x*g+c.q.x*e,e=c.p.y*g+c.q.y*e,g=b;c=f.G.B;var k=this.C.x-f.n.R.x,h=this.C.y-f.n.R.y,b=c.p.x*k+c.q.x*h,h=c.p.y*k+c.q.y*h,k=b;c=d.M;var b=f.M,m=d.U,l=f.U,n=new Ed;n.p.x=c+b;n.q.x=0;n.p.y=0;n.q.y=c+b;n.p.x+=m*e*e;n.q.x+=-m*g*e;n.p.y+=-m*g*e;n.q.y+=m*g*g;n.p.x+=l*h*h;n.q.x+=-l*k*h;n.p.y+=-l*k*h;n.q.y+=l*k*k;Hd(n,this.N);this.H=m+l;0<this.H&&(this.H=1/this.H);a.bg?(this.i.x*=a.Yb,this.i.y*=a.Yb,
this.k*=a.Yb,a=this.i,d.A.x-=c*a.x,d.A.y-=c*a.y,d.I-=m*(g*a.y-e*a.x+this.k),f.A.x+=b*a.x,f.A.y+=b*a.y,f.I+=l*(k*a.y-h*a.x+this.k)):(this.i.oa(),this.k=0)};
mi.prototype.$e=function(a){var c,b=0,d=this.X,f=this.Y,g=d.A,e=d.I,k=f.A,h=f.I,m=d.M,l=f.M,n=d.U,p=f.U;c=d.G.B;var q=this.u.x-d.n.R.x,v=this.u.y-d.n.R.y,b=c.p.x*q+c.q.x*v,v=c.p.y*q+c.q.y*v,q=b;c=f.G.B;var t=this.C.x-f.n.R.x,u=this.C.y-f.n.R.y,b=c.p.x*t+c.q.x*u,u=c.p.y*t+c.q.y*u,t=b;c=0;var b=-this.H*(h-e),r=this.k;c=a.Ba*this.W;this.k=Dd(this.k+b,-c,c);b=this.k-r;e-=n*b;h+=p*b;c=yd(this.N,Z(-(k.x-h*u-g.x+e*v),-(k.y+h*t-g.y-e*q)));b=this.i.fc();this.i.Xe(c);c=a.Ba*this.J;le(this.i)>c*c&&(me(this.i),
this.i.Od(c));c=Cd(this.i,b);g.x-=m*c.x;g.y-=m*c.y;e-=n*(q*c.y-v*c.x);k.x+=l*c.x;k.y+=l*c.y;h+=p*(t*c.y-u*c.x);d.I=e;f.I=h};mi.prototype.Ze=function(){return!0};function ni(){ji.call(this);this.C=Z(0,0);this.H=Z(0,0);this.type=9;this.W=this.J=0}nd(ni,ji);ni.prototype.u=function(){return new mi(this)};
function oi(a){hi.call(this,a);this.W=Z(0,0);this.da=Z(0,0);this.ia=Z(0,0);this.ja=Z(0,0);this.i=new pi;var c=a.C.Qa,b=a.H.Qa;this.J=this.H=this.N=this.C=null;var d=0,f=0;this.za=a.C.X;this.X=a.C.Y;1==c?(this.C=a.C,this.W.O(this.C.ia),this.ia.O(this.C.ja),d=qi(this.C)):(this.N=a.C,this.W.O(this.N.ia),this.ia.O(this.N.ja),d=this.N.Zi());this.Da=a.H.X;this.Y=a.H.Y;1==b?(this.H=a.H,this.da.O(this.H.ia),this.ja.O(this.H.ja),f=qi(this.H)):(this.J=a.H,this.da.O(this.J.ia),this.ja.O(this.J.ja),f=this.J.Zi());
this.k=a.J;this.Z=d+this.k*f;this.u=0}nd(oi,hi);
oi.prototype.Ye=function(a){var c=this.za,b=this.Da,d=this.X,f=this.Y,g=0,e=0,k=0,h=0,m=k=0,l=0;this.i.oa();this.C?(this.i.u=-1,l+=d.U):(c=c.G.B,e=this.N.qd,g=c.p.x*e.x+c.q.x*e.y,e=c.p.y*e.x+c.q.y*e.y,c=d.G.B,k=this.ia.x-d.n.R.x,h=this.ia.y-d.n.R.y,m=c.p.x*k+c.q.x*h,h=c.p.y*k+c.q.y*h,k=m*e-h*g,this.i.i.Set(-g,-e),this.i.u=-k,l+=d.M+d.U*k*k);this.H?(this.i.C=-this.k,l+=this.k*this.k*f.U):(c=b.G.B,e=this.J.qd,g=c.p.x*e.x+c.q.x*e.y,e=c.p.y*e.x+c.q.y*e.y,c=f.G.B,k=this.ja.x-f.n.R.x,h=this.ja.y-f.n.R.y,
m=c.p.x*k+c.q.x*h,h=c.p.y*k+c.q.y*h,k=m*e-h*g,this.i.k.Set(-this.k*g,-this.k*e),this.i.C=-this.k*k,l+=this.k*this.k*(f.M+f.U*k*k));this.V=0<l?1/l:0;a.bg?(d.A.x+=d.M*this.u*this.i.i.x,d.A.y+=d.M*this.u*this.i.i.y,d.I+=d.U*this.u*this.i.u,f.A.x+=f.M*this.u*this.i.k.x,f.A.y+=f.M*this.u*this.i.k.y,f.I+=f.U*this.u*this.i.C):this.u=0};
oi.prototype.$e=function(){var a=this.X,c=this.Y,b=this.i,d=a.A,f=a.I,g=c.A,e=c.I;void 0===f&&(f=0);void 0===e&&(e=0);b=-this.V*(b.i.x*d.x+b.i.y*d.y+b.u*f+(b.k.x*g.x+b.k.y*g.y)+b.C*e);this.u+=b;a.A.x+=a.M*b*this.i.i.x;a.A.y+=a.M*b*this.i.i.y;a.I+=a.U*b*this.i.u;c.A.x+=c.M*b*this.i.k.x;c.A.y+=c.M*b*this.i.k.y;c.I+=c.U*b*this.i.C};
oi.prototype.Ze=function(){var a=this.X,c=this.Y,b=0,d=0;this.C?b=qi(this.C):b=this.N.Zi();this.H?d=qi(this.H):d=this.J.Zi();b=-this.V*(this.Z-(b+this.k*d));a.n.F.x+=a.M*b*this.i.i.x;a.n.F.y+=a.M*b*this.i.i.y;a.n.Q+=a.U*b*this.i.u;c.n.F.x+=c.M*b*this.i.k.x;c.n.F.y+=c.M*b*this.i.k.y;c.n.Q+=c.U*b*this.i.C;Wf(a);Wf(c);return!0};function ri(){ji.call(this);this.type=6;this.H=this.C=null;this.J=1}nd(ri,ji);ri.prototype.u=function(){return new oi(this)};function pi(){this.i=Z(0,0);this.k=Z(0,0)}
pi.prototype.oa=function(){this.i.oa();this.u=0;this.k.oa();this.C=0};pi.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.i.O(a);this.u=c;this.k.O(b);this.C=d};
function ti(a){hi.call(this,a);this.ia=Z(0,0);this.ja=Z(0,0);this.qd=Z(0,0);this.xd=Z(0,0);this.k=Z(0,0);this.J=Z(0,0);this.Z=new Ed;this.i=Z(0,0);this.ia.O(a.W);this.ja.O(a.da);this.qd.O(a.C);this.xd.x=-this.qd.y;this.xd.y=this.qd.x;this.i.oa();this.Ea=this.cb=0;this.gc=a.Z;this.Cc=a.cb;this.ln=a.za;this.mn=a.Da;this.dh=a.H;this.aj=a.J;this.Ta=0;this.k.oa();this.J.oa()}nd(ti,hi);
ti.prototype.Zi=function(){var a=this.X,c=this.Y,b=Sf(a,this.ia),d=Sf(c,this.ja),c=d.x-b.x,b=d.y-b.y,a=yd(a.G.B,this.qd);return a.x*c+a.y*b};
ti.prototype.Ye=function(a){var c=this.X,b=this.Y,d,f=0;this.bf.O(c.n.R);this.cf.O(b.n.R);var g=c.wd();b.wd();d=c.G.B;var e=this.ia.x-this.bf.x,k=this.ia.y-this.bf.y,f=d.p.x*e+d.q.x*k,k=d.p.y*e+d.q.y*k,e=f;d=b.G.B;var h=this.ja.x-this.cf.x,m=this.ja.y-this.cf.y,f=d.p.x*h+d.q.x*m,m=d.p.y*h+d.q.y*m,h=f;d=b.n.F.x+h-c.n.F.x-e;f=b.n.F.y+m-c.n.F.y-k;this.W=c.M;this.da=b.M;this.za=c.U;this.Da=b.U;this.k.O(yd(g.B,this.qd));this.u=(d+e)*this.k.y-(f+k)*this.k.x;this.C=h*this.k.y-m*this.k.x;this.cb=this.W+this.da+
this.za*this.u*this.u+this.Da*this.C*this.C;this.cb=this.cb>Number.MIN_VALUE?1/this.cb:0;this.J.O(yd(g.B,this.xd));this.H=(d+e)*this.J.y-(f+k)*this.J.x;this.N=h*this.J.y-m*this.J.x;g=this.W;e=this.da;k=this.za;h=this.Da;this.Z.p.x=g+e+k*this.H*this.H+h*this.N*this.N;this.Z.p.y=k*this.H*this.u+h*this.N*this.C;this.Z.q.x=this.Z.p.y;this.Z.q.y=g+e+k*this.u*this.u+h*this.C*this.C;this.dh?(d=this.k.x*d+this.k.y*f,.01>Math.abs(this.Cc-this.gc)?this.Ta=3:d<=this.gc?1!=this.Ta&&(this.Ta=1,this.i.y=0):d>=
this.Cc?2!=this.Ta&&(this.Ta=2,this.i.y=0):(this.Ta=0,this.i.y=0)):this.Ta=0;0==this.aj&&(this.Ea=0);a.bg?(this.i.x*=a.Yb,this.i.y*=a.Yb,this.Ea*=a.Yb,a=this.i.x*this.J.x+(this.Ea+this.i.y)*this.k.x,d=this.i.x*this.J.y+(this.Ea+this.i.y)*this.k.y,f=this.i.x*this.H+(this.Ea+this.i.y)*this.u,g=this.i.x*this.N+(this.Ea+this.i.y)*this.C,c.A.x-=this.W*a,c.A.y-=this.W*d,c.I-=this.za*f,b.A.x+=this.da*a,b.A.y+=this.da*d,b.I+=this.Da*g):(this.i.oa(),this.Ea=0)};
ti.prototype.$e=function(a){var c=this.X,b=this.Y,d=c.A,f=c.I,g=b.A,e=b.I,k=0,h=0,m=0,l=0;this.aj&&3!=this.Ta&&(l=this.cb*(this.mn-(this.k.x*(g.x-d.x)+this.k.y*(g.y-d.y)+this.C*e-this.u*f)),k=this.Ea,h=a.Ba*this.ln,this.Ea=Dd(this.Ea+l,-h,h),l=this.Ea-k,k=l*this.k.x,h=l*this.k.y,m=l*this.u,l*=this.C,d.x-=this.W*k,d.y-=this.W*h,f-=this.za*m,g.x+=this.da*k,g.y+=this.da*h,e+=this.Da*l);h=this.J.x*(g.x-d.x)+this.J.y*(g.y-d.y)+this.N*e-this.H*f;this.dh&&0!=this.Ta?(m=this.k.x*(g.x-d.x)+this.k.y*(g.y-d.y)+
this.C*e-this.u*f,k=this.i.fc(),a=Id(this.Z,Z(0,0),-h,-m),this.i.Xe(a),1==this.Ta?this.i.y=Math.max(this.i.y,0):2==this.Ta&&(this.i.y=Math.min(this.i.y,0)),h=-h-(this.i.y-k.y)*this.Z.q.x,m=0,m=0!=this.Z.p.x?h/this.Z.p.x+k.x:k.x,this.i.x=m,a.x=this.i.x-k.x,a.y=this.i.y-k.y,k=a.x*this.J.x+a.y*this.k.x,h=a.x*this.J.y+a.y*this.k.y,m=a.x*this.H+a.y*this.u,l=a.x*this.N+a.y*this.C):(a=0,a=0!=this.Z.p.x?-h/this.Z.p.x:0,this.i.x+=a,k=a*this.J.x,h=a*this.J.y,m=a*this.H,l=a*this.N);d.x-=this.W*k;d.y-=this.W*
h;f-=this.za*m;g.x+=this.da*k;g.y+=this.da*h;e+=this.Da*l;c.A.O(d);c.I=f;b.A.O(g);b.I=e};
ti.prototype.Ze=function(){var a=this.X,c=this.Y,b=a.n.F,d=a.n.Q,f=c.n.F,g=c.n.Q,e,k=0,h=0,m=0,l=0,n=e=0,p=0,h=!1,q=0,v=Fd(d),m=Fd(g);e=v;var p=this.ia.x-this.bf.x,t=this.ia.y-this.bf.y,k=e.p.x*p+e.q.x*t,t=e.p.y*p+e.q.y*t,p=k;e=m;m=this.ja.x-this.cf.x;l=this.ja.y-this.cf.y;k=e.p.x*m+e.q.x*l;l=e.p.y*m+e.q.y*l;m=k;e=f.x+m-b.x-p;k=f.y+l-b.y-t;if(this.dh){this.k=yd(v,this.qd);this.u=(e+p)*this.k.y-(k+t)*this.k.x;this.C=m*this.k.y-l*this.k.x;var u=this.k.x*e+this.k.y*k;.01>Math.abs(this.Cc-this.gc)?(q=
Dd(u,-.2,.2),n=Math.abs(u),h=!0):u<=this.gc?(q=Dd(u-this.gc+.005,-.2,0),n=this.gc-u,h=!0):u>=this.Cc&&(q=Dd(u-this.Cc+.005,0,.2),n=u-this.Cc,h=!0)}this.J=yd(v,this.xd);this.H=(e+p)*this.J.y-(k+t)*this.J.x;this.N=m*this.J.y-l*this.J.x;v=Z(0,0);t=this.J.x*e+this.J.y*k;n=Math.max(n,Math.abs(t));p=0;h?(h=this.W,m=this.da,l=this.za,e=this.Da,this.Z.p.x=h+m+l*this.H*this.H+e*this.N*this.N,this.Z.p.y=l*this.H*this.u+e*this.N*this.C,this.Z.q.x=this.Z.p.y,this.Z.q.y=h+m+l*this.u*this.u+e*this.C*this.C,Id(this.Z,
v,-t,-q)):(h=this.W,m=this.da,l=this.za,e=this.Da,q=h+m+l*this.H*this.H+e*this.N*this.N,v.x=0!=q?-t/q:0,v.y=0);q=v.x*this.J.x+v.y*this.k.x;h=v.x*this.J.y+v.y*this.k.y;t=v.x*this.H+v.y*this.u;v=v.x*this.N+v.y*this.C;b.x-=this.W*q;b.y-=this.W*h;d-=this.za*t;f.x+=this.da*q;f.y+=this.da*h;g+=this.Da*v;a.n.Q=d;c.n.Q=g;Wf(a);Wf(c);return.005>=n&&p<=od};
function ui(){ji.call(this);this.W=Z(0,0);this.da=Z(0,0);this.C=Z(0,0);this.type=7;this.C.Set(1,0);this.H=!1;this.cb=this.Z=0;this.J=!1;this.Da=this.za=0}nd(ui,ji);ui.prototype.u=function(){return new ti(this)};
function vi(a){hi.call(this,a);this.ia=Z(0,0);this.ja=Z(0,0);this.qd=Z(0,0);this.xd=Z(0,0);this.J=Z(0,0);this.Z=Z(0,0);this.k=new Jd;this.i=new Kd(0,0,0);this.ia.O(a.W);this.ja.O(a.da);this.qd.O(a.C);this.xd.x=-this.qd.y;this.xd.y=this.qd.x;this.Mu=a.cb;this.i.oa();this.Ea=this.cb=0;this.gc=a.Z;this.Cc=a.Ea;this.ln=a.za;this.mn=a.Da;this.dh=a.H;this.aj=a.J;this.Ta=0;this.J.oa();this.Z.oa()}nd(vi,hi);
vi.prototype.Zi=function(){var a=this.X,c=this.Y,b=Sf(a,this.ia),d=Sf(c,this.ja),c=d.x-b.x,b=d.y-b.y,a=yd(a.G.B,this.qd);return a.x*c+a.y*b};
vi.prototype.Ye=function(a){var c=this.X,b=this.Y,d,f=0;this.bf.O(c.n.R);this.cf.O(b.n.R);var g=c.wd();b.wd();d=c.G.B;var e=this.ia.x-this.bf.x,k=this.ia.y-this.bf.y,f=d.p.x*e+d.q.x*k,k=d.p.y*e+d.q.y*k,e=f;d=b.G.B;var h=this.ja.x-this.cf.x,m=this.ja.y-this.cf.y,f=d.p.x*h+d.q.x*m,m=d.p.y*h+d.q.y*m,h=f;d=b.n.F.x+h-c.n.F.x-e;f=b.n.F.y+m-c.n.F.y-k;this.W=c.M;this.da=b.M;this.za=c.U;this.Da=b.U;this.J.O(yd(g.B,this.qd));this.u=(d+e)*this.J.y-(f+k)*this.J.x;this.C=h*this.J.y-m*this.J.x;this.cb=this.W+this.da+
this.za*this.u*this.u+this.Da*this.C*this.C;this.cb>Number.MIN_VALUE&&(this.cb=1/this.cb);this.Z.O(yd(g.B,this.xd));this.H=(d+e)*this.Z.y-(f+k)*this.Z.x;this.N=h*this.Z.y-m*this.Z.x;g=this.W;e=this.da;k=this.za;h=this.Da;this.k.p.x=g+e+k*this.H*this.H+h*this.N*this.N;this.k.p.y=k*this.H+h*this.N;this.k.p.z=k*this.H*this.u+h*this.N*this.C;this.k.q.x=this.k.p.y;this.k.q.y=k+h;this.k.q.z=k*this.u+h*this.C;this.k.i.x=this.k.p.z;this.k.i.y=this.k.q.z;this.k.i.z=g+e+k*this.u*this.u+h*this.C*this.C;this.dh?
(d=this.J.x*d+this.J.y*f,.01>Math.abs(this.Cc-this.gc)?this.Ta=3:d<=this.gc?1!=this.Ta&&(this.Ta=1,this.i.z=0):d>=this.Cc?2!=this.Ta&&(this.Ta=2,this.i.z=0):(this.Ta=0,this.i.z=0)):this.Ta=0;0==this.aj&&(this.Ea=0);a.bg?(this.i.x*=a.Yb,this.i.y*=a.Yb,this.Ea*=a.Yb,a=this.i.x*this.Z.x+(this.Ea+this.i.z)*this.J.x,d=this.i.x*this.Z.y+(this.Ea+this.i.z)*this.J.y,f=this.i.x*this.H+this.i.y+(this.Ea+this.i.z)*this.u,g=this.i.x*this.N+this.i.y+(this.Ea+this.i.z)*this.C,c.A.x-=this.W*a,c.A.y-=this.W*d,c.I-=
this.za*f,b.A.x+=this.da*a,b.A.y+=this.da*d,b.I+=this.Da*g):(this.i.oa(),this.Ea=0)};
vi.prototype.$e=function(a){var c=this.X,b=this.Y,d=c.A,f=c.I,g=b.A,e=b.I,k=0,h=0,m=0,l=0;this.aj&&3!=this.Ta&&(l=this.cb*(this.mn-(this.J.x*(g.x-d.x)+this.J.y*(g.y-d.y)+this.C*e-this.u*f)),k=this.Ea,a=a.Ba*this.ln,this.Ea=Dd(this.Ea+l,-a,a),l=this.Ea-k,k=l*this.J.x,h=l*this.J.y,m=l*this.u,l*=this.C,d.x-=this.W*k,d.y-=this.W*h,f-=this.za*m,g.x+=this.da*k,g.y+=this.da*h,e+=this.Da*l);m=this.Z.x*(g.x-d.x)+this.Z.y*(g.y-d.y)+this.N*e-this.H*f;h=e-f;this.dh&&0!=this.Ta?(a=this.J.x*(g.x-d.x)+this.J.y*
(g.y-d.y)+this.C*e-this.u*f,k=this.i.fc(),a=Md(this.k,new Kd(0,0,0),-m,-h,-a),this.i.Xe(a),1==this.Ta?this.i.z=Math.max(this.i.z,0):2==this.Ta&&(this.i.z=Math.min(this.i.z,0)),m=-m-(this.i.z-k.z)*this.k.i.x,h=-h-(this.i.z-k.z)*this.k.i.y,h=Ld(this.k,Z(0,0),m,h),h.x+=k.x,h.y+=k.y,this.i.x=h.x,this.i.y=h.y,a.x=this.i.x-k.x,a.y=this.i.y-k.y,a.z=this.i.z-k.z,k=a.x*this.Z.x+a.z*this.J.x,h=a.x*this.Z.y+a.z*this.J.y,m=a.x*this.H+a.y+a.z*this.u,l=a.x*this.N+a.y+a.z*this.C,d.x-=this.W*k,d.y-=this.W*h,f-=this.za*
m,g.x+=this.da*k,g.y+=this.da*h,e+=this.Da*l):(a=Ld(this.k,Z(0,0),-m,-h),this.i.x+=a.x,this.i.y+=a.y,k=a.x*this.Z.x,h=a.x*this.Z.y,m=a.x*this.H+a.y,l=a.x*this.N+a.y,d.x-=this.W*k,d.y-=this.W*h,f-=this.za*m,g.x+=this.da*k,g.y+=this.da*h,e+=this.Da*l);c.A.O(d);c.I=f;b.A.O(g);b.I=e};
vi.prototype.Ze=function(){var a=this.X,c=this.Y,b=a.n.F,d=a.n.Q,f=c.n.F,g=c.n.Q,e,k=0,h=0,m=0,l=k=e=0,n=0,h=!1,p=0,q=Fd(d),v=Fd(g);e=q;var n=this.ia.x-this.bf.x,t=this.ia.y-this.bf.y,k=e.p.x*n+e.q.x*t,t=e.p.y*n+e.q.y*t,n=k;e=v;v=this.ja.x-this.cf.x;m=this.ja.y-this.cf.y;k=e.p.x*v+e.q.x*m;m=e.p.y*v+e.q.y*m;v=k;e=f.x+v-b.x-n;k=f.y+m-b.y-t;if(this.dh){this.J=yd(q,this.qd);this.u=(e+n)*this.J.y-(k+t)*this.J.x;this.C=v*this.J.y-m*this.J.x;var u=this.J.x*e+this.J.y*k;.01>Math.abs(this.Cc-this.gc)?(p=Dd(u,
-.2,.2),l=Math.abs(u),h=!0):u<=this.gc?(p=Dd(u-this.gc+.005,-.2,0),l=this.gc-u,h=!0):u>=this.Cc&&(p=Dd(u-this.Cc+.005,0,.2),l=u-this.Cc,h=!0)}this.Z=yd(q,this.xd);this.H=(e+n)*this.Z.y-(k+t)*this.Z.x;this.N=v*this.Z.y-m*this.Z.x;q=new Kd(0,0,0);t=this.Z.x*e+this.Z.y*k;v=g-d-this.Mu;l=Math.max(l,Math.abs(t));n=Math.abs(v);h?(h=this.W,m=this.da,e=this.za,k=this.Da,this.k.p.x=h+m+e*this.H*this.H+k*this.N*this.N,this.k.p.y=e*this.H+k*this.N,this.k.p.z=e*this.H*this.u+k*this.N*this.C,this.k.q.x=this.k.p.y,
this.k.q.y=e+k,this.k.q.z=e*this.u+k*this.C,this.k.i.x=this.k.p.z,this.k.i.y=this.k.q.z,this.k.i.z=h+m+e*this.u*this.u+k*this.C*this.C,Md(this.k,q,-t,-v,-p)):(h=this.W,m=this.da,e=this.za,k=this.Da,p=e*this.H+k*this.N,u=e+k,this.k.p.Set(h+m+e*this.H*this.H+k*this.N*this.N,p,0),this.k.q.Set(p,u,0),p=Ld(this.k,Z(0,0),-t,-v),q.x=p.x,q.y=p.y,q.z=0);p=q.x*this.Z.x+q.z*this.J.x;h=q.x*this.Z.y+q.z*this.J.y;t=q.x*this.H+q.y+q.z*this.u;q=q.x*this.N+q.y+q.z*this.C;b.x-=this.W*p;b.y-=this.W*h;d-=this.za*t;f.x+=
this.da*p;f.y+=this.da*h;g+=this.Da*q;a.n.Q=d;c.n.Q=g;Wf(a);Wf(c);return.005>=l&&n<=od};function wi(){ji.call(this);this.W=Z(0,0);this.da=Z(0,0);this.C=Z(0,0);this.type=2;this.C.Set(1,0);this.cb=0;this.H=!1;this.Ea=this.Z=0;this.J=!1;this.Da=this.za=0}nd(wi,ji);wi.prototype.u=function(){return new vi(this)};
function xi(a){hi.call(this,a);this.W=Z(0,0);this.da=Z(0,0);this.ia=Z(0,0);this.ja=Z(0,0);this.i=Z(0,0);this.k=Z(0,0);this.H=this.X.Gd.Px;this.W.x=a.C.x-this.H.G.position.x;this.W.y=a.C.y-this.H.G.position.y;this.da.x=a.H.x-this.H.G.position.x;this.da.y=a.H.y-this.H.G.position.y;this.ia.O(a.J);this.ja.O(a.W);this.u=a.da;this.Da=0+0*this.u;this.Cc=Math.min(0,this.Da-this.u*yi);this.xd=Math.min(0,(this.Da-yi)/this.u);this.J=this.N=this.C=0}nd(xi,hi);
xi.prototype.Ye=function(a){var c=this.X,b=this.Y,d;d=c.G.B;var f=this.ia.x-c.n.R.x,g=this.ia.y-c.n.R.y,e=d.p.x*f+d.q.x*g,g=d.p.y*f+d.q.y*g,f=e;d=b.G.B;var k=this.ja.x-b.n.R.x,h=this.ja.y-b.n.R.y,e=d.p.x*k+d.q.x*h,h=d.p.y*k+d.q.y*h,k=e;d=b.n.F.x+k;var e=b.n.F.y+h,m=this.H.G.position.x+this.da.x,l=this.H.G.position.y+this.da.y;this.i.Set(c.n.F.x+f-(this.H.G.position.x+this.W.x),c.n.F.y+g-(this.H.G.position.y+this.W.y));this.k.Set(d-m,e-l);d=ke(this.i);e=ke(this.k);.005<d?this.i.Od(1/d):this.i.oa();
.005<e?this.k.Od(1/e):this.k.oa();0<this.Da-d-this.u*e?this.C=this.gc=0:this.gc=2;d<this.Cc?this.N=this.Ea=0:this.Ea=2;e<this.xd?this.J=this.Ta=0:this.Ta=2;d=f*this.i.y-g*this.i.x;e=k*this.k.y-h*this.k.x;this.Z=c.M+c.U*d*d;this.za=b.M+b.U*e*e;this.cb=this.Z+this.u*this.u*this.za;this.Z=1/this.Z;this.za=1/this.za;this.cb=1/this.cb;a.bg?(this.C*=a.Yb,this.N*=a.Yb,this.J*=a.Yb,a=(-this.C-this.N)*this.i.x,d=(-this.C-this.N)*this.i.y,e=(-this.u*this.C-this.J)*this.k.x,m=(-this.u*this.C-this.J)*this.k.y,
c.A.x+=c.M*a,c.A.y+=c.M*d,c.I+=c.U*(f*d-g*a),b.A.x+=b.M*e,b.A.y+=b.M*m,b.I+=b.U*(k*m-h*e)):this.J=this.N=this.C=0};
xi.prototype.$e=function(){var a=this.X,c=this.Y,b;b=a.G.B;var d=this.ia.x-a.n.R.x,f=this.ia.y-a.n.R.y,g=b.p.x*d+b.q.x*f,f=b.p.y*d+b.q.y*f,d=g;b=c.G.B;var e=this.ja.x-c.n.R.x,k=this.ja.y-c.n.R.y,g=b.p.x*e+b.q.x*k,k=b.p.y*e+b.q.y*k,e=g,h=g=b=0,m=0;b=m=b=m=h=g=b=0;2==this.gc&&(b=a.A.x+-a.I*f,g=a.A.y+a.I*d,h=c.A.x+-c.I*k,m=c.A.y+c.I*e,b=-(this.i.x*b+this.i.y*g)-this.u*(this.k.x*h+this.k.y*m),m=this.cb*-b,b=this.C,this.C=Math.max(0,this.C+m),m=this.C-b,b=-m*this.i.x,g=-m*this.i.y,h=-this.u*m*this.k.x,
m=-this.u*m*this.k.y,a.A.x+=a.M*b,a.A.y+=a.M*g,a.I+=a.U*(d*g-f*b),c.A.x+=c.M*h,c.A.y+=c.M*m,c.I+=c.U*(e*m-k*h));2==this.Ea&&(b=a.A.x+-a.I*f,g=a.A.y+a.I*d,b=-(this.i.x*b+this.i.y*g),m=-this.Z*b,b=this.N,this.N=Math.max(0,this.N+m),m=this.N-b,b=-m*this.i.x,g=-m*this.i.y,a.A.x+=a.M*b,a.A.y+=a.M*g,a.I+=a.U*(d*g-f*b));2==this.Ta&&(h=c.A.x+-c.I*k,m=c.A.y+c.I*e,b=-(this.k.x*h+this.k.y*m),m=-this.za*b,b=this.J,this.J=Math.max(0,this.J+m),m=this.J-b,h=-m*this.k.x,m=-m*this.k.y,c.A.x+=c.M*h,c.A.y+=c.M*m,c.I+=
c.U*(e*m-k*h))};
xi.prototype.Ze=function(){var a=this.X,c=this.Y,b,d=this.H.G.position.x+this.W.x,f=this.H.G.position.y+this.W.y,g=this.H.G.position.x+this.da.x,e=this.H.G.position.y+this.da.y,k=0,h=0,m=0,l=0,n=b=0,p=0,q=0,v=n=q=b=n=b=0;2==this.gc&&(b=a.G.B,k=this.ia.x-a.n.R.x,h=this.ia.y-a.n.R.y,n=b.p.x*k+b.q.x*h,h=b.p.y*k+b.q.y*h,k=n,b=c.G.B,m=this.ja.x-c.n.R.x,l=this.ja.y-c.n.R.y,n=b.p.x*m+b.q.x*l,l=b.p.y*m+b.q.y*l,m=n,b=a.n.F.x+k,n=a.n.F.y+h,p=c.n.F.x+m,q=c.n.F.y+l,this.i.Set(b-d,n-f),this.k.Set(p-g,q-e),b=ke(this.i),
n=ke(this.k),.005<b?this.i.Od(1/b):this.i.oa(),.005<n?this.k.Od(1/n):this.k.oa(),b=this.Da-b-this.u*n,v=Math.max(v,-b),b=Dd(b+.005,-.2,0),q=-this.cb*b,b=-q*this.i.x,n=-q*this.i.y,p=-this.u*q*this.k.x,q=-this.u*q*this.k.y,a.n.F.x+=a.M*b,a.n.F.y+=a.M*n,a.n.Q+=a.U*(k*n-h*b),c.n.F.x+=c.M*p,c.n.F.y+=c.M*q,c.n.Q+=c.U*(m*q-l*p),Wf(a),Wf(c));2==this.Ea&&(b=a.G.B,k=this.ia.x-a.n.R.x,h=this.ia.y-a.n.R.y,n=b.p.x*k+b.q.x*h,h=b.p.y*k+b.q.y*h,k=n,b=a.n.F.x+k,n=a.n.F.y+h,this.i.Set(b-d,n-f),b=ke(this.i),.005<b?
(this.i.x*=1/b,this.i.y*=1/b):this.i.oa(),b=this.Cc-b,v=Math.max(v,-b),b=Dd(b+.005,-.2,0),q=-this.Z*b,b=-q*this.i.x,n=-q*this.i.y,a.n.F.x+=a.M*b,a.n.F.y+=a.M*n,a.n.Q+=a.U*(k*n-h*b),Wf(a));2==this.Ta&&(b=c.G.B,m=this.ja.x-c.n.R.x,l=this.ja.y-c.n.R.y,n=b.p.x*m+b.q.x*l,l=b.p.y*m+b.q.y*l,m=n,p=c.n.F.x+m,q=c.n.F.y+l,this.k.Set(p-g,q-e),n=ke(this.k),.005<n?(this.k.x*=1/n,this.k.y*=1/n):this.k.oa(),b=this.xd-n,v=Math.max(v,-b),b=Dd(b+.005,-.2,0),q=-this.za*b,p=-q*this.k.x,q=-q*this.k.y,c.n.F.x+=c.M*p,c.n.F.y+=
c.M*q,c.n.Q+=c.U*(m*q-l*p),Wf(c));return.005>v};var yi=1;function zi(){ji.call(this);this.C=Z(0,0);this.H=Z(0,0);this.J=Z(0,0);this.W=Z(0,0);this.type=4;this.C.Set(-1,1);this.H.Set(1,1);this.J.Set(-1,0);this.W.Set(1,0);this.da=1;this.N=!0}nd(zi,ji);zi.prototype.u=function(){return new xi(this)};
function Ai(a){hi.call(this,a);this.Z=new Ed;this.J=new Ed;this.W=new Ed;this.da=new Ed;this.k=new Kd(0,0,0);this.C=Z(0,0);this.N=Z(0,0);this.ia=Z(0,0);this.ja=Z(0,0);this.i=new Kd(0,0,0);this.V=new Jd;this.ia.O(a.C);this.ja.O(a.H);this.Ea=a.W;this.i.oa();this.H=0;this.za=a.da;this.Ta=a.Z;this.xd=a.cb;this.Cc=a.Da;this.Da=a.J;this.gc=a.za;this.u=0}nd(Ai,hi);function qi(a){return a.Y.n.Q-a.X.n.Q-a.Ea}
Ai.prototype.Ye=function(a){var c=this.X,b=this.Y,d,f=0;d=c.G.B;var g=this.ia.x-c.n.R.x,e=this.ia.y-c.n.R.y,f=d.p.x*g+d.q.x*e,e=d.p.y*g+d.q.y*e,g=f;d=b.G.B;var k=this.ja.x-b.n.R.x,h=this.ja.y-b.n.R.y,f=d.p.x*k+d.q.x*h,h=d.p.y*k+d.q.y*h,k=f;d=c.M;var f=b.M,m=c.U,l=b.U;this.V.p.x=d+f+e*e*m+h*h*l;this.V.q.x=-e*g*m-h*k*l;this.V.i.x=-e*m-h*l;this.V.p.y=this.V.q.x;this.V.q.y=d+f+g*g*m+k*k*l;this.V.i.y=g*m+k*l;this.V.p.z=this.V.i.x;this.V.q.z=this.V.i.y;this.V.i.z=m+l;this.cb=1/(m+l);this.gc||(this.H=0);
if(this.Da){var n=b.n.Q-c.n.Q-this.Ea;Math.abs(this.Ta-this.za)<2*od?this.u=3:n<=this.za?(1!=this.u&&(this.i.z=0),this.u=1):n>=this.Ta?(2!=this.u&&(this.i.z=0),this.u=2):(this.u=0,this.i.z=0)}else this.u=0;a.bg?(this.i.x*=a.Yb,this.i.y*=a.Yb,this.H*=a.Yb,a=this.i.x,n=this.i.y,c.A.x-=d*a,c.A.y-=d*n,c.I-=m*(g*n-e*a+this.H+this.i.z),b.A.x+=f*a,b.A.y+=f*n,b.I+=l*(k*n-h*a+this.H+this.i.z)):(this.i.oa(),this.H=0)};
Ai.prototype.$e=function(a){var c=this.X,b=this.Y,d=0,f=d=0,g=0,e=0,k=0,h=c.A,m=c.I,l=b.A,n=b.I,p=c.M,q=b.M,v=c.U,t=b.U;this.gc&&3!=this.u&&(f=this.cb*-(n-m-this.Cc),g=this.H,e=a.Ba*this.xd,this.H=Dd(this.H+f,-e,e),f=this.H-g,m-=v*f,n+=t*f);if(this.Da&&0!=this.u){a=c.G.B;f=this.ia.x-c.n.R.x;g=this.ia.y-c.n.R.y;d=a.p.x*f+a.q.x*g;g=a.p.y*f+a.q.y*g;f=d;a=b.G.B;e=this.ja.x-b.n.R.x;k=this.ja.y-b.n.R.y;d=a.p.x*e+a.q.x*k;k=a.p.y*e+a.q.y*k;e=d;a=l.x+-n*k-h.x- -m*g;var u=l.y+n*e-h.y-m*f;Md(this.V,this.k,-a,
-u,-(n-m));3==this.u?this.i.Xe(this.k):1==this.u?(d=this.i.z+this.k.z,0>d&&(Ld(this.V,this.N,-a,-u),this.k.x=this.N.x,this.k.y=this.N.y,this.k.z=-this.i.z,this.i.x+=this.N.x,this.i.y+=this.N.y,this.i.z=0)):2==this.u&&(d=this.i.z+this.k.z,0<d&&(Ld(this.V,this.N,-a,-u),this.k.x=this.N.x,this.k.y=this.N.y,this.k.z=-this.i.z,this.i.x+=this.N.x,this.i.y+=this.N.y,this.i.z=0));h.x-=p*this.k.x;h.y-=p*this.k.y;m-=v*(f*this.k.y-g*this.k.x+this.k.z);l.x+=q*this.k.x;l.y+=q*this.k.y;n+=t*(e*this.k.y-k*this.k.x+
this.k.z)}else a=c.G.B,f=this.ia.x-c.n.R.x,g=this.ia.y-c.n.R.y,d=a.p.x*f+a.q.x*g,g=a.p.y*f+a.q.y*g,f=d,a=b.G.B,e=this.ja.x-b.n.R.x,k=this.ja.y-b.n.R.y,d=a.p.x*e+a.q.x*k,k=a.p.y*e+a.q.y*k,e=d,Ld(this.V,this.C,-(l.x+-n*k-h.x- -m*g),-(l.y+n*e-h.y-m*f)),this.i.x+=this.C.x,this.i.y+=this.C.y,h.x-=p*this.C.x,h.y-=p*this.C.y,m-=v*(f*this.C.y-g*this.C.x),l.x+=q*this.C.x,l.y+=q*this.C.y,n+=t*(e*this.C.y-k*this.C.x);c.A.O(h);c.I=m;b.A.O(l);b.I=n};
Ai.prototype.Ze=function(){var a=0,c,b=this.X,d=this.Y,f=0,g=c=0,e=0,g=0;if(this.Da&&0!=this.u){var a=d.n.Q-b.n.Q-this.Ea,k=0;3==this.u?(a=Dd(a-this.za,-pd,pd),k=-this.cb*a,f=Math.abs(a)):1==this.u?(a-=this.za,f=-a,a=Dd(a+od,-pd,0),k=-this.cb*a):2==this.u&&(f=a-=this.Ta,a=Dd(a-od,0,pd),k=-this.cb*a);b.n.Q-=b.U*k;d.n.Q+=d.U*k;Wf(b);Wf(d)}c=b.G.B;k=this.ia.x-b.n.R.x;a=this.ia.y-b.n.R.y;g=c.p.x*k+c.q.x*a;a=c.p.y*k+c.q.y*a;k=g;c=d.G.B;var h=this.ja.x-d.n.R.x,m=this.ja.y-d.n.R.y,g=c.p.x*h+c.q.x*m,m=c.p.y*
h+c.q.y*m,h=g,e=d.n.F.x+h-b.n.F.x-k,g=d.n.F.y+m-b.n.F.y-a,l=e*e+g*g;c=Math.sqrt(l);var n=b.M,p=d.M,q=b.U,v=d.U;l>.05*.05&&(l=1/(n+p),e=l*-e,g=l*-g,b.n.F.x-=.5*n*e,b.n.F.y-=.5*n*g,d.n.F.x+=.5*p*e,d.n.F.y+=.5*p*g,e=d.n.F.x+h-b.n.F.x-k,g=d.n.F.y+m-b.n.F.y-a);this.J.p.x=n+p;this.J.q.x=0;this.J.p.y=0;this.J.q.y=n+p;this.W.p.x=q*a*a;this.W.q.x=-q*k*a;this.W.p.y=-q*k*a;this.W.q.y=q*k*k;this.da.p.x=v*m*m;this.da.q.x=-v*h*m;this.da.p.y=-v*h*m;this.da.q.y=v*h*h;Gd(this.Z,this.J);n=this.Z;p=this.W;n.p.Xe(p.p);
n.q.Xe(p.q);n=this.Z;p=this.da;n.p.Xe(p.p);n.q.Xe(p.q);Id(this.Z,Bi,-e,-g);e=Bi.x;g=Bi.y;b.n.F.x-=b.M*e;b.n.F.y-=b.M*g;b.n.Q-=b.U*(k*g-a*e);d.n.F.x+=d.M*e;d.n.F.y+=d.M*g;d.n.Q+=d.U*(h*g-m*e);Wf(b);Wf(d);return.005>=c&&f<=od};var Bi=Z(0,0);function Ci(){ji.call(this);this.C=Z(0,0);this.H=Z(0,0);this.type=1;this.C.oa();this.H.oa();this.Da=this.cb=this.Z=this.da=this.W=0;this.za=this.J=!1}nd(Ci,ji);function Di(a,c,b,d){a.i=c;a.k=b;a.C=Bd(a.i.G,d);a.H=Bd(a.k.G,d);a.W=a.k.$g()-a.i.$g()}
Ci.prototype.u=function(){return new Ai(this)};function Ei(a){hi.call(this,a);this.k=Z(0,0);this.u=Z(0,0);this.i=new Kd(0,0,0);this.V=new Jd;this.k.O(a.C);this.u.O(a.H);this.C=a.J}nd(Ei,hi);
Ei.prototype.Ye=function(a){var c,b=0,d=this.X,f=this.Y;c=d.G.B;var g=this.k.x-d.n.R.x,e=this.k.y-d.n.R.y,b=c.p.x*g+c.q.x*e,e=c.p.y*g+c.q.y*e,g=b;c=f.G.B;var k=this.u.x-f.n.R.x,h=this.u.y-f.n.R.y,b=c.p.x*k+c.q.x*h,h=c.p.y*k+c.q.y*h,k=b;c=d.M;var b=f.M,m=d.U,l=f.U;this.V.p.x=c+b+e*e*m+h*h*l;this.V.q.x=-e*g*m-h*k*l;this.V.i.x=-e*m-h*l;this.V.p.y=this.V.q.x;this.V.q.y=c+b+g*g*m+k*k*l;this.V.i.y=g*m+k*l;this.V.p.z=this.V.i.x;this.V.q.z=this.V.i.y;this.V.i.z=m+l;a.bg?(this.i.x*=a.Yb,this.i.y*=a.Yb,this.i.z*=
a.Yb,d.A.x-=c*this.i.x,d.A.y-=c*this.i.y,d.I-=m*(g*this.i.y-e*this.i.x+this.i.z),f.A.x+=b*this.i.x,f.A.y+=b*this.i.y,f.I+=l*(k*this.i.y-h*this.i.x+this.i.z)):this.i.oa()};
Ei.prototype.$e=function(){var a,c=0,b=this.X,d=this.Y,f=b.A,g=b.I,e=d.A,k=d.I,h=b.M,m=d.M,l=b.U,n=d.U;a=b.G.B;var p=this.k.x-b.n.R.x,q=this.k.y-b.n.R.y,c=a.p.x*p+a.q.x*q,q=a.p.y*p+a.q.y*q,p=c;a=d.G.B;var v=this.u.x-d.n.R.x,t=this.u.y-d.n.R.y,c=a.p.x*v+a.q.x*t,t=a.p.y*v+a.q.y*t,v=c;a=new Kd(0,0,0);Md(this.V,a,-(e.x-k*t-f.x+g*q),-(e.y+k*v-f.y-g*p),-(k-g));this.i.Xe(a);f.x-=h*a.x;f.y-=h*a.y;g-=l*(p*a.y-q*a.x+a.z);e.x+=m*a.x;e.y+=m*a.y;k+=n*(v*a.y-t*a.x+a.z);b.I=g;d.I=k};
Ei.prototype.Ze=function(){var a,c=0,b=this.X,d=this.Y;a=b.G.B;var f=this.k.x-b.n.R.x,g=this.k.y-b.n.R.y,c=a.p.x*f+a.q.x*g,g=a.p.y*f+a.q.y*g,f=c;a=d.G.B;var e=this.u.x-d.n.R.x,k=this.u.y-d.n.R.y,c=a.p.x*e+a.q.x*k,k=a.p.y*e+a.q.y*k,e=c;a=b.M;var c=d.M,h=b.U,m=d.U,l=d.n.F.x+e-b.n.F.x-f,n=d.n.F.y+k-b.n.F.y-g,p=d.n.Q-b.n.Q-this.C,q=Math.sqrt(l*l+n*n),v=Math.abs(p);.05<q&&(h*=1,m*=1);this.V.p.x=a+c+g*g*h+k*k*m;this.V.q.x=-g*f*h-k*e*m;this.V.i.x=-g*h-k*m;this.V.p.y=this.V.q.x;this.V.q.y=a+c+f*f*h+e*e*m;
this.V.i.y=f*h+e*m;this.V.p.z=this.V.i.x;this.V.q.z=this.V.i.y;this.V.i.z=h+m;var t=new Kd(0,0,0);Md(this.V,t,-l,-n,-p);b.n.F.x-=a*t.x;b.n.F.y-=a*t.y;b.n.Q-=h*(f*t.y-g*t.x+t.z);d.n.F.x+=c*t.x;d.n.F.y+=c*t.y;d.n.Q+=m*(e*t.y-k*t.x+t.z);Wf(b);Wf(d);return.005>=q&&v<=od};function Fi(){ji.call(this);this.C=Z(0,0);this.H=Z(0,0);this.type=8;this.J=0}nd(Fi,ji);Fi.prototype.u=function(){return new Ei(this)};
var Fh=[new xe,new xe],Zh=[new xe,new xe],$h=[new xe,new xe],Kh=Z(0,0),Ph=Z(0,0),Qh=Z(0,0),Wh=Z(0,0),Rh=Z(0,0),Sh=Z(0,0),Xh=Z(0,0),Yh=Z(0,0),Pg=0,Vg=0,Wg=0,Tg=0,Ug=0,Qg=new Cf,Rg=new Ke,af=new ge,nf=new ge,$e=new function(){this.ta=Z(0,0);this.i=Z(0,0)},Sg=new Le,Vf=new ge,ng=new lg;new function(){this.position=Z(0,0);Z(0,0);Z(0,0);this.id=new ve};new ge;
var Xg=new fe,Yg=new fe,Og=new Df,rh=new function(){this.i=Z(0,0);this.na=[];for(var a=this.Gb=0;2>a;a++)this.na[a]=Z(0,0)},vh=new function(){this.i=Z(0,0);this.k=[];this.na=[];for(var a=0;2>a;a++)this.na[a]=Z(0,0)};function Ni(a,c,b,d,f,g){var e;if(e=(b+.1>=a&&a>=f-.1||b-.1<=a&&a<=f+.1)&&(d+.1>=c&&c>=g-.1||d-.1<=c&&c<=g+.1))e=.1<Math.abs(f-b)?.1>Math.abs((g-d)/(f-b)*(a-b)+d-c):.1>Math.abs(a-b);return e}
function Pi(a,c){var b=Qi(a),d=[],f,g,e,k,h,m,l,n,p;h=0;for(m=b.length;h<m;h++){g=b[h];f=[];f.length=g.length;l=p=0;for(n=g.length;l<n;l++)e=g[l],k=g[(l+1)%n],p+=e.x*k.y-e.y*k.x,f[l]=Z(e.x,e.y);p=Math.abs(p/2);p>=.001*c&&d.push(f)}return d}
function Qi(a){var c=[],b=0,d=0,f=0,g=0,e=0,k=e=0,h=0,m=0,l=0,g=0,n,p,q,v,t,u=g=b=0,r=0,f=[],h=[],y=!1,B=[],D=[];for(D.push(a);D.length;){c=D[0];d=c.length;y=!0;for(b=0;b<d;b++)if(m=b,l=b<d-1?b+1:b+1-d,g=b<d-2?b+2:b+2-d,a=c[m],n=c[l],p=c[g],g=a.x,f=a.y,h=n.x,e=n.y,k=p.x,p=p.y,g=g*e+h*p+k*f-f*h-e*k-p*g,0>g){y=!1;h=1E9;for(f=0;f<d;f++)if(f!==m&&f!==l){b=f;g=f<d-1?f+1:0;q=c[b];v=c[g];k=a.x;p=a.y;var z=n.x,C=n.y,e=q.x;q=q.y;var E=v.x;v=v.y;var x=z-k,A=C-p,G=E-e,W=v-q,G=(G*(q-p)-W*(e-k))/(A*G-x*W),x=k+
G*x,A=p+G*A,k=Ni(z,C,k,p,x,A),e=Ni(x,A,e,q,E,v);if(p=k&&e?Z(x,A):null)e=n.x-p.x,k=n.y-p.y,e=e*e+k*k,e<h&&(r=b,u=g,t=p,h=e)}if(1E9===h)return[];f=[];h=[];b=r;g=u;q=c[b];v=c[g];u=t.y;r=v.y;.1>Math.abs(v.x-t.x)&&.1>Math.abs(r-u)||f.push(t);u=t.y;r=q.y;.1>Math.abs(q.x-t.x)&&.1>Math.abs(r-u)||h.push(t);r=-1;for(u=m;;){if(u!==g)f.push(c[u]);else{if(0>r||r>=d)return[];Ni(v.x,v.y,c[r].x,c[r].y,a.x,a.y)||f.push(c[u]);break}r=u;0>u-1?u=d-1:u--}f.reverse();r=-1;for(u=l;;){if(u!==b)h.push(c[u]);else{if(0>r||
r>=d)return[];u!==b||Ni(q.x,q.y,c[r].x,c[r].y,n.x,n.y)||h.push(c[u]);break}r=u;u+1>d-1?u=0:u++}D.push(f,h);D.shift();break}y&&B.push(D.shift())}return B}
function Ti(a){for(var c=0;4E3>c;c++)ie.push(new he(0,0));this.j=a;this.dd=new zg(Z(0,10),!0);this.Jt=10;this.Go=-1;a=new lg;a.behavior=this;a.BeginContact=function(a){this.behavior.j.Qs(a.Sb.Ra().df.L,a.Fb.Ra().df.L)};this.dd.i.k=a;a=new ig;a.behavior=this;a.i=function(a,c){if(this.behavior.Tu)return!0;var f=a.Ra().df.L.type,g=c.Ra().df.L.type,e=f.ca.Physics_DisabledCollisions;return e&&e.contains(g)?!1:(e=g.ca.Physics_DisabledCollisions)&&e.contains(f)?!1:!0};this.dd.i.u=a;this.Oy=0;this.Fk=8;this.jk=
3;this.Tu=!0}
(function(){function a(){}var c=Ti.prototype;c.lb=function(a){this.behavior=a;this.j=a.j};c.lb.prototype.Ca=function(){};c.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.L=b;this.j=a.j;this.dd=this.behavior.dd};var b=c.ab.prototype;b.Ca=function(){this.lo=0!==this.ba[0];this.Mq=this.ba[1];this.ip=0!==this.ba[2];this.wg=this.ba[3];this.zg=this.ba[4];this.Tg=this.ba[5];this.Ci=this.ba[6];this.hi=this.ba[7];this.ii=0!==this.ba[8];this.enabled=0!==this.ba[9];this.body=null;this.L.Oa();this.Ml=
this.L.x;this.Nl=this.L.y;this.Oc=this.L.K;this.Do=this.Ho=0;this.Os=this.Fo=!1;this.Ao=null;this.Bo=-1;this.Hd?(this.Hd.length=0,this.ne.length=0,this.If.clear()):(this.Hd=[],this.ne=[],this.If=new ea);var a=this;this.$c||(this.Og=function(b){a.ek(b)});this.j.Qk(this.Og)};b.Is=function(){this.L.Oa();this.Fn();this.Ao=this.L.ib;this.Bo=this.L.ga};b.Pf=function(){this.pl();this.ne.length=0;this.If.clear();this.body&&(Dg(this.dd,this.body),this.body=null);this.j.qp(this.Og)};b.Pc=function(){var a={e:this.enabled,
im:this.lo,pr:this.ip,d:this.wg,fr:this.zg,re:this.Tg,ld:this.Ci,ad:this.hi,b:this.ii,mcj:this.ne};if(this.enabled){var b=Z(0,0);b.O(this.body.A);a.vx=b.x;a.vy=b.y;a.om=this.body.I}return a};b.od=function(a){this.pl();this.ne.length=0;this.If.clear();this.body&&(Dg(this.dd,this.body),this.body=null);this.enabled=a.e;this.lo=a.im;this.ip=a.pr;this.wg=a.d;this.zg=a.fr;this.Tg=a.re;this.Ci=a.ld;this.hi=a.ad;this.ii=a.b;this.Ml=this.L.x;this.Nl=this.L.y;this.Oc=this.L.K;this.Ho=this.L.width;this.Do=this.L.height;
this.enabled&&(this.Fn(),Qf(this.body,Z(a.vx,a.vy)),this.body.Ok(a.om),0===a.vx&&0===a.vy&&0===a.om||Rf(this.body,!0),this.ne=a.mcj)};b.ye=function(){this.enabled&&this.pp();this.behavior.Go=this.j.Md-1};b.ek=function(a){var b,c,d,h=a.uid;d=b=0;for(c=this.ne.length;b<c;b++)this.ne[d]=this.ne[b],d<this.Hd.length&&(this.Hd[d]=this.Hd[b]),this.ne[b].Le[1]==h?Eg(this.dd,this.Hd[b]):d++;this.ne.length=d;d<this.Hd.length&&(this.Hd.length=d);this.If.remove(a)};b.pl=function(){var a,b;a=0;for(b=this.Hd.length;a<
b;a++)Eg(this.dd,this.Hd[a]);this.Hd.length=0};b.pp=function(){var a,b,c;a=0;for(b=this.ne.length;a<b;a++)switch(c=this.ne[a],c.type){case 0:this.rv(c.Le[0],c.Le[1],c.Le[2],c.Le[3],c.Le[4]);break;case 1:this.tv(c.Le[0],c.Le[1]);break;case 2:this.sv(c.Le[0],c.Le[1],c.Le[2],c.Le[3])}};b.ov=function(){this.body&&(this.pl(),Dg(this.dd,this.body),this.body=null,this.L.ca.zd=null)};var d=[];b.Fn=function(){if(this.enabled){var a=this.L,b=!1,c=null,k=null,h,m,l,n,p,q,v,t,u,r,y,B,D;if(this.body){b=!0;c=Z(0,
0);c.O(this.body.A);k=this.body.I;t=this.If.Ve();h=0;for(m=t.length;h<m;h++)u=t[h].ca.zd.df,u.pl();this.ov()}u=new tg;u.wg=this.wg;u.zg=this.zg;u.Tg=this.Tg;h=new Yf;h.type=this.lo?0:2;a.Oa();h.position.x=.02*a.eb.Kg();h.position.y=.02*a.eb.Lg();h.K=a.K;h.i=this.ip;h.Ci=this.Ci;h.hi=this.hi;h.ii=this.ii;t=this.L.Ka&&!this.L.Ka.Bh();this.body=Bg(this.dd,h);this.body.df=this;h=this.Mq;t||this.L.Xf||0!==this.Mq||(h=1);m=Math.max(Math.abs(a.width),1);l=Math.max(Math.abs(a.height),1);r=0>a.width;y=0>a.height;
if(0===h)if(a.Xf)for(B=a.eb.Kg()-a.x,v=a.eb.Lg()-a.y,a.hA(d),t=[],h=0,m=d.length;h<m;++h){r=d[h];y=r.yy;if(r.nf){if(!r.nf.jl){p=r.nf.Ub;n=r.nf.Yd;for(l=0;l<n;++l)t.push(Z(p[2*l],p[2*l+1]));l=r.id&3758096384;(-2147483648===l||1073741824===l||536870912===l||l&-2147483648&&l&1073741824&&l&536870912)&&t.reverse();r.nf.jl=Pi(t,(y.right-y.left)*(y.bottom-y.top));l=0;for(n=t.length;l<n;++l)je(t[l]);t.length=0}l=0;for(n=r.nf.jl.length;l<n;++l){D=r.nf.jl[l];p=0;for(q=D.length;p<q;++p)t.push(Z(.02*(y.left+
D[p].x-B),.02*(y.top+D[p].y-v)));u.i=new re;te(u.i,t);Jf(this.body,u);p=0;for(q=t.length;p<q;++p)je(t[p]);t.length=0}}else t.push(Z(.02*(y.left-B),.02*(y.top-v))),t.push(Z(.02*(y.right-B),.02*(y.top-v))),t.push(Z(.02*(y.right-B),.02*(y.bottom-v))),t.push(Z(.02*(y.left-B),.02*(y.bottom-v))),u.i=new re,te(u.i,t),Jf(this.body,u);l=0;for(n=t.length;l<n;++l)je(t[l]);t.length=0}else{h=a.K;a.K=0;a.ua();a.Oa();B=a.eb.Kg()-a.x;v=a.eb.Lg()-a.y;a.K=h;a.ua();a.Ka.ih(r?-m:m,y?-l:l,0);p=a.Ka.Ub;n=a.Ka.Yd;t=[];
t.length=n;for(h=0;h<n;h++)t[h]=Z(p[2*h]-B,p[2*h+1]-v);r!==y&&t.reverse();B=Pi(t,m*l);for(h=0;h<n;h++)je(t[h]);if(B.length)for(h=0,m=B.length;h<m;h++){t=B[h];l=0;for(n=t.length;l<n;l++)v=t[l],v.x*=.02,v.y*=.02;u.i=new re;te(u.i,t);Jf(this.body,u);l=0;for(n=t.length;l<n;l++)je(t[l])}else u.i=new re,ue(u.i,.01*m,.01*l),Jf(this.body,u)}else 1===h?(u.i=new re,ue(u.i,.01*m,.01*l)):u.i=new oe(.01*Math.min(m,l)),Jf(this.body,u);a.ca.zd=this.body;this.Ho=a.width;this.Do=a.height;if(b)for(Qf(this.body,c),
this.body.Ok(k),je(c),this.pp(),t=this.If.Ve(),h=0,m=t.length;h<m;h++)u=t[h].ca.zd.df,u.pp();d.length=0}};b.ve=function(){if(this.enabled){var a=this.L,b;0===this.behavior.Oy?b=this.j.Yh/60:(b=this.j.xj(this.L),b>1/30&&(b=1/30));if(this.j.Md>this.behavior.Go&&0<this.j.Yh){this.dd.ig(b,this.behavior.Fk,this.behavior.jk);for(b=this.dd.Yg.Sa(bg);b;b=b.Ha())b.body.k.oa(),b.body.C=0;this.behavior.Go=this.j.Md}if(this.Os||a.width!==this.Ho||a.height!==this.Do||a.ib!==this.Ao||a.ga!==this.Bo||a.Xf&&a.Ds)this.Fn(),
this.Os=!1,this.Ao=a.ib,this.Bo=a.ga,a.Xf&&a.Ds&&(a.Ds=!1);b=a.K!==this.Oc;if(a.x!==this.Ml||a.y!==this.Nl){a.Oa();var c=a.eb.Kg(),d=a.eb.Lg(),h=c-this.Ml,m=d-this.Nl,l=this.body,c=Z(.02*c,.02*d);Nf(l,c,l.$g());Qf(this.body,Z(h,m));this.Fo=!0;Rf(this.body,!0)}else this.Fo&&(this.Fo=!1,Qf(this.body,Z(0,0)),h=this.body,m=Z(.02*a.eb.Kg(),.02*a.eb.Lg()),Nf(h,m,h.$g()));b&&(this.body.nn(a.K),Rf(this.body,!0));h=this.body.G.position;b=h.x/.02;h=h.y/.02;m=this.body.$g();if(b!==a.x||h!==a.y||m!==a.K)if(a.x=
b,a.y=h,a.K=m,a.ua(),a.Oa(),b=a.eb.Kg()-a.x,h=a.eb.Lg()-a.y,0!==b||0!==h)a.x-=b,a.y-=h,a.ua();this.Ml=a.x;this.Nl=a.y;this.Oc=a.K}};b.yj=function(a){return-1!==a&&this.L.ie?0===a&&this.body?(this.body.G.position.x+this.body.n.R.x)/.02:this.L.ie(a,!0):this.L.x};b.zj=function(a){return-1!==a&&this.L.ie?0===a&&this.body?(this.body.G.position.y+this.body.n.R.y)/.02:this.L.ie(a,!1):this.L.y};c.P=new function(){};a.prototype.fg=function(a,b,c){if(this.enabled){var d=this.yj(c);c=this.zj(c);this.body.fg(Z(a,
b),Z(.02*d,.02*c))}};a.prototype.Nt=function(a,b,c){if(this.enabled){b=H(b);var d=this.yj(c);c=this.zj(c);this.body.fg(Z(Math.cos(b)*a,Math.sin(b)*a),Z(.02*d,.02*c))}};a.prototype.gn=function(a){this.enabled&&this.body.gn(H(a))};a.prototype.Ok=function(a){this.enabled&&(this.body.Ok(H(a)),Rf(this.body,!0))};b.rv=function(a,b,c,d,h){if(this.enabled){var m=this.j.sh(b);if(m&&m!=this.L&&m.ca.zd){m.ca.zd.df.If.add(this.L);var l=this.yj(a),n=this.zj(a),p,q;m.ie?(p=m.ie(c,!0),q=m.ie(c,!1)):(p=m.x,q=m.y);
c=l-p;a=n-q;b=new li;m=m.ca.zd;l=Z(.02*l,.02*n);p=Z(.02*p,.02*q);b.i=this.body;b.k=m;b.J.O(Bd(b.i.G,l));b.W.O(Bd(b.k.G,p));m=p.x-l.x;l=p.y-l.y;b.length=Math.sqrt(m*m+l*l);b.H=0;b.C=0;b.length=.02*Math.sqrt(c*c+a*a);b.C=d;b.H=h;this.Hd.push(Fg(this.dd,b))}}};b.tv=function(a,b){if(this.enabled){var c=this.j.sh(b);if(c&&c!=this.L&&c.ca.zd){c.ca.zd.df.If.add(this.L);var d=this.yj(a),h=this.zj(a),m=new Ci;Di(m,this.body,c.ca.zd,Z(.02*d,.02*h));this.Hd.push(Fg(this.dd,m))}}};b.sv=function(a,b,c,d){if(this.enabled&&
(b=this.j.sh(b))&&b!=this.L&&b.ca.zd){b.ca.zd.df.If.add(this.L);var h=this.yj(a);a=this.zj(a);var m=new Ci;Di(m,this.body,b.ca.zd,Z(.02*h,.02*a));m.J=!0;m.da=H(c);m.Z=H(d);this.Hd.push(Fg(this.dd,m))}};a.prototype.Fu=function(a){if(a!==this.behavior.Jt){this.dd.qq(Z(0,a));this.behavior.Jt=a;var b,c=this.behavior.cm.Ve();a=0;for(b=c.length;a<b;a++)c[a].ca.zd&&Rf(c[a].ca.zd,!0)}};c.Ja=new a;c.pb=new function(){}})();function Ui(a){this.j=a}
(function(){function a(){}var c=Ui.prototype;c.lb=function(a){this.behavior=a;this.j=a.j};c.lb.prototype.Ca=function(){};c.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.L=b;this.j=a.j};var b=c.ab.prototype;b.Ca=function(){this.uc=null;this.lm=-1;this.mode=this.Oc=this.Pm=this.Hi=this.Qf=this.ik=0;var a=this;this.$c||(this.Og=function(b){a.ek(b)});this.j.Qk(this.Og)};b.Pc=function(){return{uid:this.uc?this.uc.uid:-1,pa:this.ik,pd:this.Qf,msa:this.Hi,tsa:this.Pm,lka:this.Oc,m:this.mode}};
b.od=function(a){this.lm=a.uid;this.ik=a.pa;this.Qf=a.pd;this.Hi=a.msa;this.Pm=a.tsa;this.Oc=a.lka;this.mode=a.m};b.ye=function(){-1===this.lm?this.uc=null:this.uc=this.j.sh(this.lm);this.lm=-1};b.ek=function(a){this.uc==a&&(this.uc=null)};b.Pf=function(){this.uc=null;this.j.qp(this.Og)};b.ve=function(){};b.Rm=function(){if(this.uc){this.Oc!==this.L.K&&(this.Hi=Na(this.Hi+(this.L.K-this.Oc)));var a=this.L.x,b=this.L.y;if(3===this.mode||4===this.mode){var c=cb(this.L.x,this.L.y,this.uc.x,this.uc.y);
if(c>this.Qf||4===this.mode&&c<this.Qf)b=Sa(this.uc.x,this.uc.y,this.L.x,this.L.y),a=this.uc.x+Math.cos(b)*this.Qf,b=this.uc.y+Math.sin(b)*this.Qf}else a=this.uc.x+Math.cos(this.uc.K+this.ik)*this.Qf,b=this.uc.y+Math.sin(this.uc.K+this.ik)*this.Qf;this.Oc=c=Na(this.Hi+(this.uc.K-this.Pm));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.L.x===a&&this.L.y===b||(this.L.x=a,this.L.y=b,this.L.ua());0!==this.mode&&2!==this.mode||this.L.K===c||(this.L.K=c,this.L.ua())}};c.P=new function(){};
a.prototype.uu=function(a,b){if(a){var c=a.lr(this.L);c&&(this.uc=c,this.ik=Sa(c.x,c.y,this.L.x,this.L.y)-c.K,this.Qf=cb(c.x,c.y,this.L.x,this.L.y),this.Oc=this.Hi=this.L.K,this.Pm=c.K,this.mode=b)}};c.Ja=new a;c.pb=new function(){}})();function Vi(a){this.j=a}
(function(){function a(){}function c(){}var b=Vi.prototype;b.lb=function(a){this.behavior=a;this.j=a.j};b.lb.prototype.Ca=function(){this.Re=[]};b.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.L=b;this.j=a.j};var d=b.ab.prototype;d.Ca=function(){this.Kd=this.ba[0];this.Rg=this.ba[1];this.xm=0!==this.ba[2];this.vp=H(this.ba[3]);this.Mm=this.ba[4];this.pm=0!==this.ba[5];this.lp=this.ba[6];this.enabled=0!==this.ba[7];this.Ft=0!==this.ba[8];this.Ll=0;this.Ge=this.Rg;this.currentTarget=null;
this.Mo=-1;this.Sh=this.Rh=0;this.xi=[0,0,0,0];this.Qe=0;this.tj=!0;var a=this;this.$c||(this.Og=function(b){a.ek(b)});this.j.Qk(this.Og)};d.Pc=function(){var a={r:this.Kd,rof:this.Rg,re:this.xm,rs:this.vp,tm:this.Mm,pa:this.pm,ps:this.lp,en:this.enabled,lct:this.Ll,ftc:this.Ge,target:this.currentTarget?this.currentTarget.uid:-1,ox:this.Rh,oy:this.Sh,ls:this.xi,sc:this.Qe,targs:[]},b,c;b=0;for(c=this.type.Re.length;b<c;b++)a.targs.push(this.type.Re[b].Na);return a};d.od=function(a){this.Kd=a.r;this.Rg=
a.rof;this.xm=a.re;this.vp=a.rs;this.Mm=a.tm;this.pm=a.pa;this.lp=a.ps;this.enabled=a.en;this.Ll=a.lct;this.Ge=a.ftc||0;this.Mo=a.target;this.Rh=a.ox;this.Sh=a.oy;this.xi=a.ls;this.Qe=a.sc;F(this.type.Re);var b,c,d;b=0;for(c=a.targs.length;b<c;b++)(d=this.j.Bj(a.targs[b]))&&this.type.Re.push(d)};d.ye=function(){-1===this.Mo?this.currentTarget=null:this.currentTarget=this.j.sh(this.Mo)};d.ek=function(a){this.currentTarget==a&&(this.currentTarget=null)};d.Pf=function(){this.currentTarget=null;this.j.qp(this.Og)};
d.Su=function(a){4>this.Qe?(this.xi[this.Qe]=a,this.Qe++):(this.xi.shift(),this.xi.push(a))};d.Rw=function(){for(var a=0,b=0;b<this.Qe;b++)a+=this.xi[b];return a/this.Qe};d.Dr=function(a){var b=this.L,c=a.x-b.x;a=a.y-b.y;return c*c+a*a<=this.Kd*this.Kd};var f=new ya(0,0,0,0),g=[];d.Nx=function(){var a,b,c;f.left=this.L.x-this.Kd;f.top=this.L.y-this.Kd;f.right=this.L.x+this.Kd;f.bottom=this.L.y+this.Kd;if(this.Ft)this.j.ao(null,this.type.Re,f,g);else for(a=0,b=this.type.Re.length;a<b;++a)Ga(g,this.type.Re[a].D);
a=0;for(b=g.length;a<b;++a)if(c=g[a],this.Dr(c)){this.currentTarget=c;F(g);return}F(g)};d.Ox=function(){var a,b,c,d,l,n=this.L.x,p=this.L.y,q=this.Kd*this.Kd;this.currentTarget=null;f.left=n-this.Kd;f.top=p-this.Kd;f.right=n+this.Kd;f.bottom=p+this.Kd;if(this.Ft)this.j.ao(null,this.type.Re,f,g);else for(a=0,b=this.type.Re.length;a<b;++a)Ga(g,this.type.Re[a].D);a=0;for(b=g.length;a<b;++a)c=g[a],d=n-c.x,l=p-c.y,d=d*d+l*l,d<q&&(this.currentTarget=c,q=d);g.length=0};d.ve=function(){var a=this.j.xj(this.L),
b=this.j.Ed.rb,c=this.L;if(this.enabled){this.currentTarget&&!this.Dr(this.currentTarget)&&(this.currentTarget=null,this.Qe=0,this.tj=!0);b>=this.Ll+.1&&((this.Ll=b,0!==this.Mm||this.currentTarget)?1===this.Mm&&(b=this.currentTarget,this.Ox(),this.currentTarget&&this.currentTarget!==b&&(this.Qe=0,this.tj=!0,this.Rh=this.currentTarget.x,this.Sh=this.currentTarget.y,this.j.trigger(Vi.prototype.P.mq,this.L))):(this.Nx(),this.currentTarget&&(this.Qe=0,this.tj=!0,this.Rh=this.currentTarget.x,this.Sh=this.currentTarget.y,
this.j.trigger(Vi.prototype.P.mq,this.L))));this.Ge+=a;if(this.currentTarget){b=Sa(c.x,c.y,this.currentTarget.x,this.currentTarget.y);if(this.pm){var d=c.x,f=c.y,g=this.currentTarget.x,p=this.currentTarget.y,q=Sa(g,p,this.Rh,this.Sh);this.tj||this.Su(cb(g,p,this.Rh,this.Sh)/a);var v=this.Rw(),t=p-f,u=g-d,d=(v*Math.sin(q)*(d-g)-v*Math.cos(q)*(f-p))/this.lp,t=Math.asin(d/Math.sqrt(t*t+u*u))-Math.atan2(t,-u)+Math.PI;isNaN(t)||(b=t)}this.xm&&(c.K=Za(c.K,b,this.vp*a),c.ua());this.Ge>=this.Rg&&(!this.xm||
.1>=Ka(Xa(c.K,b)))&&(!this.pm||4<=this.Qe)&&(this.Ge-=this.Rg,this.Ge>=this.Rg&&(this.Ge=0),this.j.trigger(Vi.prototype.P.jq,this.L));this.currentTarget&&(this.Rh=this.currentTarget.x,this.Sh=this.currentTarget.y);this.tj=!1}this.Ge>this.Rg&&(this.Ge=this.Rg)}};a.prototype.jq=function(){return!0};a.prototype.mq=function(){return!0};b.P=new a;c.prototype.Kt=function(a){var b=this.type.Re;if(-1===b.indexOf(a)){var c,d,f;c=0;for(d=b.length;c<d;c++)if(f=b[c],f.la&&-1!==f.Oh.indexOf(a))return;b.push(a)}};
b.Ja=new c;b.pb=new function(){}})();function Wi(a){this.j=a}(function(){var a=Wi.prototype;a.lb=function(a){this.behavior=a;this.j=a.j};a.lb.prototype.Ca=function(){};a.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.L=b;this.j=a.j};a=a.ab.prototype;a.Ca=function(){};a.ve=function(){this.L.Oa();var a=this.L.yb,b=this.L.T.pc;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.j.Zg(this.L)}})();
function dd(){return[ld,fd,hd,gd,ed,jd,kd,id,Ti,Ui,md,Wi,Vi,X.prototype.P.cq,Ti.prototype.Ja.Fu,Ui.prototype.Ja.uu,Vi.prototype.Ja.Kt,X.prototype.Ja.zu,X.prototype.Ja.Du,ed.prototype.Ja.nn,ed.prototype.Ja.Bu,X.prototype.pb.Kx,X.prototype.pb.Jx,ed.prototype.Ja.Au,X.prototype.P.$t,kd.prototype.P.lq,Ti.prototype.Ja.Nt,ed.prototype.pb.Lt,ed.prototype.Ja.Ku,fd.prototype.P.aq,ed.prototype.P.Yt,ed.prototype.Ja.yu,fd.prototype.P.hn,X.prototype.P.Ut,Vi.prototype.P.jq,ed.prototype.Ja.Gu,ed.prototype.pb.tn,
X.prototype.pb.random,ed.prototype.Ja.Iu,md.prototype.Ja.Cu,ed.prototype.Ja.xu,X.prototype.pb.floor,ed.prototype.P.ju,ed.prototype.P.au,X.prototype.Ja.Wt,X.prototype.P.Tt,X.prototype.Ja.Lu,hd.prototype.Ja.rq,X.prototype.pb.Qy,X.prototype.pb.right,X.prototype.P.Rt,md.prototype.Ja.wu,X.prototype.P.Vt,X.prototype.P.Nu,ld.prototype.Ja.vu,gd.prototype.P.jn,kd.prototype.P.kq,hd.prototype.P.tu,ld.prototype.Ja.Hu]};
